import{R as y,r as w,j as l}from"./index-_uP16iPH.js";import{u as N}from"./useUpdatePagesHook-ev3Y4_b2.js";import{m as k}from"./proxy-DJqV861j.js";function I(r,t){if(r==null)return{};var e=P(r,t),n,o;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(o=0;o<s.length;o++)n=s[o],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(e[n]=r[n])}return e}function P(r,t){if(r==null)return{};var e={},n=Object.keys(r),o,s;for(s=0;s<n.length;s++)o=n[s],!(t.indexOf(o)>=0)&&(e[o]=r[o]);return e}function g(){return g=Object.assign||function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},g.apply(this,arguments)}function v(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),e.push.apply(e,n)}return e}function f(r){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?v(Object(e),!0).forEach(function(n){A(r,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):v(Object(e)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(e,n))})}return r}function A(r,t,e){return t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}const D={breakpointCols:void 0,className:void 0,columnClassName:void 0,children:void 0,columnAttrs:void 0,column:void 0},b=2;class O extends y.Component{constructor(t){super(t),this.reCalculateColumnCount=this.reCalculateColumnCount.bind(this),this.reCalculateColumnCountDebounce=this.reCalculateColumnCountDebounce.bind(this);let e;this.props.breakpointCols&&this.props.breakpointCols.default?e=this.props.breakpointCols.default:e=parseInt(this.props.breakpointCols)||b,this.state={columnCount:e}}componentDidMount(){this.reCalculateColumnCount(),window&&window.addEventListener("resize",this.reCalculateColumnCountDebounce)}componentDidUpdate(){this.reCalculateColumnCount()}componentWillUnmount(){window&&window.removeEventListener("resize",this.reCalculateColumnCountDebounce)}reCalculateColumnCountDebounce(){if(!window||!window.requestAnimationFrame){this.reCalculateColumnCount();return}window.cancelAnimationFrame&&window.cancelAnimationFrame(this._lastRecalculateAnimationFrame),this._lastRecalculateAnimationFrame=window.requestAnimationFrame(()=>{this.reCalculateColumnCount()})}reCalculateColumnCount(){const t=window&&window.innerWidth||1/0;let e=this.props.breakpointCols;typeof e!="object"&&(e={default:parseInt(e)||b});let n=1/0,o=e.default||b;for(let s in e){const i=parseInt(s);i>0&&t<=i&&i<n&&(n=i,o=e[s])}o=Math.max(1,parseInt(o)||1),this.state.columnCount!==o&&this.setState({columnCount:o})}itemsInColumns(){const t=this.state.columnCount,e=new Array(t),n=y.Children.toArray(this.props.children);for(let o=0;o<n.length;o++){const s=o%t;e[s]||(e[s]=[]),e[s].push(n[o])}return e}renderColumns(){const{column:t,columnAttrs:e={},columnClassName:n}=this.props,o=this.itemsInColumns(),s=`${100/o.length}%`;let i=n;i&&typeof i!="string"&&(this.logDeprecated('The property "columnClassName" requires a string'),typeof i=="undefined"&&(i="my-masonry-grid_column"));const c=f(f(f({},t),e),{},{style:f(f({},e.style),{},{width:s}),className:i});return o.map((d,p)=>y.createElement("div",g({},c,{key:p}),d))}logDeprecated(t){console.error("[Masonry]",t)}render(){const t=this.props,{children:e,breakpointCols:n,columnClassName:o,columnAttrs:s,column:i,className:c}=t,d=I(t,["children","breakpointCols","columnClassName","columnAttrs","column","className"]);let p=c;return typeof c!="string"&&(this.logDeprecated('The property "className" requires a string'),typeof c=="undefined"&&(p="my-masonry-grid")),y.createElement("div",g({},d,{className:p}),this.renderColumns())}}O.defaultProps=D;const S=({path:r="default"})=>{const{galleryImages:t,getGalleryByPath:e}=N(),[n,o]=w.useState(!1);w.useEffect(()=>{const u=()=>o(window.innerWidth<640);return u(),window.addEventListener("resize",u),()=>window.removeEventListener("resize",u)},[]);const s=typeof e=="function"&&e(r)||t&&(t[r]||t.default||t)||{},i=Array.isArray(s.images)?s.images:[],c=Array.isArray(s.content)?s.content:[],d=w.useMemo(()=>{if(!i.length&&!c.length)return[];const a=[...[...c,...i.map((m,C)=>({type:"image",src:m,id:`img-${C}`}))]];for(let m=a.length-1;m>0;m--){const C=Math.floor(Math.random()*(m+1));[a[m],a[C]]=[a[C],a[m]]}const x=(n?2:3)*(n?3:4);return a.slice(0,x)},[i,c,n]);if(!d.length)return l.jsx("div",{className:"flex items-center justify-center h-48 text-gray-500",children:"Loading or no data available..."});const p={default:4,1024:3,768:2,480:2},j=u=>l.jsx(O,{breakpointCols:p,className:"my-masonry-grid",columnClassName:"my-masonry-grid_column",children:d.map((a,h)=>a.type==="image"?l.jsx("div",{className:"rounded-xl shadow-md bg-white",children:l.jsx("img",{src:a.src,alt:"Gallery item",className:"w-full h-auto rounded-xl",loading:"lazy"})},`${a.id}-${u}-${h}`):l.jsx("div",{className:"rounded-xl shadow-md",style:{backgroundColor:a.bg||"#FFEB3B",minHeight:h%2===0?"10rem":"14rem",display:"flex",alignItems:"center",justifyContent:"center",padding:"2rem"},children:l.jsx("div",{className:"text-start capitalize text-white font-bold text-2xl leading-snug",children:a.content})},`${a._id||h}-${u}`))});return l.jsx("div",{className:"relative z-10 w-full overflow-hidden",children:l.jsx("div",{className:"ps-4 sm:ps-6 py-8",children:l.jsxs(k.div,{initial:{x:"0%"},animate:{x:"-50%"},transition:{duration:20,repeat:1/0,ease:"linear",repeatType:"loop"},className:"flex",style:{width:"200%"},children:[l.jsx("div",{className:"w-1/2 flex-shrink-0 ",children:j("first")}),l.jsx("div",{className:"w-1/2 flex-shrink-0 pl-",children:j("second")})]})})})};export{S as default};
