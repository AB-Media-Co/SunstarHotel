var lt=Object.defineProperty,ot=Object.defineProperties;var it=Object.getOwnPropertyDescriptors;var ie=Object.getOwnPropertySymbols;var Re=Object.prototype.hasOwnProperty,Pe=Object.prototype.propertyIsEnumerable;var Te=(t,r,a)=>r in t?lt(t,r,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[r]=a,U=(t,r)=>{for(var a in r||(r={}))Re.call(r,a)&&Te(t,a,r[a]);if(ie)for(var a of ie(r))Pe.call(r,a)&&Te(t,a,r[a]);return t},de=(t,r)=>ot(t,it(r));var H=(t,r)=>{var a={};for(var s in t)Re.call(t,s)&&r.indexOf(s)<0&&(a[s]=t[s]);if(t!=null&&ie)for(var s of ie(t))r.indexOf(s)<0&&Pe.call(t,s)&&(a[s]=t[s]);return a};var we=(t,r,a)=>new Promise((s,l)=>{var u=d=>{try{c(a.next(d))}catch(m){l(m)}},i=d=>{try{c(a.throw(d))}catch(m){l(m)}},c=d=>d.done?s(d.value):Promise.resolve(d.value).then(u,i);c((a=a.apply(t,r)).next())});import{r as o,R as g,j as e}from"./index-_uP16iPH.js";import{useGetHotels as dt}from"./useHotelHook2-DtK7Myfo.js";import{h as ct,i as ut,j as mt}from"./useDayUseRoomHook-C2P9cLxY.js";import{f as Q}from"./format-Ck-D5MMj.js";import{o as I,K as _,y as ae,n as xe,L as Z,d as xt,h as pt,i as gt,e as ht,u as Ne,g as te,T as z,p as ft,a as Ae,s as Oe,I as B,f as qe,t as Ge,c as Ie,O as Be}from"./use-is-mounted-CV_EcHzy.js";import{I as pe,i as Ee,E as Ve,l as _e,n as Ke,u as bt,a as me,b as ce,c as vt,t as yt,d as Je,e as ue,o as jt,y as wt,H as Nt,x as Et,S as kt,k as Ct,f as St,p as $t,s as Dt,g as Ue,h as Ft,q as Mt,C as Lt,P as He,z as Tt,F as Qe}from"./transition-clGD8Mzm.js";import"./index--tCPtknq.js";let Rt=o.createContext(void 0);function Pt(){return o.useContext(Rt)}let Ce=o.createContext(null);Ce.displayName="DescriptionContext";function Xe(){let t=o.useContext(Ce);if(t===null){let r=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(r,Xe),r}return t}function At(){let[t,r]=o.useState([]);return[t.length>0?t.join(" "):void 0,o.useMemo(()=>function(a){let s=I(u=>(r(i=>[...i,u]),()=>r(i=>{let c=i.slice(),d=c.indexOf(u);return d!==-1&&c.splice(d,1),c}))),l=o.useMemo(()=>({register:s,slot:a.slot,name:a.name,props:a.props,value:a.value}),[s,a.slot,a.name,a.props,a.value]);return g.createElement(Ce.Provider,{value:l},a.children)},[r])]}let Ot="p";function It(t,r){let a=o.useId(),s=Pt(),h=t,{id:l=`headlessui-description-${a}`}=h,u=H(h,["id"]),i=Xe(),c=ae(r);xe(()=>i.register(l),[l,i.register]);let d=s||!1,m=o.useMemo(()=>de(U({},i.slot),{disabled:d}),[i.slot,d]),p=de(U({ref:c},i.props),{id:l});return Z()({ourProps:p,theirProps:u,slot:m,defaultTag:Ot,name:i.name||"Description"})}let Bt=_(It),Ut=Object.assign(Bt,{}),ke=new Map,re=new Map;function ze(t){var r;let a=(r=re.get(t))!=null?r:0;return re.set(t,a+1),a!==0?()=>Ye(t):(ke.set(t,{"aria-hidden":t.getAttribute("aria-hidden"),inert:t.inert}),t.setAttribute("aria-hidden","true"),t.inert=!0,()=>Ye(t))}function Ye(t){var r;let a=(r=re.get(t))!=null?r:1;if(a===1?re.delete(t):re.set(t,a-1),a!==1)return;let s=ke.get(t);s&&(s["aria-hidden"]===null?t.removeAttribute("aria-hidden"):t.setAttribute("aria-hidden",s["aria-hidden"]),t.inert=s.inert,ke.delete(t))}function Ht(t,{allowed:r,disallowed:a}={}){let s=pe(t,"inert-others");xe(()=>{var l,u;if(!s)return;let i=pt();for(let d of(l=a==null?void 0:a())!=null?l:[])d&&i.add(ze(d));let c=(u=r==null?void 0:r())!=null?u:[];for(let d of c){if(!d)continue;let m=xt(d);if(!m)continue;let p=d.parentElement;for(;p&&p!==m.body;){for(let h of p.children)c.some(S=>h.contains(S))||i.add(ze(h));p=p.parentElement}}return i.dispose},[s,r,a])}function Se(t,r){let a=o.useRef([]),s=I(t);o.useEffect(()=>{let l=[...a.current];for(let[u,i]of r.entries())if(a.current[u]!==i){let c=s(r,l);return a.current=r,c}},[s,...r])}function zt(t){function r(){document.readyState!=="loading"&&(t(),document.removeEventListener("DOMContentLoaded",r))}typeof window!="undefined"&&typeof document!="undefined"&&(document.addEventListener("DOMContentLoaded",r),r())}let Y=[];zt(()=>{function t(r){if(!Ee(r.target)||r.target===document.body||Y[0]===r.target)return;let a=r.target;a=a.closest(gt),Y.unshift(a!=null?a:r.target),Y=Y.filter(s=>s!=null&&s.isConnected),Y.splice(10)}window.addEventListener("click",t,{capture:!0}),window.addEventListener("mousedown",t,{capture:!0}),window.addEventListener("focus",t,{capture:!0}),document.body.addEventListener("click",t,{capture:!0}),document.body.addEventListener("mousedown",t,{capture:!0}),document.body.addEventListener("focus",t,{capture:!0})});function Yt(t,r=typeof document!="undefined"?document.defaultView:null,a){let s=pe(t,"escape");Ve(r,"keydown",l=>{s&&(l.defaultPrevented||l.key===ht.Escape&&a(l))})}function Wt(){var t;let[r]=o.useState(()=>typeof window!="undefined"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[a,s]=o.useState((t=r==null?void 0:r.matches)!=null?t:!1);return xe(()=>{if(!r)return;function l(u){s(u.matches)}return r.addEventListener("change",l),()=>r.removeEventListener("change",l)},[r]),a}function Ze(t){if(!t)return new Set;if(typeof t=="function")return new Set(t());let r=new Set;for(let a of t.current)yt(a.current)&&r.add(a.current);return r}let qt="div";var V=(t=>(t[t.None=0]="None",t[t.InitialFocus=1]="InitialFocus",t[t.TabLock=2]="TabLock",t[t.FocusLock=4]="FocusLock",t[t.RestoreFocus=8]="RestoreFocus",t[t.AutoFocus=16]="AutoFocus",t))(V||{});function Gt(t,r){let a=o.useRef(null),s=ae(a,r),A=t,{initialFocus:l,initialFocusFallback:u,containers:i,features:c=15}=A,d=H(A,["initialFocus","initialFocusFallback","containers","features"]);_e()||(c=0);let m=Ke(a);Jt(c,{ownerDocument:m});let p=Qt(c,{ownerDocument:m,container:a,initialFocus:l,initialFocusFallback:u});Xt(c,{ownerDocument:m,container:a,containers:i,previousActiveElement:p});let h=bt(),S=I(w=>{if(!me(a.current))return;let v=a.current;(D=>D())(()=>{Ne(h.current,{[ce.Forwards]:()=>{te(v,z.First,{skipElements:[w.relatedTarget,u]})},[ce.Backwards]:()=>{te(v,z.Last,{skipElements:[w.relatedTarget,u]})}})})}),$=pe(!!(c&2),"focus-trap#tab-lock"),b=ft(),N=o.useRef(!1),k={ref:s,onKeyDown(w){w.key=="Tab"&&(N.current=!0,b.requestAnimationFrame(()=>{N.current=!1}))},onBlur(w){if(!(c&4))return;let v=Ze(i);me(a.current)&&v.add(a.current);let D=w.relatedTarget;Ee(D)&&D.dataset.headlessuiFocusGuard!=="true"&&(et(v,D)||(N.current?te(a.current,Ne(h.current,{[ce.Forwards]:()=>z.Next,[ce.Backwards]:()=>z.Previous})|z.WrapAround,{relativeTo:w.target}):Ee(w.target)&&B(w.target)))}},j=Z();return g.createElement(g.Fragment,null,$&&g.createElement(Ae,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:S,features:Oe.Focusable}),j({ourProps:k,theirProps:d,defaultTag:qt,name:"FocusTrap"}),$&&g.createElement(Ae,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:S,features:Oe.Focusable}))}let Vt=_(Gt),_t=Object.assign(Vt,{features:V});function Kt(t=!0){let r=o.useRef(Y.slice());return Se(([a],[s])=>{s===!0&&a===!1&&Ge(()=>{r.current.splice(0)}),s===!1&&a===!0&&(r.current=Y.slice())},[t,Y,r]),I(()=>{var a;return(a=r.current.find(s=>s!=null&&s.isConnected))!=null?a:null})}function Jt(t,{ownerDocument:r}){let a=!!(t&8),s=Kt(a);Se(()=>{a||(r==null?void 0:r.activeElement)===(r==null?void 0:r.body)&&B(s())},[a]),vt(()=>{a&&B(s())})}function Qt(t,{ownerDocument:r,container:a,initialFocus:s,initialFocusFallback:l}){let u=o.useRef(null),i=pe(!!(t&1),"focus-trap#initial-focus"),c=qe();return Se(()=>{if(t===0)return;if(!i){l!=null&&l.current&&B(l.current);return}let d=a.current;d&&Ge(()=>{if(!c.current)return;let m=r==null?void 0:r.activeElement;if(s!=null&&s.current){if((s==null?void 0:s.current)===m){u.current=m;return}}else if(d.contains(m)){u.current=m;return}if(s!=null&&s.current)B(s.current);else{if(t&16){if(te(d,z.First|z.AutoFocus)!==Ie.Error)return}else if(te(d,z.First)!==Ie.Error)return;if(l!=null&&l.current&&(B(l.current),(r==null?void 0:r.activeElement)===l.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}u.current=r==null?void 0:r.activeElement})},[l,i,t]),u}function Xt(t,{ownerDocument:r,container:a,containers:s,previousActiveElement:l}){let u=qe(),i=!!(t&4);Ve(r==null?void 0:r.defaultView,"focus",c=>{if(!i||!u.current)return;let d=Ze(s);me(a.current)&&d.add(a.current);let m=l.current;if(!m)return;let p=c.target;me(p)?et(d,p)?(l.current=p,B(p)):(c.preventDefault(),c.stopPropagation(),B(m)):B(l.current)},!0)}function et(t,r){for(let a of t)if(a.contains(r))return!0;return!1}var Zt=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(Zt||{}),er=(t=>(t[t.SetTitleId=0]="SetTitleId",t))(er||{});let tr={0(t,r){return t.titleId===r.id?t:de(U({},t),{titleId:r.id})}},$e=o.createContext(null);$e.displayName="DialogContext";function ge(t){let r=o.useContext($e);if(r===null){let a=new Error(`<${t} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(a,ge),a}return r}function rr(t,r){return Ne(r.type,tr,t,r)}let We=_(function(t,r){let a=o.useId(),oe=t,{id:s=`headlessui-dialog-${a}`,open:l,onClose:u,initialFocus:i,role:c="dialog",autoFocus:d=!0,__demoMode:m=!1,unmount:p=!1}=oe,h=H(oe,["id","open","onClose","initialFocus","role","autoFocus","__demoMode","unmount"]),S=o.useRef(!1);c=function(){return c==="dialog"||c==="alertdialog"?c:(S.current||(S.current=!0,console.warn(`Invalid role [${c}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let $=Je();l===void 0&&$!==null&&(l=($&ue.Open)===ue.Open);let b=o.useRef(null),N=ae(b,r),k=Ke(b),j=l?0:1,[A,w]=o.useReducer(rr,{titleId:null,descriptionId:null,panelRef:o.createRef()}),v=I(()=>u(!1)),D=I(f=>w({type:0,id:f})),T=_e()?j===0:!1,[se,K]=jt(),ne={get current(){var f;return(f=A.panelRef.current)!=null?f:b.current}},J=wt(),{resolveContainers:F}=Nt({mainTreeNode:J,portals:se,defaultContainers:[ne]}),R=$!==null?($&ue.Closing)===ue.Closing:!1;Ht(m||R?!1:T,{allowed:I(()=>{var f,ve;return[(ve=(f=b.current)==null?void 0:f.closest("[data-headlessui-portal]"))!=null?ve:null]}),disallowed:I(()=>{var f;return[(f=J==null?void 0:J.closest("body > *:not(#headlessui-portal-root)"))!=null?f:null]})});let C=Et.get(null);xe(()=>{if(T)return C.actions.push(s),()=>C.actions.pop(s)},[C,s,T]);let le=kt(C,o.useCallback(f=>C.selectors.isTop(f,s),[C,s]));Ct(le,F,f=>{f.preventDefault(),v()}),Yt(le,k==null?void 0:k.defaultView,f=>{f.preventDefault(),f.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),v()}),St(m||R?!1:T,k,F),$t(T,b,v);let[M,W]=At(),he=o.useMemo(()=>[{dialogState:j,close:v,setTitleId:D,unmount:p},A],[j,A,v,D,p]),O=o.useMemo(()=>({open:j===0}),[j]),q={ref:N,id:s,role:c,tabIndex:-1,"aria-modal":m?void 0:j===0?!0:void 0,"aria-labelledby":A.titleId,"aria-describedby":M,unmount:p},fe=!Wt(),G=V.None;T&&!m&&(G|=V.RestoreFocus,G|=V.TabLock,d&&(G|=V.AutoFocus),fe&&(G|=V.InitialFocus));let be=Z();return g.createElement(Dt,null,g.createElement(Ue,{force:!0},g.createElement(Ft,null,g.createElement($e.Provider,{value:he},g.createElement(Mt,{target:b},g.createElement(Ue,{force:!1},g.createElement(W,{slot:O},g.createElement(K,null,g.createElement(_t,{initialFocus:i,initialFocusFallback:b,containers:F,features:G},g.createElement(Lt,{value:v},be({ourProps:q,theirProps:h,slot:O,defaultTag:ar,features:sr,visible:j===0,name:"Dialog"})))))))))))}),ar="div",sr=Be.RenderStrategy|Be.Static;function nr(t,r){let d=t,{transition:a=!1,open:s}=d,l=H(d,["transition","open"]),u=Je(),i=t.hasOwnProperty("open")||u!==null,c=t.hasOwnProperty("onClose");if(!i&&!c)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!i)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!c)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!u&&typeof t.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${t.open}`);if(typeof t.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${t.onClose}`);return(s!==void 0||a)&&!l.static?g.createElement(He,null,g.createElement(Tt,{show:s,transition:a,unmount:l.unmount},g.createElement(We,U({ref:r},l)))):g.createElement(He,null,g.createElement(We,U({ref:r,open:s},l)))}let lr="div";function or(t,r){let a=o.useId(),k=t,{id:s=`headlessui-dialog-panel-${a}`,transition:l=!1}=k,u=H(k,["id","transition"]),[{dialogState:i,unmount:c},d]=ge("Dialog.Panel"),m=ae(r,d.panelRef),p=o.useMemo(()=>({open:i===0}),[i]),h=I(j=>{j.stopPropagation()}),S={ref:m,id:s,onClick:h},$=l?Qe:o.Fragment,b=l?{unmount:c}:{},N=Z();return g.createElement($,U({},b),N({ourProps:S,theirProps:u,slot:p,defaultTag:lr,name:"Dialog.Panel"}))}let ir="div";function dr(t,r){let h=t,{transition:a=!1}=h,s=H(h,["transition"]),[{dialogState:l,unmount:u}]=ge("Dialog.Backdrop"),i=o.useMemo(()=>({open:l===0}),[l]),c={ref:r,"aria-hidden":!0},d=a?Qe:o.Fragment,m=a?{unmount:u}:{},p=Z();return g.createElement(d,U({},m),p({ourProps:c,theirProps:s,slot:i,defaultTag:ir,name:"Dialog.Backdrop"}))}let cr="h2";function ur(t,r){let a=o.useId(),p=t,{id:s=`headlessui-dialog-title-${a}`}=p,l=H(p,["id"]),[{dialogState:u,setTitleId:i}]=ge("Dialog.Title"),c=ae(r);o.useEffect(()=>(i(s),()=>i(null)),[s,i]);let d=o.useMemo(()=>({open:u===0}),[u]),m={ref:c,id:s};return Z()({ourProps:m,theirProps:l,slot:d,defaultTag:cr,name:"Dialog.Title"})}let mr=_(nr),xr=_(or);_(dr);let pr=_(ur),X=Object.assign(mr,{Panel:xr,Title:pr,Description:Ut});const Er=()=>{var De,Fe,Me,Le;const[t,r]=o.useState(""),[a,s]=o.useState(""),[l,u]=o.useState(null),[i,c]=o.useState(null),[d,m]=o.useState(""),[p,h]=o.useState(!1),[S,$]=o.useState(""),[b,N]=o.useState(""),[k,j]=o.useState(""),[A,w]=o.useState(!1),[v,D]=o.useState([]),[T,se]=o.useState(""),[K,ne]=o.useState(""),[J,F]=o.useState(""),{data:R,isLoading:C,error:le}=dt(),{data:M,isLoading:W,error:he}=ct(a,t),O=ut(),q=mt();o.useEffect(()=>{if(k){const n=setTimeout(()=>j(""),5e3);return()=>clearTimeout(n)}},[k]),o.useEffect(()=>{if(b){const n=setTimeout(()=>N(""),5e3);return()=>clearTimeout(n)}},[b]);const fe=(n,x,y,E)=>{c(n),u(x),m(y),$(E),h(!0),N("")},G=()=>{w(!0),D([]),se(""),ne(""),F("")},be=n=>{D(x=>x.includes(n)?x.filter(y=>y!==n):[...x,n]),F("")},oe=()=>we(void 0,null,function*(){var n;if(F(""),!T||v.length===0||K===""){F("Please select date, hotels, and availability");return}if(Number(K)<0){F("Availability cannot be negative");return}try{const x=[];if((n=M==null?void 0:M.data)==null||n.forEach(E=>{var P,L,ee;v.includes((L=(P=E.hotel)==null?void 0:P.hotelCode)==null?void 0:L.toString())&&x.push({hotelCode:E.hotel.hotelCode.toString(),roomName:(ee=E.room)==null?void 0:ee.RoomName,timeSlot:"Full Day",availability:Number(K)})}),x.length===0){F("No rooms found for selected hotels");return}const y={date:T,updates:x};yield q.mutateAsync(y),j(`Successfully updated ${x.length} room(s) for ${v.length} hotel(s)`),w(!1)}catch(x){F("Failed to update rooms. Please try again.")}});o.useEffect(()=>{const x=Q(new Date,"yyyy-MM");a||s(x)},[R,t,a]);const f=()=>we(void 0,null,function*(){if(N(""),!d||Number(d)<0){N("Please enter a valid availability number");return}try{yield O.mutateAsync({hotelCode:S,roomName:i==null?void 0:i.RoomName,date:l,timeSlot:"Full Day",availability:Number(d)}),j("Room availability updated successfully"),h(!1)}catch(n){N("Failed to update availability. Please try again.")}}),tt=(()=>{const n=new Date,x=[];for(let y=0;y<12;y++){const E=new Date(n.getFullYear(),n.getMonth()+y,1),P=Q(E,"yyyy-MM"),L=Q(E,"MMMM yyyy");x.push({value:P,label:L})}return x})(),rt=(()=>{const n=new Date,x=[];for(let y=0;y<30;y++){const E=new Date(n.getTime()+y*24*60*60*1e3),P=Q(E,"yyyy-MM-dd"),L=Q(E,"dd MMM yyyy");x.push({value:P,label:L})}return x})(),at=({size:n="md",text:x="Loading..."})=>{const y={sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12"};return e.jsxs("div",{className:"flex items-center justify-center p-8",children:[e.jsx("div",{className:`animate-spin rounded-full ${y[n]} border-b-2 border-blue-600`}),e.jsx("span",{className:"ml-2 text-gray-600",children:x})]})},st=()=>e.jsx("div",{className:"fixed inset-0 bg-white bg-opacity-75 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsx("div",{className:"bg-white rounded-xl shadow-2xl p-8 max-w-sm w-full mx-4",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-blue-600 border-t-transparent mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Processing Request"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Please wait while we update your data..."})]})})}),ye=()=>e.jsxs("div",{className:"bg-white shadow-sm rounded-xl mb-6 border border-gray-100 overflow-hidden animate-pulse",children:[e.jsx("div",{className:"bg-gray-200 px-6 py-4",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("div",{className:"h-6 bg-gray-300 rounded w-48 mb-2"}),e.jsx("div",{className:"h-4 bg-gray-300 rounded w-32"})]})})}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-7 gap-3",children:[...Array(14)].map((n,x)=>e.jsx("div",{className:"p-4 rounded-lg border bg-gray-100",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"h-4 bg-gray-300 rounded w-12 mx-auto mb-2"}),e.jsx("div",{className:"h-3 bg-gray-300 rounded w-8 mx-auto mb-1"}),e.jsx("div",{className:"h-3 bg-gray-300 rounded w-10 mx-auto"})]})},x))})})]}),je=({message:n,onClose:x})=>e.jsxs("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm font-medium text-red-800",children:n})})]}),e.jsx("button",{onClick:x,className:"ml-4 text-red-400 hover:text-red-600",children:e.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),nt=({message:n,onClose:x})=>e.jsxs("div",{className:"mb-4 p-4 bg-green-50 border border-green-200 rounded-lg flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-green-400",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm font-medium text-green-800",children:n})})]}),e.jsx("button",{onClick:x,className:"ml-4 text-green-400 hover:text-green-600",children:e.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]});return C?e.jsx("div",{className:"p-6 mt-20 bg-gradient-to-br from-blue-50 to-indigo-100 min-h-screen",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"animate-pulse",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6",children:[e.jsxs("div",{children:[e.jsx("div",{className:"h-8 bg-gray-300 rounded w-80 mb-2"}),e.jsx("div",{className:"h-4 bg-gray-300 rounded w-64"})]}),e.jsx("div",{className:"h-10 bg-gray-300 rounded w-32 mt-4 sm:mt-0"})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 mb-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"h-4 bg-gray-300 rounded w-24 mb-2"}),e.jsx("div",{className:"h-12 bg-gray-300 rounded w-full"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"h-4 bg-gray-300 rounded w-24 mb-2"}),e.jsx("div",{className:"h-12 bg-gray-300 rounded w-full"})]})]})})]}),e.jsx(at,{size:"lg",text:"Loading hotels and room data..."})]})}):le?e.jsx("div",{className:"p-6 mt-20 bg-gradient-to-br from-blue-50 to-indigo-100 min-h-screen",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Day Use Room Management"}),e.jsx(je,{message:"Failed to load hotels. Please refresh the page.",onClose:()=>{}})]})}):e.jsx("div",{className:"p-6 mt-20 bg-gradient-to-br from-blue-50 to-indigo-100 min-h-screen",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Day Use Room Management"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Manage room availability across your properties"})]}),e.jsx("button",{onClick:G,disabled:W||C,className:"mt-4 sm:mt-0 px-6 py-2 bg-gradient-to-r from-purple-600 to-purple-700 text-white rounded-lg hover:from-purple-700 hover:to-purple-800 transition-all duration-200 font-medium shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:W||C?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Loading..."]}):"Bulk Update"})]}),b&&e.jsx(je,{message:b,onClose:()=>N("")}),k&&e.jsx(nt,{message:k,onClose:()=>j("")}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 mb-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hotel Selection"}),e.jsxs("select",{value:t,onChange:n=>r(n.target.value),disabled:C,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx("option",{value:"",children:C?"Loading hotels...":"All Hotels"}),(De=R==null?void 0:R.hotels)==null?void 0:De.map(n=>e.jsx("option",{value:n.hotelCode.toString(),children:n.name},n.hotelCode))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Month Selection"}),e.jsxs("select",{value:a,onChange:n=>s(n.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",children:[e.jsx("option",{value:"",children:"Select Month"}),tt.map(n=>e.jsx("option",{value:n.value,children:n.label},n.value))]})]})]})}),W&&e.jsxs("div",{className:"space-y-6",children:[e.jsx(ye,{}),e.jsx(ye,{}),e.jsx(ye,{})]}),(O.isLoading||q.isLoading)&&e.jsx(st,{}),he&&e.jsx(je,{message:"Failed to load room data. Please try again.",onClose:()=>{}}),!W&&((Fe=M==null?void 0:M.data)==null?void 0:Fe.length)===0&&e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-8 text-center",children:[e.jsx("div",{className:"text-gray-400 text-6xl mb-4",children:"ðŸ¨"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Room Data Found"}),e.jsx("p",{className:"text-gray-600",children:"Select a hotel and month to view room availability"})]}),!W&&((Me=M==null?void 0:M.data)==null?void 0:Me.map((n,x)=>{var y,E;return e.jsxs("div",{className:"bg-white shadow-sm rounded-xl mb-6 border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-white",children:((y=n.hotel)==null?void 0:y.name)||"Unknown Hotel"}),e.jsx("p",{className:"text-blue-100 text-sm",children:((E=n.room)==null?void 0:E.RoomName)||"Unknown Room"})]}),n.error&&e.jsx("div",{className:"bg-red-500 text-white px-3 py-1 rounded-full text-sm font-medium",children:"Error"})]})}),e.jsx("div",{className:"p-6",children:n.error?e.jsx("div",{className:"text-red-600 bg-red-50 border border-red-200 rounded-lg p-4 text-center",children:e.jsx("p",{className:"font-medium",children:n.error})}):n.monthData?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-6 mb-4 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 rounded-full bg-green-500"}),e.jsx("span",{className:"text-gray-700",children:"Available"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 rounded-full bg-red-500"}),e.jsx("span",{className:"text-gray-700",children:"Sold Out"})]})]}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-7 gap-3",children:Object.entries(n.monthData).map(([P,L])=>e.jsx("div",{className:`p-4 rounded-lg border cursor-pointer transition-all duration-200 hover:shadow-md transform hover:-translate-y-1 ${L.soldOut?"bg-red-50 border-red-200 hover:bg-red-100":"bg-green-50 border-green-200 hover:bg-green-100"} ${O.isLoading?"pointer-events-none opacity-50":""}`,onClick:()=>{var ee;return fe(n.room,P,L.availability,(ee=n==null?void 0:n.hotel)==null?void 0:ee.hotelCode)},children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-sm font-semibold text-gray-800 mb-1",children:Q(new Date(P),"dd MMM")}),e.jsxs("div",{className:"text-xs text-gray-600 mb-1",children:["â‚¹",L.rate]}),e.jsxs("div",{className:"text-xs font-medium text-gray-700",children:[L.availability," rooms"]})]})},P))})]}):e.jsx("div",{className:"text-gray-500 text-center py-8",children:"No data available for this period"})})]},x)})),e.jsxs(X,{open:p,onClose:()=>h(!1),className:"relative z-50",children:[e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm","aria-hidden":"true"}),e.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:e.jsxs(X.Panel,{className:"w-full max-w-md rounded-xl bg-white p-6 shadow-2xl",children:[e.jsx(X.Title,{className:"text-xl font-semibold text-gray-900 mb-4",children:"Update Room Availability"}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Room:"}),e.jsx("p",{className:"font-medium text-gray-900",children:i==null?void 0:i.RoomName}),e.jsx("p",{className:"text-sm text-gray-600 mt-2 mb-1",children:"Date:"}),e.jsx("p",{className:"font-medium text-gray-900",children:l})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Availability"}),e.jsx("input",{type:"number",min:"0",value:d,onChange:n=>m(n.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"Enter new availability"})]}),b&&e.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:e.jsx("p",{className:"text-sm text-red-800",children:b})}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx("button",{onClick:()=>h(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors duration-200",children:"Cancel"}),e.jsxs("button",{onClick:f,disabled:O.isLoading,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[O.isLoading&&e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),O.isLoading?"Saving...":"Save Changes"]})]})]})})]}),e.jsxs(X,{open:A,onClose:()=>w(!1),className:"relative z-50",children:[e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm","aria-hidden":"true"}),e.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:e.jsxs(X.Panel,{className:"w-full max-w-2xl rounded-xl bg-white p-6 shadow-2xl max-h-[90vh] overflow-y-auto",children:[e.jsx(X.Title,{className:"text-xl font-semibold text-gray-900 mb-6",children:"Bulk Update Room Availability"}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Date"}),e.jsxs("select",{value:T,onChange:n=>se(n.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200",children:[e.jsx("option",{value:"",children:"Choose a date"}),rt.map(n=>e.jsx("option",{value:n.value,children:n.label},n.value))]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Select Hotels",e.jsxs("span",{className:"ml-2 px-2 py-1 bg-purple-100 text-purple-800 rounded-full text-xs",children:[v.length," selected"]})]}),e.jsx("div",{className:"max-h-48 overflow-y-auto border border-gray-300 rounded-lg p-3 bg-gray-50",children:(Le=R==null?void 0:R.hotels)==null?void 0:Le.filter(n=>n==null?void 0:n.isDayUseRoom).map(n=>e.jsxs("div",{className:"flex items-center p-2 hover:bg-white rounded-lg transition-colors duration-200",children:[e.jsx("input",{type:"checkbox",id:`hotel-${n.hotelCode}`,checked:v.includes(n.hotelCode.toString()),onChange:()=>be(n.hotelCode.toString()),className:"h-4 w-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500"}),e.jsx("label",{htmlFor:`hotel-${n.hotelCode}`,className:"ml-3 text-sm text-gray-700 cursor-pointer flex-1",children:n.name})]},n.hotelCode))})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Availability"}),e.jsx("input",{type:"number",min:"0",value:K,onChange:n=>ne(n.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200",placeholder:"Enter availability for all selected hotels"})]}),J&&e.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:e.jsx("p",{className:"text-sm text-red-800",children:J})}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx("button",{onClick:()=>w(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors duration-200",children:"Cancel"}),e.jsxs("button",{onClick:oe,disabled:q.isLoading,className:"px-6 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[q.isLoading&&e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),q.isLoading?"Updating...":"Update All Hotels"]})]})]})})]})]})})};export{Er as default};
