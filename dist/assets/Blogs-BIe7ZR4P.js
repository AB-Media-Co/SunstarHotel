import{r as n,c as L,j as t}from"./index-DySQldRg.js";import{H as T}from"./Helmet-DbOdcC7N.js";import{S as E}from"./Search-KreGZqMO.js";import{u as I}from"./useBlogs2-Co91L6sI.js";import"./index-J9csijL0.js";import"./createSvgIcon-BLKtOz33.js";import"./clsx-B-dksMZM.js";const F=a=>a?a.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").replace(/^-+|-+$/g,""):"",H=["Hospitality","First-Time Visitors","Location & Access","Hotel Features","Travel Tips","Nearby Tours","Shopping","Wellness","Guest Stories","Dining","Tourism & Culture","Day Trips","Events & Festivities","International Travel","Local Life","Behind the Scenes","Luxury on Budget","Sustainability","Travel Essentials","Scam Awareness"],W=()=>{var u,x;n.useEffect(()=>{window.scrollTo(0,0)},[]);const[a,p]=n.useState(""),[o,f]=n.useState([]),{data:s,isLoading:y}=I({status:"all"});console.log(s);const[j,m]=n.useState(!1),[v,b]=n.useState([]);n.useEffect(()=>{if(s!=null&&s.blogs){m(!0);try{let e=[...s==null?void 0:s.blogs];if(a){const r=a.toLowerCase();e=e.filter(i=>{var c,g,h;return((c=i.title)==null?void 0:c.toLowerCase().includes(r))||((g=i.content)==null?void 0:g.toLowerCase().includes(r))||((h=i.category)==null?void 0:h.toLowerCase().includes(r))})}o.length>0&&(e=e.filter(r=>o.includes(r.category))),b(e)}catch(e){console.error("Error filtering blogs:",e)}finally{m(!1)}}},[s,a,o]);const l={data:o.length>0||a?v:s==null?void 0:s.blogs},w=y||j,N=L(),S=e=>{N(`/sunstar-blogs/${F(e==null?void 0:e.title)}`,{state:{blog:e}})},k=e=>{f(r=>r.includes(e)?r.filter(i=>i!==e):[...r,e])},C=e=>{e.preventDefault()},d=Array.from(new Set((u=s==null?void 0:s.blogs)==null?void 0:u.map(e=>e.category).filter(Boolean)));return t.jsxs(t.Fragment,{children:[t.jsxs(T,{children:[t.jsx("title",{children:"Sunstar Hotel Blogs"}),t.jsx("meta",{name:"description",content:"Blogs for Sunstar Hotel."}),t.jsx("meta",{name:"keywords",content:"hotel, blogs, sunstar, travel"})]}),t.jsx("section",{className:"bg-primary-green text-white pt-28 pb-10",children:t.jsxs("div",{className:"content flex flex-col gap-12 mx-auto px-4 w-full",children:[t.jsxs("div",{className:"flex justify-between flex-col md:flex-row gap-4 items-center w-full",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-mobile/h3 md:text-desktop/h3 mb-4 animate-fade-in-down",children:"Blogs & Buzz"}),t.jsx("p",{className:"text-mobile/body/2 md:text-desktop/body/1 animate-fade-in-up",children:"Discover our latest stories, travel tips, and hotel experiences"})]}),t.jsxs("form",{onSubmit:C,className:"relative w-full max-w-lg",children:[t.jsx("button",{type:"submit",className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-500",children:t.jsx(E,{})}),t.jsx("input",{type:"text",placeholder:"Search by keyword, city, delhi, yoga, leisure travel",value:a,onChange:e=>p(e.target.value),className:"w-full rounded-lg px-4 py-4 pl-12 border focus:outline-none text-black",style:{maxWidth:"100%"}})]})]}),t.jsx("div",{className:"flex flex-wrap gap-2",children:H.filter(e=>d==null?void 0:d.includes(e)).map(e=>t.jsx("button",{onClick:()=>k(e),className:`px-4 py-2 rounded-full transition-colors duration-300  
                    ${o.includes(e)?"bg-primary-dark-green text-white":"text-white hover:bg-primary-dark-green hover:text-white hover:border-0 border border-white"}`,children:e},e))})]})}),t.jsx("div",{className:"bg-white",children:t.jsxs("section",{className:"py-16 content mx-auto px-4",children:[t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:(x=l==null?void 0:l.data)==null?void 0:x.map(e=>{var r,i;return t.jsxs("div",{className:"relative overflow-hidden rounded-xl shadow-lg cursor-pointer group",onClick:()=>S(e),children:[((r=e.featuredImage)==null?void 0:r.url)&&t.jsx("img",{src:(i=e.featuredImage)==null?void 0:i.url,alt:e.title,className:"w-full h-64 object-cover transform transition duration-300 group-hover:scale-105",onError:c=>c.target.src="/fallback-image.jpg"}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-transparent to-transparent opacity-70 group-hover:opacity-80 transition duration-300"}),t.jsxs("div",{className:"absolute bottom-4 left-4",children:[t.jsx("h2",{className:"text-white text-lg md:text-xl font-bold",children:e.title}),e.category&&t.jsx("span",{className:"text-white text-sm bg-primary-dark-green px-2 py-1 rounded-full mt-2 inline-block",children:e.category})]})]},e._id)})}),w?t.jsx("div",{className:"mx-auto flex w-full justify-center items-center",children:t.jsx("img",{src:"/images/Logo/spinner.svg",alt:""})}):(!(l!=null&&l.data)||l.data.length===0)&&t.jsx("div",{className:"text-center py-12",children:t.jsx("p",{className:"text-gray-600 text-lg",children:o.length>0||a?"No blogs available for the selected filters. Try different categories or search terms.":"No blogs available at the moment. Check back later!"})})]})}),t.jsx("div",{className:"w-full h-[10rem] bg-cover bg-center",style:{backgroundImage:"url('/images/HotelsSectionImg/Img.png')"}})]})};export{W as default};
