var st=Object.defineProperty,ct=Object.defineProperties;var dt=Object.getOwnPropertyDescriptors;var te=Object.getOwnPropertySymbols;var Re=Object.prototype.hasOwnProperty,Oe=Object.prototype.propertyIsEnumerable;var xe=(e,t,n)=>t in e?st(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,R=(e,t)=>{for(var n in t||(t={}))Re.call(t,n)&&xe(e,n,t[n]);if(te)for(var n of te(t))Oe.call(t,n)&&xe(e,n,t[n]);return e},F=(e,t)=>ct(e,dt(t));var H=(e,t)=>{var n={};for(var r in e)Re.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&te)for(var r of te(e))t.indexOf(r)<0&&Oe.call(e,r)&&(n[r]=e[r]);return n};import{r as a,R as E,t as ft,w as ke}from"./index-AsfY2M-N.js";import{h as D,u as ge,o as y,n as L,b as I,A as ht,j as pt,d as De,p as Ie,t as vt,k as Y,K as U,y as G,l as mt,L as K,a as gt,s as bt,O as Et,m as j,q as yt,r as wt,f as $t}from"./use-is-mounted-iPoWGdhQ.js";import{r as St}from"./index-CLRDah4M.js";function Ue(e){return typeof e!="object"||e===null?!1:"nodeType"in e}function W(e){return Ue(e)&&"tagName"in e}function X(e){return W(e)&&"accessKey"in e}function B(e){return W(e)&&"tabIndex"in e}function Ct(e){return W(e)&&"style"in e}function Pt(e){return X(e)&&e.nodeName==="IFRAME"}function xt(e){return X(e)&&e.nodeName==="INPUT"}function An(e){return X(e)&&e.nodeName==="FIELDSET"}function Ln(e){return X(e)&&e.nodeName==="LEGEND"}let Rt=a.createContext(()=>{});function Fn({value:e,children:t}){return E.createElement(Rt.Provider,{value:e},t)}let Ve=class extends Map{constructor(t){super(),this.factory=t}get(t){let n=super.get(t);return n===void 0&&(n=this.factory(t),this.set(t,n)),n}};var Ot=Object.defineProperty,kt=(e,t,n)=>t in e?Ot(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Tt=(e,t,n)=>(kt(e,t+"",n),n),ze=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},P=(e,t,n)=>(ze(e,t,"read from private field"),n?n.call(e):t.get(e)),de=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},Te=(e,t,n,r)=>(ze(e,t,"write to private field"),t.set(e,n),n),A,_,q;let At=class{constructor(t){de(this,A,{}),de(this,_,new Ve(()=>new Set)),de(this,q,new Set),Tt(this,"disposables",D()),Te(this,A,t)}dispose(){this.disposables.dispose()}get state(){return P(this,A)}subscribe(t,n){let r={selector:t,callback:n,current:t(P(this,A))};return P(this,q).add(r),this.disposables.add(()=>{P(this,q).delete(r)})}on(t,n){return P(this,_).get(t).add(n),this.disposables.add(()=>{P(this,_).get(t).delete(n)})}send(t){let n=this.reduce(P(this,A),t);if(n!==P(this,A)){Te(this,A,n);for(let r of P(this,q)){let i=r.selector(P(this,A));Be(r.current,i)||(r.current=i,r.callback(i))}for(let r of P(this,_).get(t.type))r(P(this,A),t)}}};A=new WeakMap,_=new WeakMap,q=new WeakMap;function Be(e,t){return Object.is(e,t)?!0:typeof e!="object"||e===null||typeof t!="object"||t===null?!1:Array.isArray(e)&&Array.isArray(t)?e.length!==t.length?!1:fe(e[Symbol.iterator](),t[Symbol.iterator]()):e instanceof Map&&t instanceof Map||e instanceof Set&&t instanceof Set?e.size!==t.size?!1:fe(e.entries(),t.entries()):Ae(e)&&Ae(t)?fe(Object.entries(e)[Symbol.iterator](),Object.entries(t)[Symbol.iterator]()):!1}function fe(e,t){do{let n=e.next(),r=t.next();if(n.done&&r.done)return!0;if(n.done||r.done||!Object.is(n.value,r.value))return!1}while(!0)}function Ae(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;let t=Object.getPrototypeOf(e);return t===null||Object.getPrototypeOf(t)===null}var Lt=Object.defineProperty,Ft=(e,t,n)=>t in e?Lt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Le=(e,t,n)=>(Ft(e,typeof t!="symbol"?t+"":t,n),n),jt=(e=>(e[e.Push=0]="Push",e[e.Pop=1]="Pop",e))(jt||{});let Mt={0(e,t){let n=t.id,r=e.stack,i=e.stack.indexOf(n);if(i!==-1){let o=e.stack.slice();return o.splice(i,1),o.push(n),r=o,F(R({},e),{stack:r})}return F(R({},e),{stack:[...e.stack,n]})},1(e,t){let n=t.id,r=e.stack.indexOf(n);if(r===-1)return e;let i=e.stack.slice();return i.splice(r,1),F(R({},e),{stack:i})}},Nt=class _e extends At{constructor(){super(...arguments),Le(this,"actions",{push:t=>this.send({type:0,id:t}),pop:t=>this.send({type:1,id:t})}),Le(this,"selectors",{isTop:(t,n)=>t.stack[t.stack.length-1]===n,inStack:(t,n)=>t.stack.includes(n)})}static new(){return new _e({stack:[]})}reduce(t,n){return ge(n.type,Mt,t,n)}};const Wt=new Ve(()=>Nt.new());var he={exports:{}},pe={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fe;function Ht(){if(Fe)return pe;Fe=1;var e=ft();function t(l,c){return l===c&&(l!==0||1/l===1/c)||l!==l&&c!==c}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,i=e.useRef,o=e.useEffect,s=e.useMemo,u=e.useDebugValue;return pe.useSyncExternalStoreWithSelector=function(l,c,h,m,p){var f=i(null);if(f.current===null){var d={hasValue:!1,value:null};f.current=d}else d=f.current;f=s(function(){function v($){if(!O){if(O=!0,k=$,$=m($),p!==void 0&&d.hasValue){var w=d.value;if(p(w,$))return b=w}return b=$}if(w=b,n(k,$))return w;var S=m($);return p!==void 0&&p(w,S)?(k=$,w):(k=$,b=S)}var O=!1,k,b,x=h===void 0?null:h;return[function(){return v(c())},x===null?void 0:function(){return v(x())}]},[c,h,m,p]);var g=r(l,f[0],f[1]);return o(function(){d.hasValue=!0,d.value=g},[g]),u(g),g},pe}var je;function Dt(){return je||(je=1,he.exports=Ht()),he.exports}var It=Dt();function Ut(e,t,n=Be){return It.useSyncExternalStoreWithSelector(y(r=>e.subscribe(Vt,r)),y(()=>e.state),y(()=>e.state),y(t),n)}function Vt(e){return e}function zt(e,t){let n=a.useId(),r=Wt.get(t),[i,o]=Ut(r,a.useCallback(s=>[r.selectors.isTop(s,n),r.selectors.inStack(s,n)],[r,n]));return L(()=>{if(e)return r.actions.push(n),()=>r.actions.pop(n)},[r,e,n]),e?o?i:!0:!1}function Nn(e,t,n){let r=I(i=>{let o=i.getBoundingClientRect();o.x===0&&o.y===0&&o.width===0&&o.height===0&&n()});a.useEffect(()=>{if(!e)return;let i=t===null?null:X(t)?t:t.current;if(!i)return;let o=D();if(typeof ResizeObserver!="undefined"){let s=new ResizeObserver(()=>r.current(i));s.observe(i),o.add(()=>s.disconnect())}if(typeof IntersectionObserver!="undefined"){let s=new IntersectionObserver(()=>r.current(i));s.observe(i),o.add(()=>s.disconnect())}return()=>o.dispose()},[t,r,e])}function qe(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function Bt(){return/Android/gi.test(window.navigator.userAgent)}function Me(){return qe()||Bt()}function ne(e,t,n,r){let i=I(n);a.useEffect(()=>{if(!e)return;function o(s){i.current(s)}return document.addEventListener(t,o,r),()=>document.removeEventListener(t,o,r)},[e,t,r])}function Ye(e,t,n,r){let i=I(n);a.useEffect(()=>{if(!e)return;function o(s){i.current(s)}return window.addEventListener(t,o,r),()=>window.removeEventListener(t,o,r)},[e,t,r])}const Ne=30;function Wn(e,t,n){let r=I(n),i=a.useCallback(function(u,l){if(u.defaultPrevented)return;let c=l(u);if(c===null||!c.getRootNode().contains(c)||!c.isConnected)return;let h=function m(p){return typeof p=="function"?m(p()):Array.isArray(p)||p instanceof Set?p:[p]}(t);for(let m of h)if(m!==null&&(m.contains(c)||u.composed&&u.composedPath().includes(m)))return;return!ht(c,pt.Loose)&&c.tabIndex!==-1&&u.preventDefault(),r.current(u,c)},[r,t]),o=a.useRef(null);ne(e,"pointerdown",u=>{var l,c;Me()||(o.current=((c=(l=u.composedPath)==null?void 0:l.call(u))==null?void 0:c[0])||u.target)},!0),ne(e,"pointerup",u=>{if(Me()||!o.current)return;let l=o.current;return o.current=null,i(u,()=>l)},!0);let s=a.useRef({x:0,y:0});ne(e,"touchstart",u=>{s.current.x=u.touches[0].clientX,s.current.y=u.touches[0].clientY},!0),ne(e,"touchend",u=>{let l={x:u.changedTouches[0].clientX,y:u.changedTouches[0].clientY};if(!(Math.abs(l.x-s.current.x)>=Ne||Math.abs(l.y-s.current.y)>=Ne))return i(u,()=>B(u.target)?u.target:null)},!0),Ye(e,"blur",u=>i(u,()=>Pt(window.document.activeElement)?window.document.activeElement:null),!0)}function Ge(...e){return a.useMemo(()=>De(...e),[...e])}function Hn(e,t,n,r){let i=I(n);a.useEffect(()=>{e=e!=null?e:window;function o(s){i.current(s)}return e.addEventListener(t,o,r),()=>e.removeEventListener(t,o,r)},[e,t,r])}function _t(e){return a.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getSnapshot)}function qt(e,t){let n=e(),r=new Set;return{getSnapshot(){return n},subscribe(i){return r.add(i),()=>r.delete(i)},dispatch(i,...o){let s=t[i].call(n,...o);s&&(n=s,r.forEach(u=>u()))}}}function Yt(){let e;return{before({doc:t}){var n;let r=t.documentElement,i=(n=t.defaultView)!=null?n:window;e=Math.max(0,i.innerWidth-r.clientWidth)},after({doc:t,d:n}){let r=t.documentElement,i=Math.max(0,r.clientWidth-r.offsetWidth),o=Math.max(0,e-i);n.style(r,"paddingRight",`${o}px`)}}}function Gt(){return qe()?{before({doc:e,d:t,meta:n}){function r(i){return n.containers.flatMap(o=>o()).some(o=>o.contains(i))}t.microTask(()=>{var i;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let u=D();u.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>u.dispose()))}let o=(i=window.scrollY)!=null?i:window.pageYOffset,s=null;t.addEventListener(e,"click",u=>{if(B(u.target))try{let l=u.target.closest("a");if(!l)return;let{hash:c}=new URL(l.href),h=e.querySelector(c);B(h)&&!r(h)&&(s=h)}catch(l){}},!0),t.addEventListener(e,"touchstart",u=>{if(B(u.target)&&Ct(u.target))if(r(u.target)){let l=u.target;for(;l.parentElement&&r(l.parentElement);)l=l.parentElement;t.style(l,"overscrollBehavior","contain")}else t.style(u.target,"touchAction","none")}),t.addEventListener(e,"touchmove",u=>{if(B(u.target)){if(xt(u.target))return;if(r(u.target)){let l=u.target;for(;l.parentElement&&l.dataset.headlessuiPortal!==""&&!(l.scrollHeight>l.clientHeight||l.scrollWidth>l.clientWidth);)l=l.parentElement;l.dataset.headlessuiPortal===""&&u.preventDefault()}else u.preventDefault()}},{passive:!1}),t.add(()=>{var u;let l=(u=window.scrollY)!=null?u:window.pageYOffset;o!==l&&window.scrollTo(0,o),s&&s.isConnected&&(s.scrollIntoView({block:"nearest"}),s=null)})})}}:{}}function Kt(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function Xt(e){let t={};for(let n of e)Object.assign(t,n(t));return t}let M=qt(()=>new Map,{PUSH(e,t){var n;let r=(n=this.get(e))!=null?n:{doc:e,count:0,d:D(),meta:new Set};return r.count++,r.meta.add(t),this.set(e,r),this},POP(e,t){let n=this.get(e);return n&&(n.count--,n.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:n}){let r={doc:e,d:t,meta:Xt(n)},i=[Gt(),Yt(),Kt()];i.forEach(({before:o})=>o==null?void 0:o(r)),i.forEach(({after:o})=>o==null?void 0:o(r))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});M.subscribe(()=>{let e=M.getSnapshot(),t=new Map;for(let[n]of e)t.set(n,n.documentElement.style.overflow);for(let n of e.values()){let r=t.get(n.doc)==="hidden",i=n.count!==0;(i&&!r||!i&&r)&&M.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&M.dispatch("TEARDOWN",n)}});function Jt(e,t,n=()=>({containers:[]})){let r=_t(M),i=t?r.get(t):void 0,o=i?i.count>0:!1;return L(()=>{if(!(!t||!e))return M.dispatch("PUSH",t,n),()=>M.dispatch("POP",t,n)},[e,t]),o}function Dn(e,t,n=()=>[document.body]){let r=zt(e,"scroll-lock");Jt(r,t,i=>{var o;return{containers:[...(o=i.containers)!=null?o:[],n]}})}function Qt(e=0){let[t,n]=a.useState(e),r=a.useCallback(l=>n(l),[t]),i=a.useCallback(l=>n(c=>c|l),[t]),o=a.useCallback(l=>(t&l)===l,[t]),s=a.useCallback(l=>n(c=>c&~l),[n]),u=a.useCallback(l=>n(c=>c^l),[n]);return{flags:t,setFlag:r,addFlag:i,hasFlag:o,removeFlag:s,toggleFlag:u}}var Zt={},We,He;typeof process!="undefined"&&typeof globalThis!="undefined"&&typeof Element!="undefined"&&((We=process==null?void 0:Zt)==null?void 0:We.NODE_ENV)==="test"&&typeof((He=Element==null?void 0:Element.prototype)==null?void 0:He.getAnimations)=="undefined"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var en=(e=>(e[e.None=0]="None",e[e.Closed=1]="Closed",e[e.Enter=2]="Enter",e[e.Leave=4]="Leave",e))(en||{});function tn(e){let t={};for(let n in e)e[n]===!0&&(t[`data-${n}`]="");return t}function nn(e,t,n,r){let[i,o]=a.useState(n),{hasFlag:s,addFlag:u,removeFlag:l}=Qt(e&&i?3:0),c=a.useRef(!1),h=a.useRef(!1),m=Ie();return L(()=>{var p;if(e){if(n&&o(!0),!t){n&&u(3);return}return(p=r==null?void 0:r.start)==null||p.call(r,n),rn(t,{inFlight:c,prepare(){h.current?h.current=!1:h.current=c.current,c.current=!0,!h.current&&(n?(u(3),l(4)):(u(4),l(2)))},run(){h.current?n?(l(3),u(4)):(l(4),u(3)):n?l(1):u(1)},done(){var f;h.current&&typeof t.getAnimations=="function"&&t.getAnimations().length>0||(c.current=!1,l(7),n||o(!1),(f=r==null?void 0:r.end)==null||f.call(r,n))}})}},[e,n,t,m]),e?[i,{closed:s(1),enter:s(2),leave:s(4),transition:s(2)||s(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function rn(e,{prepare:t,run:n,done:r,inFlight:i}){let o=D();return on(e,{prepare:t,inFlight:i}),o.nextFrame(()=>{n(),o.requestAnimationFrame(()=>{o.add(ln(e,r))})}),o.dispose}function ln(e,t){var n,r;let i=D();if(!e)return i.dispose;let o=!1;i.add(()=>{o=!0});let s=(r=(n=e.getAnimations)==null?void 0:n.call(e).filter(u=>u instanceof CSSTransition))!=null?r:[];return s.length===0?(t(),i.dispose):(Promise.allSettled(s.map(u=>u.finished)).then(()=>{o||t()}),i.dispose)}function on(e,{inFlight:t,prepare:n}){if(t!=null&&t.current){n();return}let r=e.style.transition;e.style.transition="none",n(),e.offsetHeight,e.style.transition=r}let re=a.createContext(null);re.displayName="OpenClosedContext";var N=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(N||{});function Ke(){return a.useContext(re)}function un({value:e,children:t}){return E.createElement(re.Provider,{value:e},t)}function In({children:e}){return E.createElement(re.Provider,{value:null},e)}function an(e){let t=y(e),n=a.useRef(!1);a.useEffect(()=>(n.current=!1,()=>{n.current=!0,vt(()=>{n.current&&t()})}),[t])}function sn(){let e=typeof document=="undefined";return"useSyncExternalStore"in ke?(t=>t.useSyncExternalStore)(ke)(()=>()=>{},()=>!1,()=>!e):!1}function be(){let e=sn(),[t,n]=a.useState(Y.isHandoffComplete);return t&&Y.isHandoffComplete===!1&&n(!1),a.useEffect(()=>{t!==!0&&n(!0)},[t]),a.useEffect(()=>Y.handoff(),[]),e?!1:t}let Xe=a.createContext(!1);function cn(){return a.useContext(Xe)}function Un(e){return E.createElement(Xe.Provider,{value:e.force},e.children)}function dn(e){let t=cn(),n=a.useContext(Qe),[r,i]=a.useState(()=>{var o;if(!t&&n!==null)return(o=n.current)!=null?o:null;if(Y.isServer)return null;let s=e==null?void 0:e.getElementById("headlessui-portal-root");if(s)return s;if(e===null)return null;let u=e.createElement("div");return u.setAttribute("id","headlessui-portal-root"),e.body.appendChild(u)});return a.useEffect(()=>{r!==null&&(e!=null&&e.body.contains(r)||e==null||e.body.appendChild(r))},[r,e]),a.useEffect(()=>{t||n!==null&&i(n.current)},[n,i,t]),r}let Je=a.Fragment,fn=U(function(e,t){let f=e,{ownerDocument:n=null}=f,r=H(f,["ownerDocument"]),i=a.useRef(null),o=G(mt(d=>{i.current=d}),t),s=Ge(i),u=n!=null?n:s,l=dn(u),[c]=a.useState(()=>{var d;return Y.isServer?null:(d=u==null?void 0:u.createElement("div"))!=null?d:null}),h=a.useContext(ve),m=be();L(()=>{!l||!c||l.contains(c)||(c.setAttribute("data-headlessui-portal",""),l.appendChild(c))},[l,c]),L(()=>{if(c&&h)return h.register(c)},[h,c]),an(()=>{var d;!l||!c||(Ue(c)&&l.contains(c)&&l.removeChild(c),l.childNodes.length<=0&&((d=l.parentElement)==null||d.removeChild(l)))});let p=K();return m?!l||!c?null:St.createPortal(p({ourProps:{ref:o},theirProps:r,slot:{},defaultTag:Je,name:"Portal"}),c):null});function hn(e,t){let n=G(t),u=e,{enabled:r=!0,ownerDocument:i}=u,o=H(u,["enabled","ownerDocument"]),s=K();return r?E.createElement(fn,F(R({},o),{ownerDocument:i,ref:n})):s({ourProps:{ref:n},theirProps:o,slot:{},defaultTag:Je,name:"Portal"})}let pn=a.Fragment,Qe=a.createContext(null);function vn(e,t){let s=e,{target:n}=s,r=H(s,["target"]),i={ref:G(t)},o=K();return E.createElement(Qe.Provider,{value:n},o({ourProps:i,theirProps:r,defaultTag:pn,name:"Popover.Group"}))}let ve=a.createContext(null);function Vn(){let e=a.useContext(ve),t=a.useRef([]),n=y(o=>(t.current.push(o),e&&e.register(o),()=>r(o))),r=y(o=>{let s=t.current.indexOf(o);s!==-1&&t.current.splice(s,1),e&&e.unregister(o)}),i=a.useMemo(()=>({register:n,unregister:r,portals:t}),[n,r,t]);return[t,a.useMemo(()=>function({children:o}){return E.createElement(ve.Provider,{value:i},o)},[i])]}let mn=U(hn),gn=U(vn),zn=Object.assign(mn,{Group:gn});function Bn({defaultContainers:e=[],portals:t,mainTreeNode:n}={}){let r=Ge(n),i=y(()=>{var o,s;let u=[];for(let l of e)l!==null&&(W(l)?u.push(l):"current"in l&&W(l.current)&&u.push(l.current));if(t!=null&&t.current)for(let l of t.current)u.push(l);for(let l of(o=r==null?void 0:r.querySelectorAll("html > *, body > *"))!=null?o:[])l!==document.body&&l!==document.head&&W(l)&&l.id!=="headlessui-portal-root"&&(n&&(l.contains(n)||l.contains((s=n==null?void 0:n.getRootNode())==null?void 0:s.host))||u.some(c=>l.contains(c))||u.push(l));return u});return{resolveContainers:i,contains:y(o=>i().some(s=>s.contains(o)))}}let Ze=a.createContext(null);function _n({children:e,node:t}){let[n,r]=a.useState(null),i=bn(t!=null?t:n);return E.createElement(Ze.Provider,{value:i},e,i===null&&E.createElement(gt,{features:bt.Hidden,ref:o=>{var s,u;if(o){for(let l of(u=(s=De(o))==null?void 0:s.querySelectorAll("html > *, body > *"))!=null?u:[])if(l!==document.body&&l!==document.head&&W(l)&&l!=null&&l.contains(o)){r(l);break}}}}))}function bn(e=null){var t;return(t=a.useContext(Ze))!=null?t:e}var En=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(En||{});function qn(){let e=a.useRef(0);return Ye(!0,"keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function et(e){var t;return!!(e.enter||e.enterFrom||e.enterTo||e.leave||e.leaveFrom||e.leaveTo)||((t=e.as)!=null?t:nt)!==a.Fragment||E.Children.count(e.children)===1}let le=a.createContext(null);le.displayName="TransitionContext";var yn=(e=>(e.Visible="visible",e.Hidden="hidden",e))(yn||{});function wn(){let e=a.useContext(le);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function $n(){let e=a.useContext(oe);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let oe=a.createContext(null);oe.displayName="NestingContext";function ie(e){return"children"in e?ie(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function tt(e,t){let n=I(e),r=a.useRef([]),i=$t(),o=Ie(),s=y((f,d=j.Hidden)=>{let g=r.current.findIndex(({el:v})=>v===f);g!==-1&&(ge(d,{[j.Unmount](){r.current.splice(g,1)},[j.Hidden](){r.current[g].state="hidden"}}),o.microTask(()=>{var v;!ie(r)&&i.current&&((v=n.current)==null||v.call(n))}))}),u=y(f=>{let d=r.current.find(({el:g})=>g===f);return d?d.state!=="visible"&&(d.state="visible"):r.current.push({el:f,state:"visible"}),()=>s(f,j.Unmount)}),l=a.useRef([]),c=a.useRef(Promise.resolve()),h=a.useRef({enter:[],leave:[]}),m=y((f,d,g)=>{l.current.splice(0),t&&(t.chains.current[d]=t.chains.current[d].filter(([v])=>v!==f)),t==null||t.chains.current[d].push([f,new Promise(v=>{l.current.push(v)})]),t==null||t.chains.current[d].push([f,new Promise(v=>{Promise.all(h.current[d].map(([O,k])=>k)).then(()=>v())})]),d==="enter"?c.current=c.current.then(()=>t==null?void 0:t.wait.current).then(()=>g(d)):g(d)}),p=y((f,d,g)=>{Promise.all(h.current[d].splice(0).map(([v,O])=>O)).then(()=>{var v;(v=l.current.shift())==null||v()}).then(()=>g(d))});return a.useMemo(()=>({children:r,register:u,unregister:s,onStart:m,onStop:p,wait:c,chains:h}),[u,s,r,m,p,h,c])}let nt=a.Fragment,rt=Et.RenderStrategy;function Sn(e,t){var n,r;let Pe=e,{transition:i=!0,beforeEnter:o,afterEnter:s,beforeLeave:u,afterLeave:l,enter:c,enterFrom:h,enterTo:m,entered:p,leave:f,leaveFrom:d,leaveTo:g}=Pe,v=H(Pe,["transition","beforeEnter","afterEnter","beforeLeave","afterLeave","enter","enterFrom","enterTo","entered","leave","leaveFrom","leaveTo"]),[O,k]=a.useState(null),b=a.useRef(null),x=et(e),$=G(...x?[b,t,k]:t===null?[]:[t]),w=(n=v.unmount)==null||n?j.Unmount:j.Hidden,{show:S,appear:Ee,initial:ye}=wn(),[T,ue]=a.useState(S?"visible":"hidden"),we=$n(),{register:J,unregister:Q}=we;L(()=>J(b),[J,b]),L(()=>{if(w===j.Hidden&&b.current){if(S&&T!=="visible"){ue("visible");return}return ge(T,{hidden:()=>Q(b),visible:()=>J(b)})}},[T,b,J,Q,S,w]);let ae=be();L(()=>{if(x&&ae&&T==="visible"&&b.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[b,T,ae,x]);let ot=ye&&!Ee,$e=Ee&&S&&ye,se=a.useRef(!1),Z=tt(()=>{se.current||(ue("hidden"),Q(b))},we),Se=y(ce=>{se.current=!0;let ee=ce?"enter":"leave";Z.onStart(b,ee,z=>{z==="enter"?o==null||o():z==="leave"&&(u==null||u())})}),Ce=y(ce=>{let ee=ce?"enter":"leave";se.current=!1,Z.onStop(b,ee,z=>{z==="enter"?s==null||s():z==="leave"&&(l==null||l())}),ee==="leave"&&!ie(Z)&&(ue("hidden"),Q(b))});a.useEffect(()=>{x&&i||(Se(S),Ce(S))},[S,x,i]);let it=!(!i||!x||!ae||ot),[,C]=nn(it,O,S,{start:Se,end:Ce}),ut=yt(R({ref:$,className:((r=wt(v.className,$e&&c,$e&&h,C.enter&&c,C.enter&&C.closed&&h,C.enter&&!C.closed&&m,C.leave&&f,C.leave&&!C.closed&&d,C.leave&&C.closed&&g,!C.transition&&S&&p))==null?void 0:r.trim())||void 0},tn(C))),V=0;T==="visible"&&(V|=N.Open),T==="hidden"&&(V|=N.Closed),S&&T==="hidden"&&(V|=N.Opening),!S&&T==="visible"&&(V|=N.Closing);let at=K();return E.createElement(oe.Provider,{value:Z},E.createElement(un,{value:V},at({ourProps:ut,theirProps:v,defaultTag:nt,features:rt,visible:T==="visible",name:"Transition.Child"})))}function Cn(e,t){let $=e,{show:n,appear:r=!1,unmount:i=!0}=$,o=H($,["show","appear","unmount"]),s=a.useRef(null),u=et(e),l=G(...u?[s,t]:t===null?[]:[t]);be();let c=Ke();if(n===void 0&&c!==null&&(n=(c&N.Open)===N.Open),n===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[h,m]=a.useState(n?"visible":"hidden"),p=tt(()=>{n||m("hidden")}),[f,d]=a.useState(!0),g=a.useRef([n]);L(()=>{f!==!1&&g.current[g.current.length-1]!==n&&(g.current.push(n),d(!1))},[g,n]);let v=a.useMemo(()=>({show:n,appear:r,initial:f}),[n,r,f]);L(()=>{n?m("visible"):!ie(p)&&s.current!==null&&m("hidden")},[n,p]);let O={unmount:i},k=y(()=>{var w;f&&d(!1),(w=e.beforeEnter)==null||w.call(e)}),b=y(()=>{var w;f&&d(!1),(w=e.beforeLeave)==null||w.call(e)}),x=K();return E.createElement(oe.Provider,{value:p},E.createElement(le.Provider,{value:v},x({ourProps:F(R({},O),{as:a.Fragment,children:E.createElement(lt,F(R(R({ref:l},O),o),{beforeEnter:k,beforeLeave:b}))}),theirProps:{},defaultTag:a.Fragment,features:rt,visible:h==="visible",name:"Transition"})))}function Pn(e,t){let n=a.useContext(le)!==null,r=Ke()!==null;return E.createElement(E.Fragment,null,!n&&r?E.createElement(me,R({ref:t},e)):E.createElement(lt,R({ref:t},e)))}let me=U(Cn),lt=U(Sn),xn=U(Pn),Yn=Object.assign(me,{Child:xn,Root:me});export{Fn as C,Hn as E,xn as F,Bn as H,zt as I,_n as P,tn as R,Ut as S,X as a,En as b,an as c,Ke as d,N as e,Dn as f,Un as g,zn as h,B as i,An as j,Wn as k,be as l,Ln as m,Ge as n,Vn as o,Nn as p,gn as q,At as r,In as s,W as t,qn as u,un as v,nn as w,Wt as x,bn as y,Yn as z};
