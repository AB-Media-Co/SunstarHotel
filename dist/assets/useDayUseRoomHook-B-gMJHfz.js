var q=Object.defineProperty;var g=Object.getOwnPropertySymbols;var C=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable;var U=(a,e,s)=>e in a?q(a,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[e]=s,D=(a,e)=>{for(var s in e||(e={}))C.call(e,s)&&U(a,s,e[s]);if(g)for(var s of g(e))E.call(e,s)&&U(a,s,e[s]);return a};var u=(a,e,s)=>new Promise((t,n)=>{var d=r=>{try{p(s.next(r))}catch(m){n(m)}},f=r=>{try{p(s.throw(r))}catch(m){n(m)}},p=r=>r.done?t(r.value):Promise.resolve(r.value).then(d,f);p((s=s.apply(a,e)).next())});import{g as l,x as i,y,h as o,f as c}from"./index-CpVBVbB-.js";const h=a=>u(void 0,null,function*(){return(yield c.get("/api/ezee/day-use-rooms",{params:{date:a}})).data}),b=a=>l({queryKey:["dayUseRooms",a],queryFn:()=>h(a),enabled:!!a,staleTime:5*60*1e3,onError:e=>{var t,n;const s=((n=(t=e==null?void 0:e.response)==null?void 0:t.data)==null?void 0:n.error)||e.message;o.error(`Error fetching day use rooms: ${s}`)}}),Q=s=>u(void 0,[s],function*({month:a,hotelCode:e}){return(yield c.get("/api/ezee/monthly",{params:{month:a,hotelCode:e}})).data}),k=(a,e)=>l({queryKey:["monthlyDayUseRooms",a,e],queryFn:()=>Q({month:a,hotelCode:e}),enabled:!!a,staleTime:10*60*1e3,onError:s=>{var n,d;const t=((d=(n=s==null?void 0:s.response)==null?void 0:n.data)==null?void 0:d.error)||s.message;o.error(`Error fetching monthly data: ${t}`)}}),v=a=>u(void 0,null,function*(){return(yield c.put("/api/ezee/update-availability",a)).data}),A=()=>{const a=i();return y({mutationFn:v,onSuccess:(e,s)=>{a.invalidateQueries(["dayUseRooms",s.date]),a.invalidateQueries(["monthlyDayUseRooms"]),o.success("Availability updated successfully")},onError:e=>{var t,n;const s=((n=(t=e==null?void 0:e.response)==null?void 0:t.data)==null?void 0:n.error)||e.message;o.error(`Error updating availability: ${s}`)}})},w=a=>u(void 0,null,function*(){return(yield c.post("/api/ezee/dayuse/bulk-update",a)).data}),K=()=>{const a=i();return y({mutationFn:w,onSuccess:(e,s)=>{s!=null&&s.date&&a.invalidateQueries(["dayUseRooms",s.date]),a.invalidateQueries(["monthlyDayUseRooms"]),o.success("Bulk availability updated successfully")},onError:e=>{var t,n;const s=((n=(t=e==null?void 0:e.response)==null?void 0:t.data)==null?void 0:n.error)||e.message;o.error(`Error updating bulk availability: ${s}`)}})},F=a=>u(void 0,null,function*(){return(yield c.post("/api/ezee/dayuse/book",a)).data}),$=()=>{const a=i();return y({mutationFn:F,onSuccess:(e,s)=>{s!=null&&s.date&&a.invalidateQueries(["dayUseRooms",s.date]),a.invalidateQueries(["monthlyDayUseRooms"])},onError:e=>{var t,n;const s=((n=(t=e==null?void 0:e.response)==null?void 0:t.data)==null?void 0:n.error)||e.message;o.error(`Booking failed: ${s}`)}})},z=()=>u(void 0,null,function*(){return(yield c.get("/api/ezee/dayuse/content")).data}),P=(a={})=>l(D({queryKey:["dayUseContent"],queryFn:z,staleTime:6e4,refetchOnWindowFocus:!1,onError:e=>{var t,n;const s=((n=(t=e==null?void 0:e.response)==null?void 0:t.data)==null?void 0:n.message)||(e==null?void 0:e.message)||"Error fetching content";o.error(s)}},a)),S=a=>u(void 0,null,function*(){return(yield c.put("/api/ezee/dayuse/content",a)).data}),I=()=>{const a=i();return y({mutationFn:S,onSuccess:()=>{o.success("Content saved"),a.invalidateQueries({queryKey:["dayUseContent"]})},onError:e=>{var t,n;const s=((n=(t=e==null?void 0:e.response)==null?void 0:t.data)==null?void 0:n.message)||(e==null?void 0:e.message)||"Content save failed";o.error(s)}})},T=()=>{const a=i();return y({mutationFn:e=>u(void 0,null,function*(){return(yield c.patch("/api/ezee/dayuse/content/hero",e)).data}),onSuccess:()=>{o.success("Hero updated"),a.invalidateQueries({queryKey:["dayUseContent"]})},onError:e=>{var s,t;return o.error(((t=(s=e==null?void 0:e.response)==null?void 0:s.data)==null?void 0:t.message)||e.message)}})},_=()=>{const a=i();return y({mutationFn:e=>u(void 0,null,function*(){return(yield c.patch("/api/ezee/dayuse/content/desc-card",e)).data}),onSuccess:()=>{o.success("Description card updated"),a.invalidateQueries({queryKey:["dayUseContent"]})},onError:e=>{var s,t;return o.error(((t=(s=e==null?void 0:e.response)==null?void 0:s.data)==null?void 0:t.message)||e.message)}})},x=()=>{const a=i();return y({mutationFn:s=>u(void 0,[s],function*({title:e}){return(yield c.post("/api/ezee/dayuse/content/benefits",{title:e})).data}),onSuccess:()=>{o.success("Benefit added"),a.invalidateQueries({queryKey:["dayUseContent"]})},onError:e=>{var s,t;return o.error(((t=(s=e==null?void 0:e.response)==null?void 0:s.data)==null?void 0:t.message)||e.message)}})},M=()=>{const a=i();return y({mutationFn:t=>u(void 0,[t],function*({benefitId:e,title:s}){return(yield c.put(`/api/ezee/dayuse/content/benefits/${e}`,{title:s})).data}),onSuccess:()=>{o.success("Benefit updated"),a.invalidateQueries({queryKey:["dayUseContent"]})},onError:e=>{var s,t;return o.error(((t=(s=e==null?void 0:e.response)==null?void 0:s.data)==null?void 0:t.message)||e.message)}})},H=()=>{const a=i();return y({mutationFn:e=>u(void 0,null,function*(){return(yield c.delete(`/api/ezee/dayuse/content/benefits/${e}`)).data}),onSuccess:()=>{o.success("Benefit deleted"),a.invalidateQueries({queryKey:["dayUseContent"]})},onError:e=>{var s,t;return o.error(((t=(s=e==null?void 0:e.response)==null?void 0:s.data)==null?void 0:t.message)||e.message)}})},j=()=>{const a=i();return y({mutationFn:s=>u(void 0,[s],function*({points:e}){return(yield c.put("/api/ezee/dayuse/content/tandc",{points:e})).data}),onSuccess:()=>{o.success("Terms updated"),a.invalidateQueries({queryKey:["dayUseContent"]})},onError:e=>{var s,t;return o.error(((t=(s=e==null?void 0:e.response)==null?void 0:s.data)==null?void 0:t.message)||e.message)}})};export{T as a,_ as b,x as c,M as d,H as e,j as f,I as g,k as h,A as i,K as j,$ as k,b as l,P as u};
