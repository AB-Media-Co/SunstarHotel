var W=Object.defineProperty,Z=Object.defineProperties;var ee=Object.getOwnPropertyDescriptors;var Y=Object.getOwnPropertySymbols;var ae=Object.prototype.hasOwnProperty,se=Object.prototype.propertyIsEnumerable;var B=(h,i,l)=>i in h?W(h,i,{enumerable:!0,configurable:!0,writable:!0,value:l}):h[i]=l,c=(h,i)=>{for(var l in i||(i={}))ae.call(i,l)&&B(h,l,i[l]);if(Y)for(var l of Y(i))se.call(i,l)&&B(h,l,i[l]);return h},d=(h,i)=>Z(h,ee(i));import{r as g,j as e}from"./index-AsfY2M-N.js";import{u as te,a as re,b as ie,c as le}from"./useVenues-ZRAownXE.js";import{I as G}from"./ImageUpload-BrWDJu32.js";import{u as ne,a as ce,b as de,c as oe}from"./useVenueLocation-2azNEKBd.js";import{P as H}from"./plus-C5YcqJK3.js";import{S as D,F as me}from"./search-BTYfPUKD.js";import{S as J}from"./square-pen-DdJsQjtm.js";import{T as K}from"./trash-2-DX1OTp87.js";import{X as Q}from"./x-B7vaamUN.js";import"./useHotelHook2-DcvbjV10.js";import"./createSvgIcon-qo7wo3dq.js";import"./clsx-B-dksMZM.js";import"./TextField-C4GxksxH.js";import"./useFormControl-BujTOs7L.js";import"./hoist-non-react-statics.cjs-Cxfv-rx9.js";import"./index-CLRDah4M.js";import"./createLucideIcon-CaOQPjdY.js";const _={name:"",description:"",imageUrl:"",mapUrl:"",website:"",phone:"",email:"",isActive:!0,address:{line1:"",line2:"",area:"",city:"",state:"",postalCode:"",country:"India"}};function xe(){var q,z,j;const[h,i]=g.useState(!1),[l,k]=g.useState("create"),[x,C]=g.useState(null),[f,S]=g.useState({page:1,limit:10,search:"",active:"true"}),[n,u]=g.useState(_),[p,A]=g.useState(!1),{data:b,isLoading:E,error:m}=ne(),P=ce(),V=de(),U=oe(),M=(q=b==null?void 0:b.items)!=null?q:[],v=(z=b==null?void 0:b.pages)!=null?z:1,F=()=>{k("create"),C(null),u(_),i(!0)},r=s=>{var a,t,o,R,$,T,O,X;k("edit"),C(s),u({name:s.name||"",description:s.description||"",imageUrl:s.imageUrl||"",mapUrl:s.mapUrl||"",website:s.website||"",phone:s.phone||"",email:s.email||"",isActive:(a=s.isActive)!=null?a:!0,address:{line1:((t=s.address)==null?void 0:t.line1)||"",line2:((o=s.address)==null?void 0:o.line2)||"",area:((R=s.address)==null?void 0:R.area)||"",city:(($=s.address)==null?void 0:$.city)||"",state:((T=s.address)==null?void 0:T.state)||"",postalCode:((O=s.address)==null?void 0:O.postalCode)||"",country:((X=s.address)==null?void 0:X.country)||"India"}}),i(!0)},N=()=>{i(!1),C(null),u(_),A(!1)},y=s=>{if(s.preventDefault(),!n.name.trim())return alert("Name is required");if(!n.address.city.trim())return alert("City is required");if(!n.address.line1.trim())return alert("Address line1 is required");if(p){alert("Please wait for image upload to complete");return}if(l==="create")P.mutate(n,{onSuccess:N});else{const a=(x==null?void 0:x._id)||(x==null?void 0:x.slug);V.mutate({idOrSlug:a,updates:n},{onSuccess:N})}},L=s=>{window.confirm(`Delete "${s.name}"?`)&&U.mutate(s._id||s.slug)},w=(s,a)=>{S(t=>d(c({},t),{[s]:a,page:1}))},I=p||P.isPending||V.isPending;return m?e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsxs("p",{className:"text-red-700",children:["Failed to load venue locations: ",m.message]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-semibold",children:"Venue Location Data"}),e.jsxs("p",{className:"text-gray-600",children:[(j=b==null?void 0:b.total)!=null?j:0," locations found"]})]}),e.jsxs("button",{onClick:F,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2",children:[e.jsx(H,{size:18})," Add Location"]})]}),e.jsx("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(D,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),e.jsx("input",{value:f.search,onChange:s=>w("search",s.target.value),placeholder:"Search name/city/area...",className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("select",{value:f.active,onChange:s=>w("active",s.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg",children:[e.jsx("option",{value:"",children:"All"}),e.jsx("option",{value:"true",children:"Active"}),e.jsx("option",{value:"false",children:"Inactive"})]})]})}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full text-sm",children:[e.jsx("thead",{className:"bg-gray-50 text-gray-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left px-4 py-3",children:"Name"}),e.jsx("th",{className:"text-left px-4 py-3",children:"City"}),e.jsx("th",{className:"text-left px-4 py-3",children:"Phone"}),e.jsx("th",{className:"text-left px-4 py-3",children:"Email"}),e.jsx("th",{className:"text-left px-4 py-3",children:"Active"}),e.jsx("th",{className:"text-right px-4 py-3",children:"Actions"})]})}),e.jsx("tbody",{children:E?e.jsx("tr",{children:e.jsx("td",{className:"px-4 py-6",colSpan:6,children:"Loading…"})}):M.length===0?e.jsx("tr",{children:e.jsx("td",{className:"px-4 py-6",colSpan:6,children:"No locations found"})}):M.map(s=>{var a,t;return e.jsxs("tr",{className:"border-t",children:[e.jsxs("td",{className:"px-4 py-3",children:[e.jsx("div",{className:"font-medium",children:s.name}),((a=s.address)==null?void 0:a.line1)&&e.jsx("div",{className:"text-gray-500",children:s.address.line1})]}),e.jsx("td",{className:"px-4 py-3",children:((t=s.address)==null?void 0:t.city)||"-"}),e.jsx("td",{className:"px-4 py-3",children:s.phone||"-"}),e.jsx("td",{className:"px-4 py-3",children:s.email||"-"}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("span",{className:`px-2 py-1 text-xs rounded ${s.isActive?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:s.isActive?"Active":"Inactive"})}),e.jsxs("td",{className:"px-4 py-3 text-right",children:[e.jsxs("button",{onClick:()=>r(s),className:"inline-flex items-center gap-1 px-3 py-1.5 border rounded mr-2 hover:bg-gray-50",children:[e.jsx(J,{size:14})," Edit"]}),e.jsxs("button",{onClick:()=>L(s),className:"inline-flex items-center gap-1 px-3 py-1.5 border rounded hover:bg-gray-50 text-red-600",children:[e.jsx(K,{size:14})," Delete"]})]})]},s._id)})})]})}),v>1&&e.jsxs("div",{className:"flex items-center justify-center gap-2 p-4 border-t",children:[e.jsx("button",{onClick:()=>S(s=>d(c({},s),{page:Math.max(1,s.page-1)})),disabled:f.page===1,className:"px-3 py-1.5 border rounded disabled:opacity-50",children:"Prev"}),e.jsxs("span",{className:"text-sm",children:["Page ",f.page," / ",v]}),e.jsx("button",{onClick:()=>S(s=>d(c({},s),{page:Math.min(v,s.page+1)})),disabled:f.page===v,className:"px-3 py-1.5 border rounded disabled:opacity-50",children:"Next"})]})]}),h&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-lg w-full max-w-3xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[e.jsx("h3",{className:"text-lg font-semibold",children:l==="create"?"Add Venue Location":"Edit Venue Location"}),e.jsx("button",{onClick:N,className:"text-gray-500 hover:text-gray-700",children:e.jsx(Q,{size:22})})]}),e.jsxs("form",{onSubmit:y,className:"p-4 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Name *"}),e.jsx("input",{className:"w-full border rounded px-3 py-2",value:n.name,onChange:s=>u(a=>d(c({},a),{name:s.target.value})),required:!0})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Venue Image"}),e.jsxs("div",{className:"border border-gray-300 rounded-lg p-4 bg-gray-50",children:[e.jsx(G,{feature:{image:n.imageUrl},handleFeatureChange:(s,a)=>{s==="image"&&u(t=>d(c({},t),{imageUrl:a}))},setImageUpload:A,index:(x==null?void 0:x._id)||"new"}),n.imageUrl&&e.jsxs("div",{className:"mt-4",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Preview:"}),e.jsxs("div",{className:"relative inline-block",children:[e.jsx("img",{src:n.imageUrl,alt:"Venue preview",className:"w-full max-w-xs h-32 object-cover rounded-lg border shadow-sm",onError:s=>{s.currentTarget.style.display="none"}}),e.jsx("button",{type:"button",onClick:()=>u(s=>d(c({},s),{imageUrl:""})),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs hover:bg-red-600",children:"×"})]})]})]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Address Line 1 *"}),e.jsx("input",{className:"w-full border rounded px-3 py-2",value:n.address.line1,onChange:s=>u(a=>d(c({},a),{address:d(c({},a.address),{line1:s.target.value})})),required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"City *"}),e.jsx("input",{className:"w-full border rounded px-3 py-2",value:n.address.city,onChange:s=>u(a=>d(c({},a),{address:d(c({},a.address),{city:s.target.value})})),required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Postal Code"}),e.jsx("input",{className:"w-full border rounded px-3 py-2",value:n.address.postalCode,onChange:s=>u(a=>d(c({},a),{address:d(c({},a.address),{postalCode:s.target.value})}))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Phone"}),e.jsx("input",{className:"w-full border rounded px-3 py-2",value:n.phone,onChange:s=>u(a=>d(c({},a),{phone:s.target.value}))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email"}),e.jsx("input",{type:"email",className:"w-full border rounded px-3 py-2",value:n.email,onChange:s=>u(a=>d(c({},a),{email:s.target.value}))})]}),e.jsx("div",{className:"md:col-span-2",children:e.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[e.jsx("input",{type:"checkbox",checked:n.isActive,onChange:s=>u(a=>d(c({},a),{isActive:s.target.checked}))}),"Active"]})})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[e.jsx("button",{type:"button",onClick:N,className:"px-4 py-2 border rounded",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:I,className:"px-6 py-2 rounded bg-blue-600 text-white disabled:opacity-50",children:I?"Saving...":l==="create"?"Create":"Update"})]})]})]})})]})}const Ue=()=>{const[h,i]=g.useState(!1),[l,k]=g.useState(null),[x,C]=g.useState("venues"),[f,S]=g.useState("create"),[n,u]=g.useState(!1),[p,A]=g.useState({page:1,limit:12,search:"",minPrice:"",maxPrice:"",minCapacity:"",maxCapacity:"",minRating:"",isActive:!0}),[b,E]=g.useState(!1),{data:m,isLoading:P,error:V}=te(p),U=re(),M=ie(),v=le(),F=(m==null?void 0:m.data)||[],[r,N]=g.useState({name:"",image:"",pricePerPlate:"",capacityMin:"",capacityMax:"",location:"",description:"",rating:0,isActive:!0}),y=(a,t)=>{N(o=>d(c({},o),{[a]:t}))},L=(a,t=null)=>{var o;S(a),k(t),N(t?{name:t.name||"",image:t.image||"",pricePerPlate:t.pricePerPlate||"",capacityMin:t.capacityMin||"",capacityMax:t.capacityMax||"",location:t.location||"",description:t.description||"",rating:t.rating||0,isActive:(o=t.isActive)!=null?o:!0}:{name:"",image:"",pricePerPlate:"",capacityMin:"",capacityMax:"",location:"",description:"",rating:0,isActive:!0}),i(!0)},w=()=>{i(!1),k(null),u(!1),N({name:"",image:"",pricePerPlate:"",capacityMin:"",capacityMax:"",location:"",description:"",rating:0,isActive:!0})},I=()=>r.name.trim()?r.location.trim()?!r.pricePerPlate||r.pricePerPlate<=0?"Valid price is required":!r.capacityMin||r.capacityMin<=0?"Valid minimum capacity is required":!r.capacityMax||r.capacityMax<=0?"Valid maximum capacity is required":Number(r.capacityMin)>Number(r.capacityMax)?"Min capacity cannot be greater than max capacity":null:"Location is required":"Venue name is required",q=a=>{a.preventDefault();const t=I();if(t){alert(t);return}if(n){alert("Please wait for image upload to complete");return}const o=d(c({},r),{pricePerPlate:Number(r.pricePerPlate),capacityMin:Number(r.capacityMin),capacityMax:Number(r.capacityMax),rating:Number(r.rating)});f==="create"?U.mutate(o,{onSuccess:()=>w()}):f==="edit"&&M.mutate({id:l._id,updates:o},{onSuccess:()=>w()})},z=a=>{window.confirm(`Are you sure you want to delete "${a.name}"?`)&&v.mutate(a._id)},j=(a,t)=>{A(o=>d(c({},o),{[a]:t,page:1}))},s=()=>{A({page:1,limit:12,search:"",minPrice:"",maxPrice:"",minCapacity:"",maxCapacity:"",minRating:"",isActive:!0})};return V?e.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsxs("p",{className:"text-red-700",children:["Error loading venues: ",V.message]})})})}):e.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[e.jsxs("div",{className:"max-w-7xl mt-20 mx-auto",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-2 mb-6 flex gap-2",children:[e.jsx("button",{onClick:()=>C("venues"),className:`px-4 py-2 rounded ${x==="venues"?"bg-blue-600 text-white":"hover:bg-gray-100"}`,children:"Venues"}),e.jsx("button",{onClick:()=>C("venueLocations"),className:`px-4 py-2 rounded ${x==="venueLocations"?"bg-blue-600 text-white":"hover:bg-gray-100"}`,children:"Venue Location Data"})]}),x==="venueLocations"&&e.jsx(xe,{}),x==="venues"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Venue Management"}),e.jsxs("p",{className:"text-gray-600 mt-2",children:[(m==null?void 0:m.total)||0," venues found"]})]}),e.jsxs("button",{onClick:()=>L("create"),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg flex items-center gap-2 transition-colors",children:[e.jsx(H,{size:20}),"Add New Venue"]})]}),e.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(D,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),e.jsx("input",{type:"text",placeholder:"Search venues...",value:p.search,onChange:a=>j("search",a.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),e.jsxs("button",{onClick:()=>E(!b),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 flex items-center gap-2",children:[e.jsx(me,{size:20}),"Filters"]})]}),b&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Min Price"}),e.jsx("input",{type:"number",value:p.minPrice,onChange:a=>j("minPrice",a.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Price"}),e.jsx("input",{type:"number",value:p.maxPrice,onChange:a=>j("maxPrice",a.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Min Capacity"}),e.jsx("input",{type:"number",value:p.minCapacity,onChange:a=>j("minCapacity",a.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Min Rating"}),e.jsxs("select",{value:p.minRating,onChange:a=>j("minRating",a.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"Any Rating"}),e.jsx("option",{value:"1",children:"1+ Stars"}),e.jsx("option",{value:"2",children:"2+ Stars"}),e.jsx("option",{value:"3",children:"3+ Stars"}),e.jsx("option",{value:"4",children:"4+ Stars"}),e.jsx("option",{value:"5",children:"5 Stars"})]})]})]}),e.jsx("div",{className:"mt-4",children:e.jsx("button",{onClick:s,className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"Clear all filters"})})]})]})]}),P&&e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[...Array(8)].map((a,t)=>e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 animate-pulse",children:[e.jsx("div",{className:"h-48 bg-gray-200 rounded-lg mb-4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"})]},t))}),!P&&F.length>0&&e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:F.map(a=>e.jsxs("div",{className:"bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:a.image||"/api/placeholder/300/200",alt:a.name,className:"w-full h-48 object-cover rounded-t-lg",onError:t=>{t.target.src="/api/placeholder/300/200"}}),e.jsxs("div",{className:"absolute top-2 right-2 flex gap-1",children:[e.jsx("button",{onClick:()=>L("edit",a),className:"bg-white bg-opacity-90 hover:bg-opacity-100 p-2 rounded-full shadow-sm transition-colors",children:e.jsx(J,{size:16,className:"text-blue-600"})}),e.jsx("button",{onClick:()=>z(a),disabled:v.isPending,className:"bg-white bg-opacity-90 hover:bg-opacity-100 p-2 rounded-full shadow-sm transition-colors disabled:opacity-50",children:e.jsx(K,{size:16,className:"text-red-600"})})]}),e.jsx("div",{className:`absolute top-2 left-2 px-2 py-1 rounded text-xs font-medium ${a.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:a.isActive?"Active":"Inactive"})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"font-semibold text-lg text-gray-900 mb-1",children:a.name}),e.jsx("p",{className:"text-gray-600 text-sm mb-2",children:a.location}),e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("span",{className:"text-xl font-bold text-green-600",children:["₹",a.pricePerPlate,"/plate"]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-yellow-400",children:"★"}),e.jsxs("span",{className:"ml-1 text-sm text-gray-600",children:[a.rating,"/5"]})]})]}),e.jsxs("div",{className:"text-sm text-gray-600",children:["Capacity: ",a.capacityMin," - ",a.capacityMax," people"]}),a.description&&e.jsx("p",{className:"text-gray-600 text-sm mt-2 line-clamp-2",children:a.description})]})]},a._id))}),!P&&F.length===0&&e.jsx("div",{className:"text-center py-12",children:e.jsxs("div",{className:"max-w-md mx-auto",children:[e.jsx("div",{className:"bg-gray-100 rounded-full p-6 w-24 h-24 mx-auto mb-4 flex items-center justify-center",children:e.jsx(D,{size:32,className:"text-gray-400"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No venues found"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Try adjusting your search criteria or add a new venue."}),e.jsx("button",{onClick:()=>L("create"),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg",children:"Add Your First Venue"})]})}),(m==null?void 0:m.pages)>1&&e.jsx("div",{className:"mt-8 flex justify-center",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>j("page",p.page-1),disabled:p.page===1,className:"px-3 py-2 border border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Previous"}),[...Array(Math.min(5,m.pages))].map((a,t)=>{const o=t+1;return e.jsx("button",{onClick:()=>j("page",o),className:`px-3 py-2 rounded-lg ${p.page===o?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-50"}`,children:o},o)}),e.jsx("button",{onClick:()=>j("page",p.page+1),disabled:p.page===(m==null?void 0:m.pages),className:"px-3 py-2 border border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Next"})]})})]})]}),x==="venues"&&h&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-lg max-w-3xl w-full max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[e.jsx("h2",{className:"text-xl font-semibold",children:f==="create"?"Add New Venue":"Edit Venue"}),e.jsx("button",{onClick:w,className:"text-gray-400 hover:text-gray-600",children:e.jsx(Q,{size:24})})]}),e.jsxs("form",{onSubmit:q,className:"p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Venue Name *"}),e.jsx("input",{type:"text",required:!0,value:r.name,onChange:a=>y("name",a.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter venue name"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Venue Image"}),e.jsxs("div",{className:"border border-gray-300 rounded-lg p-4 bg-gray-50",children:[e.jsx(G,{feature:r,handleFeatureChange:y,setImageUpload:u,index:(l==null?void 0:l._id)||"new"}),r.image&&e.jsxs("div",{className:"mt-4",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Preview:"}),e.jsxs("div",{className:"relative inline-block",children:[e.jsx("img",{src:r.image,alt:"Venue preview",className:"w-full max-w-xs h-32 object-cover rounded-lg border shadow-sm",onError:a=>{a.target.style.display="none"}}),e.jsx("button",{type:"button",onClick:()=>y("image",""),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs hover:bg-red-600",children:"×"})]})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price per Plate (₹) *"}),e.jsx("input",{type:"number",required:!0,min:"0",step:"0.01",value:r.pricePerPlate,onChange:a=>y("pricePerPlate",a.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g. 500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rating (0-5)"}),e.jsx("input",{type:"number",min:"0",max:"5",step:"0.1",value:r.rating,onChange:a=>y("rating",a.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g. 4.5"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Min Capacity *"}),e.jsx("input",{type:"number",required:!0,min:"1",value:r.capacityMin,onChange:a=>y("capacityMin",a.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g. 50"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Capacity *"}),e.jsx("input",{type:"number",required:!0,min:"1",value:r.capacityMax,onChange:a=>y("capacityMax",a.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g. 200"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location *"}),e.jsx("input",{type:"text",required:!0,value:r.location,onChange:a=>y("location",a.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g. Mumbai, Maharashtra"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),e.jsx("textarea",{rows:"4",value:r.description,onChange:a=>y("description",a.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Describe the venue, amenities, and special features..."})]}),e.jsx("div",{className:"md:col-span-2",children:e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:r.isActive,onChange:a=>y("isActive",a.target.checked),className:"mr-2 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Active (venue is available for bookings)"})]})})]}),e.jsxs("div",{className:"flex justify-end gap-3 mt-8 pt-6 border-t",children:[e.jsx("button",{type:"button",onClick:w,className:"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:U.isPending||M.isPending||n,className:"bg-blue-600 hover:bg-blue-700 text-white px-8 py-2 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:n?"Uploading Image...":U.isPending||M.isPending?"Saving...":f==="create"?"Create Venue":"Update Venue"})]})]})]})})]})};export{Ue as default};
