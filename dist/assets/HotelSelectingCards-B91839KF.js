import{c as v,j as t,a6 as y,r as f,U as b,m as w}from"./index-DRfTjNMi.js";import{C as I}from"./Calendar-B659lolh.js";const N=v(t.jsx("path",{d:"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"})),C={some:0,all:1};function S(e,i,{root:c,margin:m,amount:s="some"}={}){const l=y(e),n=new WeakMap,r=x=>{x.forEach(d=>{const g=n.get(d.target);if(d.isIntersecting!==!!g)if(d.isIntersecting){const p=i(d);typeof p=="function"?n.set(d.target,p):o.unobserve(d.target)}else g&&(g(d),n.delete(d.target))})},o=new IntersectionObserver(r,{root:c,rootMargin:m,threshold:typeof s=="number"?s:C[s]});return l.forEach(x=>o.observe(x)),()=>o.disconnect()}function k(e,{root:i,margin:c,amount:m,once:s=!1}={}){const[l,n]=f.useState(!1);return f.useEffect(()=>{if(!e.current||s&&l)return;const r=()=>(n(!0),s?void 0:()=>n(!1)),o={root:i&&i.current||void 0,margin:c,amount:m};return S(e.current,r,o)},[i,e,c,s,m]),l}const V=({position:e="lg:w-auto w-[10em]",src:i="/images/HomepageImages/RoundPatternSection2.svg",divClass:c="absolute "})=>t.jsx("div",{className:`${c} ${e} `,children:t.jsx("img",{src:i,alt:"Background Pattern",className:`    w-full h-full object-contain
      origin-center
      animate-[spin_18s_linear_infinite]
      [will-change:transform]  `})}),E=({hotel:e,close:i})=>{var g,p;const c={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:1.3,ease:"easeInOut"}}},[m,s]=f.useState(!1),[,l]=f.useState(null),[,n]=f.useState(null);f.useEffect(()=>{const a=localStorage.getItem("checkInDate"),u=localStorage.getItem("checkOutDate");a&&u&&(l(a),n(u))},[]);const r=((g=e==null?void 0:e.amenities)==null?void 0:g.slice(0,3))||[],o=(((p=e==null?void 0:e.amenities)==null?void 0:p.length)||0)-r.length,x=()=>{var a;localStorage.setItem("hotelInfo",JSON.stringify(e)),(a=s(!0))==null||a.then(()=>{i()})},d=a=>{const u=Math.floor(a),j=a-u>=.5;return t.jsx("div",{className:"flex items-center",children:[...Array(5)].map((O,h)=>t.jsx(N,{className:`${h<u?"text-yellow-400":h===u&&j?"text-yellow-400 opacity-60":"text-gray-300"}`,style:{fontSize:"16px"}},h))})};return t.jsxs(w.div,{className:"bg-primary-white rounded-2xl shadow-lg overflow-hidden w-full h-full transition-transform duration-300 hover:scale-105 flex flex-col",variants:c,initial:"hidden",animate:"visible",children:[t.jsx("img",{src:e==null?void 0:e.images[0],alt:e.name,onClick:x,className:"w-full h-48 object-cover cursor-pointer transition-transform duration-500 ease-in-out hover:scale-110"}),t.jsxs("div",{className:"p-4 flex flex-col flex-grow justify-between",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between items-center gap-4",children:[t.jsx("h1",{className:"text-xl  text-start font-bold text-black cursor-pointer hover:text-primary-green   transition-colors duration-300",onClick:x,children:e==null?void 0:e.name}),d(e.rating)]}),t.jsxs("ul",{className:"flex items-center mt-2 flex-wrap",children:[r.length>0?r.map((a,u)=>{const j=typeof a=="object"?a.value:a;return t.jsx("li",{className:"bg-gradient-to-r from-primary-green to-primary-green text-primary-white text-xs px-3 py-1 rounded-full m-1",children:t.jsx("span",{children:j})},u)}):t.jsx("li",{children:"No amenities listed"}),o>0&&t.jsxs("li",{className:"text-gray-600 text-xs m-1",children:["+",o," more"]})]})]}),t.jsxs("div",{className:"mt-4 w-full",children:[t.jsxs("div",{className:"text-start",children:[t.jsxs("span",{className:"text-2xl leading-none font-bold text-primary-green",children:["â‚¹ ",e==null?void 0:e.price,t.jsx("span",{className:"text-gray-400 text-sm font-medium",children:" / night onwards"}),t.jsx("br",{}),t.jsx("span",{className:"text-gray-400 text-sm font-medium",children:"Incl. taxes"})]}),t.jsx("p",{className:"text-primary-green text-[12px] font-semibold",children:"Lowest Price, Guaranteed!"})]}),t.jsx("button",{onClick:x,className:"bg-primary-green cursor-pointer w-full text-primary-white px-4 py-2 rounded-lg shadow-md flex justify-center items-center transition duration-300 hover:bg-primary-dark-green mt-4",children:"Select Hotel"})]})]}),m&&t.jsx("div",{className:"fixed inset-0 flex justify-center items-center z-50",children:t.jsx(I,{setCheckInDate:l,setCheckOutDate:n,setOpenCalender:s,hotelCode:e.hotelCode})})]})},D=({data:e,close:i})=>{var n;const c=f.useRef(null),m=k(c,{once:!0}),{data:s}=b(),l=e||s;return t.jsx(w.div,{ref:c,className:"grid grid-cols-1 items-stretch bg-primary-white sm:grid-cols-2  lg:grid-cols-3 xl:grid-cols-3 gap-6 p-6",initial:{opacity:0},animate:m?{opacity:1}:{opacity:0},transition:{duration:1.3,ease:"easeInOut"},children:(n=l==null?void 0:l.hotels)==null?void 0:n.map((r,o)=>(r==null?void 0:r.active)&&t.jsx(E,{hotel:r,close:i},o))})};export{D as H,V as R,N as S};
