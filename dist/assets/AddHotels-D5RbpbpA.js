import{r as a,j as e,_ as n}from"./index-CEKrv-KS.js";import{R as Y,S as T,A as $,M as q,T as J,a as K}from"./AmenitiesData-paYglY4c.js";import{d as Q,f as V,c as X}from"./useHotelHook-3KAKPtEF.js";import"./index-DjKJqAo0.js";import"./index-D6nKI7Uv.js";import"./axiosInstance-2_WqCtWF.js";import"./axios-upsvKRUO.js";const ne=()=>{var E;const[f,h]=a.useState([]),[U,b]=a.useState(0),[j,N]=a.useState([]),[v,w]=a.useState(!1),[i,S]=a.useState(""),[c,y]=a.useState(""),[d,C]=a.useState(""),[m,k]=a.useState(0),[u,D]=a.useState(0),[A,R]=a.useState([]),[o,r]=a.useState([{name:"",description:"",rating:""}]),{mutate:I}=Q(),{mutate:P}=V(),{data:p}=X(),M=((E=p==null?void 0:p.rooms)==null?void 0:E.reduce((s,t)=>(s.find(g=>g.label===t._id)||s.push({value:t._id,label:t.roomType+t.roomNumber}),s),[]))||[],_=s=>{w(!0),I(s,{onSuccess:t=>{N(l=>[...l,...t.imageUrls]),n.success("Images uploaded successfully")},onError:t=>n.error("Error uploading images: "+t.message),onSettled:()=>w(!1)})},F=()=>{if(!i||!c||!d||m<=0||u<=0){n.error("Please fill in all required fields.");return}const t={hotels:[{name:i,description:c,location:d,price:Number(m),discountedPrice:Number(u),amenities:f.map(l=>l.value),rating:Number(U),images:j,rooms:A.map(l=>l.value),testimonials:o.map(l=>({...l,rating:Number(l.rating)}))}]};console.log("Submitting Hotel Data:",t),P(t,{onSuccess:()=>{n.success("Hotel added successfully"),L()},onError:l=>n.error("Error: "+l.message)})},L=()=>{S(""),y(""),C(""),k(0),D(0),h([]),b(0),N([]),R([]),r([{name:"",description:"",rating:0}])},B=()=>{r([...o,{name:"",description:"",rating:0}])},x=(s,t,l)=>{const g=o.map((H,W)=>W===s?{...H,[t]:l}:H);r(g)},G=s=>{r(o.filter((t,l)=>l!==s))},z=["Add Hotel","Gallery","Customer Reviews"],O={"Add Hotel":e.jsxs("div",{className:"space-y-6 p-6 bg-white ",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("label",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:"text-2xl font-semibold",children:"Rating:"}),e.jsx(Y,{seiInitialRating:b})]}),"Step1"]}),e.jsx("label",{className:"block text-2xl font-semibold mb-2",children:"Hotel Name"}),e.jsx("input",{className:"w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter hotel name",value:i,onChange:s=>S(s.target.value)}),e.jsx("label",{className:"block text-2xl font-semibold mb-2",children:"Description"}),e.jsx("textarea",{className:"w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter description",value:c,onChange:s=>y(s.target.value)}),e.jsx("label",{className:"block text-2xl font-semibold mb-2",children:"Location"}),e.jsx("input",{className:"w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter location",value:d,onChange:s=>C(s.target.value)}),e.jsxs("div",{className:"flex justify-between gap-6",children:[e.jsxs("div",{className:"w-full",children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Select Rooms"}),e.jsx(T,{isMulti:!0,options:M,value:A,onChange:R,className:"basic-multi-select",classNamePrefix:"select",placeholder:"Select Room Type & Number"})]}),e.jsxs("label",{className:"flex w-full flex-col gap-6",children:[e.jsx("span",{className:"text-2xl font-semibold",children:"Ammenities"}),e.jsx(T,{isMulti:!0,options:$,value:f,onChange:h,className:"basic-multi-select",classNamePrefix:"select",placeholder:"Select Amenities"})]})]}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-2xl font-semibold mb-2",children:"Price"}),e.jsx("input",{className:"w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",type:"number",placeholder:"Enter price",value:m,onChange:s=>k(parseFloat(s.target.value))})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-2xl font-semibold mb-2",children:"Discounted Price"}),e.jsx("input",{className:"w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",type:"number",placeholder:"Enter discounted price",value:u,onChange:s=>D(parseFloat(s.target.value))})]})]})]}),Gallery:e.jsxs("div",{className:"p-6 ",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-6 ",children:"Upload Your Images"}),"Step2"]}),e.jsx(q,{onUploadSuccess:_,imagesUrls:j,isUploading:v})]}),"Customer Reviews":e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"flex justify-between flex-wrap",children:[e.jsx("h2",{className:"text-2xl font-semibold",children:"Customer Reviews"}),e.jsx("button",{className:"bg-gradient-to-r w-[150px]  from-blue-500 to-indigo-600 text-white p-2 rounded-lg shadow-md hover:shadow-lg hover:from-blue-600 hover:to-indigo-700 transition-all",onClick:F,children:"Submit"})]}),e.jsx("div",{className:"flex flex-wrap gap-6 w-full ",children:o.map((s,t)=>e.jsxs("div",{className:"p-4 border flex flex-col rounded-lg space-y-2 w-full sm:w-96 md:w-[47%] ",children:[e.jsxs("div",{className:"flex gap-4 flex-wrap justify-between",children:[e.jsxs("div",{className:"flex gap-4 flex-wrap",children:[e.jsx("input",{type:"text",placeholder:"Customer Name",value:s.name,onChange:l=>x(t,"name",l.target.value),className:"w-full sm:w-40 p-2 border rounded-lg"}),e.jsx("div",{className:"flex items-center gap-1",children:[1,2,3,4,5].map(l=>e.jsx("svg",{onClick:()=>x(t,"rating",l),xmlns:"http://www.w3.org/2000/svg",fill:l<=s.rating?"#F59E0B":"#D1D5DB",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-6 h-6 cursor-pointer",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.999 1.49l2.93 5.93 6.54.953-4.735 4.62 1.117 6.516-5.852-3.076-5.852 3.076 1.117-6.516-4.735-4.62 6.54-.953 2.93-5.93z"})},l))})]}),e.jsx("button",{onClick:()=>G(t),className:"text-red-500 py-1 px-3 rounded-lg",children:e.jsx(J,{})})]}),e.jsx("textarea",{placeholder:"Review Description",value:s.description,onChange:l=>x(t,"description",l.target.value),className:"w-full p-2 h-36 border rounded-lg"})]},t))}),e.jsx("button",{onClick:B,className:"mt-4 bg-blue-500 text-white py-2 px-4 rounded-lg",children:"Add More"})]})};return e.jsxs("div",{className:"bg-gray-50 min-h-screen py-4 flex flex-col pb-5",children:[e.jsx("h1",{className:"text-[48px] font-bold pb-8 px-10",children:"Add Hotel"}),e.jsx(K,{tabNames:z,tabContent:O,isUploading:v})]})};export{ne as default};
