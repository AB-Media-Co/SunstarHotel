import{b as j,r as o,j as e,q as b,a as y,o as N,d as w,s as k,p as v}from"./index-BlMCTi9B.js";import{C,A as S,R,F as I}from"./AmenitiesList2-Bi-mWt55.js";import{I as f}from"./Icons-B10op7wV.js";import{R as O}from"./Remove-4QPJdNLC.js";import{G as A,C as B,d as E}from"./Calendar-Cod6peRA.js";/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=j("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]),Q=({roomData:s})=>{const[t,a]=o.useState(1),[x,i]=o.useState(!1),d=[{id:"rooms",iconName:"roundedbed",label:"Rooms",link:"#rooms"},{id:"amenities",iconName:"lamp",label:"Amenities",link:"#amenities"},{id:"reviews",iconName:"message",label:"Reviews",link:"#reviews"},{id:"location",iconName:"location",label:"Location",link:"#location"},{id:"faqs",iconName:"faqs",label:"FAQs",link:"#faqs"}];o.useEffect(()=>{const l=localStorage.getItem("guestDetails");if(l){const c=JSON.parse(l);a(c.rooms||1)}},[]);const m=()=>{if(t>=3)i(!0);else{a(t+1);const l=localStorage.getItem("guestDetails");if(l){const c=JSON.parse(l);c.rooms=t+1,localStorage.setItem("guestDetails",JSON.stringify(c))}}},n=()=>{if(t>1){a(t-1);const l=localStorage.getItem("guestDetails");if(l){const c=JSON.parse(l);c.rooms=t-1,localStorage.setItem("guestDetails",JSON.stringify(c))}}};return e.jsxs("div",{className:"content mx-auto bg-primary-white p-6 relative",children:[x&&e.jsxs("div",{className:"absolute top-20 right-4 bg-white border border-gray-300 p-4 rounded-md shadow-md z-50 max-w-xs text-sm text-gray-700",children:[e.jsx("p",{className:"font-bold",children:"For a stay of 15 nights, only 2 rooms can be selected."}),e.jsx("p",{className:"mt-2",children:"Online bookings are limited to 30 units (rooms x nights) and a maximum of 3 rooms per booking."}),e.jsxs("div",{className:"flex items-center justify-end mt-4 gap-2",children:[e.jsx("button",{onClick:()=>{alert("Book more clicked!")},className:"px-3 py-1 bg-primary-green text-white rounded-full hover:bg-primary-green/90",children:"Book More"}),e.jsx("button",{onClick:()=>i(!1),className:"px-3 py-1 border border-gray-300 rounded-full hover:bg-gray-100",children:"Dismiss"})]})]}),e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start gap-6",children:[e.jsxs("div",{className:"flex flex-col gap-4 text-[#058FA2]",children:[e.jsx("h1",{className:"text-2xl md:text-4xl font-bold",children:s==null?void 0:s.RoomName}),e.jsx("p",{className:"text-base md:text-lg",children:"Book Direct for Lowest Prices!"}),e.jsxs("div",{className:"flex items-center gap-4",children:[(s==null?void 0:s.defaultRate)&&e.jsxs("span",{className:"text-sm md:text-base text-red-500 font-bold line-through",children:["₹ ",s==null?void 0:s.defaultRate]}),e.jsxs("p",{className:"text-xl md:text-2xl font-bold",children:["₹ ",s==null?void 0:s.discountRate," ",e.jsx("span",{className:"text-sm md:text-base text-gray-500 font-normal",children:"/ night Incl. taxes"})]})]})]}),e.jsx("div",{className:"flex flex-col gap-6 items-end text-[#058FA2]",children:e.jsxs("div",{className:"flex items-center border border-gray-300 rounded-full px-4 py-2",children:[e.jsx("button",{"aria-label":"Decrease Room Quantity",onClick:n,className:"text-yellow-500 hover:bg-yellow-100 rounded-full p-1 transition duration-200",children:e.jsx(O,{fontSize:"small"})}),e.jsxs("span",{className:"mx-3 text-lg",children:[t," ",t>1?"Rooms":"Room"]}),e.jsx("button",{"aria-label":"Increase Room Quantity",onClick:m,className:"text-yellow-500 hover:bg-yellow-100 rounded-full p-1 transition duration-200",children:e.jsx(b,{fontSize:"small"})})]})})]}),e.jsx("hr",{className:"my-6 border-gray-200"}),e.jsx("div",{className:"flex flex-wrap justify-center md:justify-between gap-6",children:d.map(l=>e.jsxs("button",{className:"flex flex-col sm:flex-row items-center gap-2 px-4 py-2 rounded-lg transition duration-200 focus:outline-none",children:[e.jsx(f,{name:l.iconName,className:"h-6 w-6 md:h-8 md:w-8"}),e.jsx("span",{className:"font-semibold text-sm md:text-base",children:l.label})]},l.id))})]})};function q({businessPlatformFeatures:s,hotelDetail:t}){const[a,x]=o.useState(null),[i,d]=o.useState(null),[m,n]=o.useState(!1),[l,c]=o.useState(!1),r=y();o.useEffect(()=>{const h=localStorage.getItem("checkInDate"),u=localStorage.getItem("checkOutDate");h&&u&&(x(h),d(u))},[]);const g=()=>{if(!a||!i){c(!0);return}else c(!1),r("/room/details",{state:{businessPlatformFeatures:s,hotelDetail:t,checkIn:a,checkOut:i}})},p=()=>{if(a&&i){const h=E(new Date(i),new Date(a));return e.jsxs("div",{children:[h," Nights"]})}return 0};return e.jsxs("div",{className:"lg:p-2",children:[e.jsx(C,{features:s==null?void 0:s.RoomImage,height:"h-[600px] rounded-lg",buttonColor:"#FDC114",iconSize:"h-6 w-6",NavClass:"bottom-[16rem] md:bottom-[10rem]"}),e.jsxs("div",{className:`bg-primary-white bg-opacity-50 backdrop-blur-sm py-8 px-4 lg:left-[10%] transition-all duration-500 ease-in-out 
          content absolute top-[46%] md:top-[55%]
          md:px-8 lg:px-12 rounded-md shadow-lg lg:mx-auto  
          z-10 flex flex-col items-center gap-6 mx-2
        `,children:[e.jsxs("div",{className:"flex justify-center flex-col md:flex-row items-center w-full space-y-4 md:space-y-0 space-x-0 md:space-x-4",children:[e.jsxs("div",{onClick:()=>n(!0),className:`flex flex-wrap w-full justify-center items-center border rounded-full px-6 py-3 hover:shadow-lg ease-in-out transition-all cursor-pointer space-x-2 shadow-sm ${l?"border-red-500":"border-[#006167]"}`,children:[e.jsx(f,{name:"calendar",className:"h-6 w-6 text-[#006167]"}),e.jsxs("span",{className:"text-[#006167] font-semibold text-base sm:text-lg md:text-[24px]",children:[a||"Check In"," ",e.jsx("span",{className:"text-yellow-500",children:"→"})," ",i||"Check Out"]}),a&&i&&e.jsxs("span",{className:"text-[#006167] text-xs sm:text-sm flex",children:["(",p(),")"]})]}),e.jsxs("div",{className:"flex items-center justify-between gap-4 w-full",children:[e.jsx(A,{classBg:"bg-transparant"}),e.jsx("button",{onClick:g,className:"bg-[#006167] text-primary-white text-sm sm:text-base lg:text-lg sm:w-auto rounded-full shadow-md px-6 py-3",children:"Book Room"})]})]}),l&&e.jsx("p",{className:"text-red-500 text-sm",children:"Please select Check-In and Check-Out dates."})]}),m&&e.jsx("div",{className:"fixed inset-0 flex justify-center items-center z-50",children:e.jsx(B,{setCheckInDate:x,setCheckOutDate:d,setOpenCalender:n})})]})}const z=({roomData:s})=>{var t,a;return e.jsx("div",{className:"w-full bg-primary-white py-4 md:py-12 px-4 md:px-8 lg:px-16",children:e.jsxs("div",{className:"content gap-5 flex md:items-center flex-col lg:flex-row justify-between",children:[e.jsxs("div",{className:"lg:w-1/2 md:text-center lg:text-left flex flex-col gap-4",children:[e.jsx("h1",{className:"text-mobile/h2 md:text-desktop/h2 text-reveal-animation font-bold",children:"Description"}),e.jsx("p",{className:"text-mobile/body/2 md:text-desktop/body/1 animation-on-scroll leading-relaxed",children:(t=s==null?void 0:s.AboutRoom)==null?void 0:t.description})]}),e.jsx("img",{src:(a=s==null?void 0:s.AboutRoom)==null?void 0:a.img,alt:"Corporate Booking Banner",className:"w-[500px] h-[250px] rounded-xl animation-on-scroll bg-cover"})]})})},P=()=>{const s=N(),[t,a]=o.useState(null),[x,i]=o.useState(!0),[d,m]=o.useState(null);w();const[n,l]=o.useState(null);return console.log(n),o.useEffect(()=>{s&&(async()=>{try{const r=await k(s==null?void 0:s.id);a(r)}catch(r){m(r)}finally{i(!1)}})()},[s]),o.useEffect(()=>{t&&(async()=>{try{const r=await v(t==null?void 0:t.HotelCode);l(r==null?void 0:r.hotel)}catch(r){m(r)}finally{i(!1)}})()},[n==null?void 0:n.HotelCode,t]),x?e.jsx("div",{children:e.jsx(L,{})}):d?e.jsxs("div",{children:["Error: ",d.message]}):e.jsxs("div",{children:[e.jsx(q,{businessPlatformFeatures:t,hotelDetail:n}),e.jsx(Q,{roomData:t}),e.jsx("hr",{className:"content h-[2px] bg-gray-400"}),e.jsx(z,{roomData:t}),e.jsx(S,{amenities:t==null?void 0:t.Amenities}),e.jsx("hr",{className:"mb-10 content h-[2px] bg-gray-400"}),e.jsx(R,{rooms:n==null?void 0:n.rooms,title:"Other Room"}),e.jsx("hr",{className:"mt-10 content h-[2px] bg-gray-400"}),e.jsx(I,{faqs:n==null?void 0:n.faqs})]})};export{P as default};
