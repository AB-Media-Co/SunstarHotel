var io=Object.defineProperty,ao=Object.defineProperties;var oo=Object.getOwnPropertyDescriptors;var at=Object.getOwnPropertySymbols;var qn=Object.prototype.hasOwnProperty,Rn=Object.prototype.propertyIsEnumerable;var Pn=(S,A,v)=>A in S?io(S,A,{enumerable:!0,configurable:!0,writable:!0,value:v}):S[A]=v,V=(S,A)=>{for(var v in A||(A={}))qn.call(A,v)&&Pn(S,v,A[v]);if(at)for(var v of at(A))Rn.call(A,v)&&Pn(S,v,A[v]);return S},Q=(S,A)=>ao(S,oo(A));var Ne=(S,A)=>{var v={};for(var c in S)qn.call(S,c)&&A.indexOf(c)<0&&(v[c]=S[c]);if(S!=null&&at)for(var c of at(S))A.indexOf(c)<0&&Rn.call(S,c)&&(v[c]=S[c]);return v};var xe=(S,A,v)=>new Promise((c,h)=>{var E=y=>{try{_(v.next(y))}catch(m){h(m)}},g=y=>{try{_(v.throw(y))}catch(m){h(m)}},_=y=>y.done?c(y.value):Promise.resolve(y.value).then(E,g);_((v=v.apply(S,A)).next())});import{r as $,j as e,e as Ln,g as ve,q as ot,s as lo,t as so}from"./index-DySQldRg.js";import{L as Ie}from"./loader-CZqe-WLA.js";import{P as bt}from"./plus-D3zUW9M3.js";import{T as xt}from"./trash-2-CAsciSlB.js";import{u as uo,a as co,b as fo,c as ho,d as po,e as vo,f as go,g as mo,h as yo,i as bo,j as xo}from"./use-Career-Page-dyAN_WDh.js";import{X as Ot}from"./x-5Db60WvN.js";import{S as Ze}from"./save-C2Gk1Oiv.js";import{u as Ge}from"./useUpdatePagesHook-CB8stgLp.js";import{C as Aa}from"./Close-CHUIWPgP.js";import{b as Ca,u as _o,d as jo,g as Oo,G as wo,T as ye,c as ne,a as ae,B as de,C as Ve,F as wt,I as St,S as Et,P as Pe,M as So}from"./TextField-YyFXX6PG.js";import{u as Eo,T as _n,a as Be}from"./index-BS0KVt-G.js";import{D as qe,a as Re,b as Le,c as ke,C as In}from"./DialogTitle-AatZhD7C.js";import{I as Fe,F as ko}from"./FormControlLabel-CicM1-KC.js";import{A as Pa,S as mt,D as Dn}from"./Stack-jlSoGZGh.js";import{D as De}from"./Delete-DBmNDilJ.js";import{I as Me}from"./ImageUpload-CTRjAuzU.js";import{G as _e,C as _t,a as xn}from"./Grid-A4FSEjLd.js";import{u as To,a as No,b as Ao,c as Co,d as Po,e as qo,f as Ro,g as Lo}from"./useDayUseRoomHook-CAq-b3d5.js";import{c as qa}from"./createLucideIcon-CMR6pimR.js";import{g as Io,u as Do,r as Mo}from"./dev-owners-stats-BKNkL8ap.js";import{u as Bo,a as Fo,b as Ho,c as Uo,d as zo,e as Wo,f as Go}from"./useEventPageHook-Bf7w1cIP.js";import{C as Ko}from"./Chip-CWuLzpNm.js";import{M as nt}from"./MenuItem-Byxayy5L.js";import{S as $o}from"./Switch-DMPt7amd.js";import{S as Ke}from"./Save-CPEiSgfh.js";import{A as We}from"./Add-GsjrcrSa.js";import{u as Vo,a as Zo,b as Yo}from"./useFaqsHooks-BgzPtfIp.js";import{uploadImagesAPIV2 as Ra}from"./useHotelHook2-CBYxhzBT.js";import{M as Jo}from"./MultipleImageUpload-DjarJ6ph.js";import{S as Qo}from"./square-pen-D6cQL2vn.js";import{c as Mn}from"./clsx-B-dksMZM.js";import{a as Xo,g as el,s as jn,m as On,b as La,f as Ia,u as tl,d as rl}from"./createSvgIcon-BLKtOz33.js";import{e as lt,b as nl,d as Bn,f as il,u as st,T as al,i as Fn}from"./useFormControl-CqLKZrWt.js";import{P as Da}from"./Popper-St630Q8M.js";import{C as Ma}from"./CardMedia-BwpqyfwM.js";import{u as ol,a as ll,b as sl,c as ul,d as cl,e as fl}from"./useLoyaltyProgramHook-rTnI4NCn.js";import{R as dl}from"./rotate-ccw-CoVr5yD_.js";import{C as hl}from"./chevron-down-Cgvf6f69.js";import{E as pl}from"./Edit-DQIm1XNf.js";import{u as vl,a as gl,b as ml,c as yl}from"./usePartnersHooks-DMJ-vu7S.js";import{u as bl,a as xl,b as _l,c as jl,d as Ol}from"./useTestimonialHook-LdxNUF-v.js";import{u as wl,a as Sl}from"./useTourAndTravel-ABw7bRw0.js";import{u as El,a as kl,b as Tl,c as Nl,d as Al,e as Cl}from"./useTravelAgentPage-CG1-Fujt.js";import"./Loader-D5JYIN4v.js";import"./index-DVQ1jBHH.js";import"./useThemeProps-CfxO14Gi.js";import"./SwitchBase-C87QXthr.js";import"./hoist-non-react-statics.cjs-Cxfv-rx9.js";/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pl=qa("Delete",[["path",{d:"M10 5a2 2 0 0 0-1.344.519l-6.328 5.74a1 1 0 0 0 0 1.481l6.328 5.741A2 2 0 0 0 10 19h10a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2z",key:"1yo7s0"}],["path",{d:"m12 9 6 6",key:"anjzzh"}],["path",{d:"m18 9-6 6",key:"1fp51s"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ql=qa("ListPlus",[["path",{d:"M11 12H3",key:"51ecnj"}],["path",{d:"M16 6H3",key:"1wxfjs"}],["path",{d:"M16 18H3",key:"12xzn7"}],["path",{d:"M18 9v6",key:"1twb98"}],["path",{d:"M21 12h-6",key:"bt1uis"}]]);function Rl(S){return el("MuiTooltip",S)}const be=Xo("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]);function Ll(S){return Math.round(S*1e5)/1e5}const Il=S=>{const{classes:A,disableInteractive:v,arrow:c,touch:h,placement:E}=S,g={popper:["popper",!v&&"popperInteractive",c&&"popperArrow"],tooltip:["tooltip",c&&"tooltipArrow",h&&"touch",`tooltipPlacement${La(E.split("-")[0])}`],arrow:["arrow"]};return rl(g,Rl,A)},Dl=jn(Da,{name:"MuiTooltip",slot:"Popper",overridesResolver:(S,A)=>{const{ownerState:v}=S;return[A.popper,!v.disableInteractive&&A.popperInteractive,v.arrow&&A.popperArrow,!v.open&&A.popperClose]}})(On(({theme:S})=>({zIndex:(S.vars||S).zIndex.tooltip,pointerEvents:"none",variants:[{props:({ownerState:A})=>!A.disableInteractive,style:{pointerEvents:"auto"}},{props:({open:A})=>!A,style:{pointerEvents:"none"}},{props:({ownerState:A})=>A.arrow,style:{[`&[data-popper-placement*="bottom"] .${be.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${be.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${be.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}},[`&[data-popper-placement*="left"] .${be.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}}}},{props:({ownerState:A})=>A.arrow&&!A.isRtl,style:{[`&[data-popper-placement*="right"] .${be.arrow}`]:{left:0,marginLeft:"-0.71em"}}},{props:({ownerState:A})=>A.arrow&&!!A.isRtl,style:{[`&[data-popper-placement*="right"] .${be.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:A})=>A.arrow&&!A.isRtl,style:{[`&[data-popper-placement*="left"] .${be.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:A})=>A.arrow&&!!A.isRtl,style:{[`&[data-popper-placement*="left"] .${be.arrow}`]:{left:0,marginLeft:"-0.71em"}}}]}))),Ml=jn("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(S,A)=>{const{ownerState:v}=S;return[A.tooltip,v.touch&&A.touch,v.arrow&&A.tooltipArrow,A[`tooltipPlacement${La(v.placement.split("-")[0])}`]]}})(On(({theme:S})=>({backgroundColor:S.vars?S.vars.palette.Tooltip.bg:Ia(S.palette.grey[700],.92),borderRadius:(S.vars||S).shape.borderRadius,color:(S.vars||S).palette.common.white,fontFamily:S.typography.fontFamily,padding:"4px 8px",fontSize:S.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:S.typography.fontWeightMedium,[`.${be.popper}[data-popper-placement*="left"] &`]:{transformOrigin:"right center"},[`.${be.popper}[data-popper-placement*="right"] &`]:{transformOrigin:"left center"},[`.${be.popper}[data-popper-placement*="top"] &`]:{transformOrigin:"center bottom",marginBottom:"14px"},[`.${be.popper}[data-popper-placement*="bottom"] &`]:{transformOrigin:"center top",marginTop:"14px"},variants:[{props:({ownerState:A})=>A.arrow,style:{position:"relative",margin:0}},{props:({ownerState:A})=>A.touch,style:{padding:"8px 16px",fontSize:S.typography.pxToRem(14),lineHeight:`${Ll(16/14)}em`,fontWeight:S.typography.fontWeightRegular}},{props:({ownerState:A})=>!A.isRtl,style:{[`.${be.popper}[data-popper-placement*="left"] &`]:{marginRight:"14px"},[`.${be.popper}[data-popper-placement*="right"] &`]:{marginLeft:"14px"}}},{props:({ownerState:A})=>!A.isRtl&&A.touch,style:{[`.${be.popper}[data-popper-placement*="left"] &`]:{marginRight:"24px"},[`.${be.popper}[data-popper-placement*="right"] &`]:{marginLeft:"24px"}}},{props:({ownerState:A})=>!!A.isRtl,style:{[`.${be.popper}[data-popper-placement*="left"] &`]:{marginLeft:"14px"},[`.${be.popper}[data-popper-placement*="right"] &`]:{marginRight:"14px"}}},{props:({ownerState:A})=>!!A.isRtl&&A.touch,style:{[`.${be.popper}[data-popper-placement*="left"] &`]:{marginLeft:"24px"},[`.${be.popper}[data-popper-placement*="right"] &`]:{marginRight:"24px"}}},{props:({ownerState:A})=>A.touch,style:{[`.${be.popper}[data-popper-placement*="top"] &`]:{marginBottom:"24px"}}},{props:({ownerState:A})=>A.touch,style:{[`.${be.popper}[data-popper-placement*="bottom"] &`]:{marginTop:"24px"}}}]}))),Bl=jn("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(S,A)=>A.arrow})(On(({theme:S})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:S.vars?S.vars.palette.Tooltip.bg:Ia(S.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}})));let ut=!1;const Hn=new al;let Qe={x:0,y:0};function ct(S,A){return(v,...c)=>{A&&A(v,...c),S(v,...c)}}const Fl=$.forwardRef(function(A,v){var Tn,Nn,An;const c=tl({props:A,name:"MuiTooltip"}),kn=c,{arrow:h=!1,children:E,classes:g,components:_={},componentsProps:y={},describeChild:m=!1,disableFocusListener:p=!1,disableHoverListener:o=!1,disableInteractive:t=!1,disableTouchListener:r=!1,enterDelay:u=100,enterNextDelay:s=0,enterTouchDelay:l=700,followCursor:n=!1,id:a,leaveDelay:f=0,leaveTouchDelay:i=1500,onClose:d,onOpen:O,open:x,placement:T="bottom",PopperComponent:q,PopperProps:j={},slotProps:b={},slots:w={},title:C,TransitionComponent:I,TransitionProps:k}=kn,R=Ne(kn,["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"]),M=$.isValidElement(E)?E:e.jsx("span",{children:E}),W=Ca(),H=_o(),[D,N]=$.useState(),[L,B]=$.useState(null),z=$.useRef(!1),F=t||n,P=lt(),U=lt(),G=lt(),K=lt(),[J,te]=nl({controlled:x,default:!1,name:"Tooltip",state:"open"});let ie=J;const oe=jo(a),le=$.useRef(),he=Bn(()=>{le.current!==void 0&&(document.body.style.WebkitUserSelect=le.current,le.current=void 0),K.clear()});$.useEffect(()=>he,[he]);const Oe=fe=>{Hn.clear(),ut=!0,te(!0),O&&!ie&&O(fe)},ge=Bn(fe=>{Hn.start(800+f,()=>{ut=!1}),te(!1),d&&ie&&d(fe),P.start(W.transitions.duration.shortest,()=>{z.current=!1})}),Z=fe=>{z.current&&fe.type!=="touchstart"||(D&&D.removeAttribute("title"),U.clear(),G.clear(),u||ut&&s?U.start(ut?s:u,()=>{Oe(fe)}):Oe(fe))},Y=fe=>{U.clear(),G.start(f,()=>{ge(fe)})},[,ee]=$.useState(!1),re=fe=>{Fn(fe.target)||(ee(!1),Y(fe))},X=fe=>{D||N(fe.currentTarget),Fn(fe.target)&&(ee(!0),Z(fe))},se=fe=>{z.current=!0;const Te=M.props;Te.onTouchStart&&Te.onTouchStart(fe)},ue=fe=>{se(fe),G.clear(),P.clear(),he(),le.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",K.start(l,()=>{document.body.style.WebkitUserSelect=le.current,Z(fe)})},ce=fe=>{M.props.onTouchEnd&&M.props.onTouchEnd(fe),he(),G.start(i,()=>{ge(fe)})};$.useEffect(()=>{if(!ie)return;function fe(Te){Te.key==="Escape"&&ge(Te)}return document.addEventListener("keydown",fe),()=>{document.removeEventListener("keydown",fe)}},[ge,ie]);const we=il(Oo(M),N,v);!C&&C!==0&&(ie=!1);const Se=$.useRef(),pe=fe=>{const Te=M.props;Te.onMouseMove&&Te.onMouseMove(fe),Qe={x:fe.clientX,y:fe.clientY},Se.current&&Se.current.update()},Ue={},me=typeof C=="string";m?(Ue.title=!ie&&me&&!o?C:null,Ue["aria-describedby"]=ie?oe:null):(Ue["aria-label"]=me?C:null,Ue["aria-labelledby"]=ie&&!me?oe:null);const je=V(Q(V(V(V({},Ue),R),M.props),{className:Mn(R.className,M.props.className),onTouchStart:se,ref:we}),n?{onMouseMove:pe}:{}),Je={};r||(je.onTouchStart=ue,je.onTouchEnd=ce),o||(je.onMouseOver=ct(Z,je.onMouseOver),je.onMouseLeave=ct(Y,je.onMouseLeave),F||(Je.onMouseOver=Z,Je.onMouseLeave=Y)),p||(je.onFocus=ct(X,je.onFocus),je.onBlur=ct(re,je.onBlur),F||(Je.onFocus=X,Je.onBlur=re));const ze=Q(V({},c),{isRtl:H,arrow:h,disableInteractive:F,placement:T,PopperComponentProp:q,touch:z.current}),Ee=typeof b.popper=="function"?b.popper(ze):b.popper,Za=$.useMemo(()=>{var Te,Cn;let fe=[{name:"arrow",enabled:!!L,options:{element:L,padding:4}}];return(Te=j.popperOptions)!=null&&Te.modifiers&&(fe=fe.concat(j.popperOptions.modifiers)),(Cn=Ee==null?void 0:Ee.popperOptions)!=null&&Cn.modifiers&&(fe=fe.concat(Ee.popperOptions.modifiers)),Q(V(V({},j.popperOptions),Ee==null?void 0:Ee.popperOptions),{modifiers:fe})},[L,j.popperOptions,Ee==null?void 0:Ee.popperOptions]),qt=Il(ze),Rt=typeof b.transition=="function"?b.transition(ze):b.transition,it={slots:V({popper:_.Popper,transition:(Tn=_.Transition)!=null?Tn:I,tooltip:_.Tooltip,arrow:_.Arrow},w),slotProps:{arrow:(Nn=b.arrow)!=null?Nn:y.arrow,popper:V(V({},j),Ee!=null?Ee:y.popper),tooltip:(An=b.tooltip)!=null?An:y.tooltip,transition:V(V({},k),Rt!=null?Rt:y.transition)}},[Ya,Ja]=st("popper",{elementType:Dl,externalForwardedProps:it,ownerState:ze,className:Mn(qt.popper,j==null?void 0:j.className)}),[Qa,Xa]=st("transition",{elementType:wo,externalForwardedProps:it,ownerState:ze}),[eo,to]=st("tooltip",{elementType:Ml,className:qt.tooltip,externalForwardedProps:it,ownerState:ze}),[ro,no]=st("arrow",{elementType:Bl,className:qt.arrow,externalForwardedProps:it,ownerState:ze,ref:B});return e.jsxs($.Fragment,{children:[$.cloneElement(M,je),e.jsx(Ya,Q(V(V({as:q!=null?q:Da,placement:T,anchorEl:n?{getBoundingClientRect:()=>({top:Qe.y,left:Qe.x,right:Qe.x,bottom:Qe.y,width:0,height:0})}:D,popperRef:Se,open:D?ie:!1,id:oe,transition:!0},Je),Ja),{popperOptions:Za,children:({TransitionProps:fe})=>e.jsx(Qa,Q(V(V({timeout:W.transitions.duration.shorter},fe),Xa),{children:e.jsxs(eo,Q(V({},to),{children:[C,h?e.jsx(ro,V({},no)):null]}))}))}))]})}),Hl=(S,A=500)=>{const v=$.useRef(null),c=$.useCallback((...h)=>{v.current&&clearTimeout(v.current),v.current=setTimeout(()=>{S(...h)},A)},[S,A]);return $.useEffect(()=>()=>{v.current&&clearTimeout(v.current)},[]),c},Ul=v=>{var c=v,{label:S}=c,A=Ne(c,["label"]);return e.jsxs("label",{className:"block group",children:[e.jsx("span",{className:"text-sm font-semibold text-gray-700 mb-2 block",children:S}),e.jsx("input",Q(V({},A),{className:`w-full rounded-lg border border-gray-300 px-4 py-2.5 outline-none transition-all duration-200 focus:border-blue-500 focus:ring-2 focus:ring-blue-100 hover:border-gray-400 ${A.className||""}`}))]})},zl=v=>{var c=v,{label:S}=c,A=Ne(c,["label"]);return e.jsxs("label",{className:"block",children:[e.jsx("span",{className:"text-sm font-semibold text-gray-700 mb-2 block",children:S}),e.jsx("textarea",Q(V({},A),{className:`w-full rounded-lg border border-gray-300 px-4 py-2.5 outline-none transition-all duration-200 focus:border-blue-500 focus:ring-2 focus:ring-blue-100 hover:border-gray-400 min-h-[90px] resize-none ${A.className||""}`}))]})},jt=({title:S,cards:A,onAdd:v,adding:c,onUpdate:h,onDelete:E,emptyMessage:g,fields:_=[],onBulk:y})=>{const m=Hl((o,t,r)=>{h(o,{[t]:r})}),p=(o,t)=>{var u;const r={label:t.label,value:(u=o[t.name])!=null?u:"",onChange:s=>m(o._id,t.name,s.target.value)};return t.type==="textarea"?e.jsx(zl,V({},r),t.name):e.jsx(Ul,V({type:t.type||"text"},r),t.name)};return e.jsxs("div",{className:"rounded-xl border border-gray-200 bg-gradient-to-br from-white to-gray-50 p-6 shadow-sm hover:shadow-md transition-shadow duration-300",children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:S}),e.jsx("div",{className:"flex gap-2",children:e.jsx("button",{onClick:v,disabled:c,className:"inline-flex items-center gap-2 rounded-lg bg-gradient-to-r from-emerald-600 to-emerald-700 px-4 py-2 text-sm font-medium text-white shadow-md hover:shadow-lg disabled:opacity-60",children:c?e.jsxs(e.Fragment,{children:[e.jsx(Ie,{size:16,className:"animate-spin"}),"Adding…"]}):e.jsxs(e.Fragment,{children:[e.jsx(bt,{size:16}),"Add Card"]})})})]}),e.jsx("ul",{className:"space-y-3",children:A.length>0?A.map(o=>e.jsxs("li",{className:"rounded-lg border border-gray-200 bg-white p-4 hover:shadow-md transition-shadow duration-200",children:[e.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:_.map(t=>p(o,t))}),e.jsx("div",{className:"mt-3 flex justify-end",children:e.jsxs("button",{onClick:()=>E(o._id),className:"inline-flex items-center gap-2 rounded-lg bg-red-600 px-3 py-1.5 text-sm font-medium text-white hover:bg-red-700",children:[e.jsx(xt,{size:14}),"Delete"]})})]},o._id)):e.jsx("li",{className:"rounded-lg border border-dashed border-gray-300 py-8 text-center",children:e.jsx("p",{className:"text-sm text-gray-500",children:g})})})]})},Un=({open:S,onClose:A,children:v,title:c})=>S?e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:A}),e.jsxs("div",{className:"relative z-10 w-full max-w-5xl max-h-[90vh] overflow-y-auto rounded-2xl bg-white shadow-2xl animate-in fade-in zoom-in-95 duration-300",children:[e.jsxs("div",{className:"sticky top-0 z-20 flex items-center justify-between gap-4 border-b border-gray-200 bg-gradient-to-r from-slate-50 to-white px-6 py-4",children:[e.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-cyan-600 bg-clip-text text-transparent",children:c}),e.jsx("button",{className:"p-2 rounded-lg hover:bg-gray-100",onClick:A,children:e.jsx(Ot,{size:20,className:"text-gray-600"})})]}),e.jsx("div",{className:"p-6",children:v})]})]}):null,Xe=v=>{var c=v,{label:S}=c,A=Ne(c,["label"]);return e.jsxs("label",{className:"block group",children:[e.jsx("span",{className:"text-sm font-semibold text-gray-700 mb-2 block",children:S}),e.jsx("input",Q(V({},A),{className:`w-full rounded-lg border border-gray-300 px-4 py-2.5 outline-none transition-all duration-200 focus:border-blue-500 focus:ring-2 focus:ring-blue-100 hover:border-gray-400 ${A.className||""}`}))]})},et=v=>{var c=v,{label:S}=c,A=Ne(c,["label"]);return e.jsxs("label",{className:"block",children:[e.jsx("span",{className:"text-sm font-semibold text-gray-700 mb-2 block",children:S}),e.jsx("textarea",Q(V({},A),{className:`w-full rounded-lg border border-gray-300 px-4 py-2.5 outline-none transition-all duration-200 focus:border-blue-500 focus:ring-2 focus:ring-blue-100 hover:border-gray-400 min-h-[90px] resize-none ${A.className||""}`}))]})},ft=({title:S,children:A,onSave:v,saving:c,icon:h})=>e.jsxs("div",{className:"rounded-xl border border-gray-200 bg-gradient-to-br from-white to-gray-50 p-6 shadow-sm hover:shadow-md transition-shadow duration-300",children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[h&&e.jsx(h,{size:24,className:"text-blue-600"}),e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:S})]}),v&&e.jsx("button",{onClick:v,disabled:c,className:"inline-flex items-center gap-2 rounded-lg bg-gradient-to-r from-blue-600 to-blue-700 px-4 py-2 text-sm font-medium text-white shadow-md hover:shadow-lg hover:from-blue-700 hover:to-blue-800 disabled:opacity-60",children:c?e.jsxs(e.Fragment,{children:[e.jsx(Ie,{size:16,className:"animate-spin"}),"Saving…"]}):e.jsxs(e.Fragment,{children:[e.jsx(Ze,{size:16}),"Save"]})})]}),e.jsx("div",{className:"space-y-4",children:A})]}),dt=()=>e.jsx("div",{className:"my-8 h-px bg-gradient-to-r from-transparent via-gray-300 to-transparent"}),Wl=()=>{const[S,A]=$.useState(!1),{data:v,isFetching:c}=uo({enabled:S}),h=co(),E=fo(),g=ho(),_=po(),y=vo(),m=go(),p=mo(),o=yo(),t=bo(),r=xo(),[u,s]=$.useState({heading:"",description:""}),[l,n]=$.useState({heading:"",description:""}),[a,f]=$.useState({heading:"",description:""}),[i,d]=$.useState({heading:"",description:"",email:""}),O=$.useMemo(()=>{var k,R;return(R=(k=v==null?void 0:v.benefits)==null?void 0:k.cards)!=null?R:[]},[v]),x=$.useMemo(()=>{var k;return(k=v==null?void 0:v.simpleCards)!=null?k:[]},[v]);$.useEffect(()=>{var k,R,M,W,H,D,N,L,B,z,F,P,U,G,K,J,te,ie;v&&(s({heading:(R=(k=v==null?void 0:v.hero)==null?void 0:k.heading)!=null?R:"",description:(W=(M=v==null?void 0:v.hero)==null?void 0:M.description)!=null?W:""}),n({heading:(D=(H=v==null?void 0:v.benefits)==null?void 0:H.heading)!=null?D:"",description:(L=(N=v==null?void 0:v.benefits)==null?void 0:N.description)!=null?L:""}),f({heading:(z=(B=v==null?void 0:v.joinTeam)==null?void 0:B.heading)!=null?z:"",description:(P=(F=v==null?void 0:v.joinTeam)==null?void 0:F.description)!=null?P:""}),d({heading:(G=(U=v==null?void 0:v.readyToJoin)==null?void 0:U.heading)!=null?G:"",description:(J=(K=v==null?void 0:v.readyToJoin)==null?void 0:K.description)!=null?J:"",email:(ie=(te=v==null?void 0:v.readyToJoin)==null?void 0:te.email)!=null?ie:""}))},[v]);const T=k=>xe(void 0,null,function*(){const R=k.map(M=>M.trim()).filter(Boolean).map(M=>{const[W,...H]=M.split(":");return H.length?{heading:W.trim(),description:H.join(":").trim()}:{heading:"Item",description:M}});try{yield Ln.post("/api/careers/benefit-cards/bulk",{cards:R})}catch(M){yield Promise.all(R.map(W=>y.mutateAsync(W)))}}),q=k=>xe(void 0,null,function*(){const R=k.map(M=>M.trim()).filter(Boolean).map(M=>{const[W,...H]=M.split(":");return H.length?{title:W.trim(),description:H.join(":").trim()}:{title:M.split(" ").slice(0,3).join(" "),description:M}});try{yield Ln.post("/api/careers/simple-cards/bulk",{cards:R})}catch(M){yield Promise.all(R.map(W=>o.mutateAsync(W)))}}),[j,b]=$.useState(null),[w,C]=$.useState(""),I=()=>xe(void 0,null,function*(){const k=w.split(`
`);j==="benefit"&&(yield T(k)),j==="simple"&&(yield q(k)),C(""),b(null)});return e.jsxs("div",{children:[e.jsx("button",{onClick:()=>A(!0),className:"myGlobalButton",children:"Manage Career Page"}),e.jsxs(Un,{open:S,onClose:()=>A(!1),title:"Manage Careers Page",children:[c&&e.jsxs("div",{className:"mb-6 rounded-lg border border-amber-200 bg-gradient-to-r from-amber-50 to-orange-50 p-4 flex items-center gap-3",children:[e.jsx(Ie,{size:18,className:"text-amber-600 animate-spin"}),e.jsx("p",{className:"text-sm font-medium text-amber-800",children:"Loading latest data…"})]}),e.jsx(ft,{title:"Hero Section",onSave:()=>h.mutate(u),saving:h.isPending,children:e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsx(Xe,{label:"Heading",value:u.heading,onChange:k=>s(R=>Q(V({},R),{heading:k.target.value}))}),e.jsx(et,{label:"Description",value:u.description,onChange:k=>s(R=>Q(V({},R),{description:k.target.value}))})]})}),e.jsx(dt,{}),e.jsx(ft,{title:"Benefits Section Header",onSave:()=>E.mutate(l),saving:E.isPending,children:e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsx(Xe,{label:"Heading",value:l.heading,onChange:k=>n(R=>Q(V({},R),{heading:k.target.value}))}),e.jsx(et,{label:"Description",value:l.description,onChange:k=>n(R=>Q(V({},R),{description:k.target.value}))})]})}),e.jsx(jt,{title:"Benefit Cards",cards:O,onAdd:()=>y.mutate({heading:"New Benefit",description:"Describe the benefit…"}),adding:y.isPending,onUpdate:(k,R)=>m.mutate({cardId:k,updateData:R}),onDelete:k=>p.mutate(k),emptyMessage:"No benefit cards yet. Create one to get started!",fields:[{name:"heading",label:"Card Heading",type:"text"},{name:"description",label:"Card Description",type:"textarea"}]}),e.jsx(dt,{}),e.jsx(ft,{title:"Join Team Section",onSave:()=>g.mutate(a),saving:g.isPending,children:e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsx(Xe,{label:"Heading",value:a.heading,onChange:k=>f(R=>Q(V({},R),{heading:k.target.value}))}),e.jsx(et,{label:"Description",value:a.description,onChange:k=>f(R=>Q(V({},R),{description:k.target.value}))})]})}),e.jsx(dt,{}),e.jsx(ft,{title:"Ready to Join Section",onSave:()=>_.mutate(i),saving:_.isPending,children:e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[e.jsx(Xe,{label:"Heading",value:i.heading,onChange:k=>d(R=>Q(V({},R),{heading:k.target.value}))}),e.jsx(et,{label:"Description",value:i.description,onChange:k=>d(R=>Q(V({},R),{description:k.target.value}))}),e.jsx(Xe,{label:"Contact Email",type:"email",value:i.email,onChange:k=>d(R=>Q(V({},R),{email:k.target.value}))})]})}),e.jsx(dt,{}),e.jsx(jt,{title:"Bottom Simple Cards",cards:x,onAdd:()=>o.mutate({title:"New Card",description:"New point…"}),adding:o.isPending,onUpdate:(k,R)=>t.mutate({cardId:k,updateData:R}),onDelete:k=>r.mutate(k),emptyMessage:"No simple cards yet. Add highlights about your company!",fields:[{name:"title",label:"Title",type:"text"},{name:"description",label:"Description",type:"textarea"}]})]}),e.jsx(Un,{open:!!j,onClose:()=>b(null),title:j==="benefit"?"Bulk Add Benefit Cards":"Bulk Add Simple Cards",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("p",{className:"text-sm text-gray-600",children:["Enter one item per line.",e.jsx("br",{}),e.jsx("span",{className:"font-medium",children:"Benefit:"})," ",e.jsx("code",{children:"Heading: Description"})," or just ",e.jsx("code",{children:"Description"}),e.jsx("br",{}),e.jsx("span",{className:"font-medium",children:"Simple:"})," ",e.jsx("code",{children:"Title: Description"})," or just ",e.jsx("code",{children:"Description"})]}),e.jsx(et,{label:"Items",placeholder:`Integrity: We always do what's right
Respect for All: We respect everyone
Excellence: We serve with heart and honesty`,value:w,onChange:k=>C(k.target.value)}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx("button",{className:"rounded-lg px-4 py-2 bg-gray-100 hover:bg-gray-200",onClick:()=>b(null),children:"Cancel"}),e.jsx("button",{className:"rounded-lg px-4 py-2 bg-emerald-600 text-white hover:bg-emerald-700",onClick:I,disabled:!w.trim(),children:"Add Items"})]})]})})]})},Gl=()=>{var b,w,C,I,k,R;const{ContactUsDetail:S,updateContactUs:A}=Ge(),[v,c]=$.useState(!1),[h,E]=$.useState((S==null?void 0:S.phoneNumber)||""),[g,_]=$.useState((S==null?void 0:S.emailId)||""),[y,m]=$.useState(((b=S==null?void 0:S.OtherEnquieirs)==null?void 0:b.reservations)||""),[p,o]=$.useState(((w=S==null?void 0:S.OtherEnquieirs)==null?void 0:w.corporateSales)||""),[t,r]=$.useState(((C=S==null?void 0:S.OtherEnquieirs)==null?void 0:C.traveAgentSales)||""),[u,s]=$.useState(((I=S==null?void 0:S.OtherEnquieirs)==null?void 0:I.marketing)||""),[l,n]=$.useState(((k=S==null?void 0:S.OtherEnquieirs)==null?void 0:k.careers)||""),[a,f]=$.useState(((R=S==null?void 0:S.OtherEnquieirs)==null?void 0:R.hotelDevelopment)||""),[i,d]=$.useState(""),O=Ca(),x=Eo(O.breakpoints.down("sm")),T=()=>{var M,W,H,D,N,L;E((S==null?void 0:S.phoneNumber)||""),_((S==null?void 0:S.emailId)||""),m(((M=S==null?void 0:S.OtherEnquieirs)==null?void 0:M.reservations)||""),o(((W=S==null?void 0:S.OtherEnquieirs)==null?void 0:W.corporateSales)||""),r(((H=S==null?void 0:S.OtherEnquieirs)==null?void 0:H.traveAgentSales)||""),s(((D=S==null?void 0:S.OtherEnquieirs)==null?void 0:D.marketing)||""),n(((N=S==null?void 0:S.OtherEnquieirs)==null?void 0:N.careers)||""),f(((L=S==null?void 0:S.OtherEnquieirs)==null?void 0:L.hotelDevelopment)||""),c(!0)},q=()=>{c(!1),d("")},j=()=>{if(!h||!g){d("Please fill in all required fields.");return}A({phoneNumber:h,emailId:g,OtherEnquieirs:{reservations:y,corporateSales:p,traveAgentSales:t,marketing:u,careers:l,hotelDevelopment:a}}),c(!1)};return e.jsxs("div",{children:[e.jsx("div",{className:"myGlobalButton",onClick:T,children:"Contact Us Page"}),e.jsxs(qe,{open:v,onClose:q,fullScreen:x,maxWidth:"sm",fullWidth:!0,children:[e.jsxs(Re,{sx:{m:0,p:2},children:[e.jsx(ye,{variant:"h6",children:"Contact Details"}),e.jsx(Fe,{"aria-label":"close",onClick:q,sx:{position:"absolute",right:8,top:8,color:M=>M.palette.grey[500]},children:e.jsx(Aa,{})})]}),e.jsxs(Le,{dividers:!0,children:[i&&e.jsx(Pa,{severity:"error",sx:{mb:2},children:i}),e.jsxs(mt,{spacing:2,children:[e.jsx(ne,{label:"Phone Number",value:h,onChange:M=>E(M.target.value),fullWidth:!0,required:!0}),e.jsx(ne,{label:"Email",value:g,onChange:M=>_(M.target.value),fullWidth:!0,required:!0,type:"email",helperText:"Enter a valid email address (e.g., example@example.com)"}),e.jsx("h1",{className:"text-desktop/h4 py-4",children:"  Other Enquiries"}),e.jsx(ne,{label:"Reservations",value:y,onChange:M=>m(M.target.value),fullWidth:!0}),e.jsx(ne,{label:"Corporate Sales",value:p,onChange:M=>o(M.target.value),fullWidth:!0}),e.jsx(ne,{label:"Travel Agent Sales",value:t,onChange:M=>r(M.target.value),fullWidth:!0}),e.jsx(ne,{label:"Marketing",value:u,onChange:M=>s(M.target.value),fullWidth:!0}),e.jsx(ne,{label:"Careers",value:l,onChange:M=>n(M.target.value),fullWidth:!0}),e.jsx(ne,{label:"Hotel Development",value:a,onChange:M=>f(M.target.value),fullWidth:!0})]})]}),e.jsxs(ke,{sx:{p:2},children:[e.jsx(ae,{onClick:q,color:"inherit",children:"Cancel"}),e.jsx(ae,{onClick:j,variant:"contained",color:"primary",children:"Update"})]})]})]})},Kl=()=>{const{CoorporateBooking:S,updtateCoorporateBooking:A}=Ge(),[v,c]=$.useState({CoorporateBookingHeadContent:{title:"",description:"",image:""},CoorporateBookingDescription:{title:"",description:"",image:""},BusinessPlatformSection:[],BenefitsSection:[]}),[h,E]=$.useState(!1),[g,_]=$.useState(!1),[y,m]=$.useState(!1);$.useEffect(()=>{var n,a,f,i,d,O;S&&c({CoorporateBookingHeadContent:{title:((n=S.CoorporateBookingHeadContent)==null?void 0:n.title)||"",description:((a=S.CoorporateBookingHeadContent)==null?void 0:a.description)||"",image:((f=S.CoorporateBookingHeadContent)==null?void 0:f.image)||""},CoorporateBookingDescription:{title:((i=S.CoorporateBookingDescription)==null?void 0:i.title)||"",description:((d=S.CoorporateBookingDescription)==null?void 0:d.description)||"",image:((O=S.CoorporateBookingDescription)==null?void 0:O.image)||""},BusinessPlatformSection:S.BusinessPlatformSection||[],BenefitsSection:S.BenefitsSection||[]})},[S]);const p=(n,a,f)=>{c(i=>Q(V({},i),{[n]:Q(V({},i[n]),{[a]:f})}))},o=(n,a)=>p("CoorporateBookingHeadContent",n,a),t=(n,a)=>p("CoorporateBookingDescription",n,a),r=(n,a,f)=>{c(i=>{const d=[...i.BenefitsSection];return d[n]=Q(V({},d[n]),{[a]:f}),Q(V({},i),{BenefitsSection:d})})},u=()=>{c(n=>n.BenefitsSection.length>=6?n:Q(V({},n),{BenefitsSection:[...n.BenefitsSection,{title:"",description:""}]}))},s=n=>{c(a=>Q(V({},a),{BenefitsSection:a.BenefitsSection.filter((f,i)=>i!==n)}))},l=n=>{n.preventDefault(),A(v),m(!1)};return e.jsxs("div",{children:[e.jsx("div",{className:"myGlobalButton",onClick:()=>m(!0),children:"Corporate Booking Page"}),e.jsxs(qe,{open:y,onClose:()=>m(!1),fullWidth:!0,maxWidth:"md",children:[e.jsx(Re,{children:"Corporate Booking"}),e.jsxs("form",{onSubmit:l,children:[e.jsxs(Le,{children:[e.jsxs(de,{sx:{mb:4},children:[e.jsx(ye,{variant:"h5",gutterBottom:!0,children:"Head Content"}),e.jsxs(_e,{container:!0,spacing:2,direction:"column",children:[e.jsx(_e,{item:!0,children:e.jsx(ne,{label:"Title",fullWidth:!0,value:v.CoorporateBookingHeadContent.title,onChange:n=>p("CoorporateBookingHeadContent","title",n.target.value)})}),e.jsxs(_e,{item:!0,children:[e.jsx(Me,{feature:v.CoorporateBookingHeadContent,handleFeatureChange:o,index:0,setImageUpload:E}),v.CoorporateBookingHeadContent.image&&e.jsx(de,{mt:1,children:e.jsx("img",{src:v.CoorporateBookingHeadContent.image,alt:"Preview",style:{width:50,height:50,objectFit:"cover",borderRadius:4}})})]}),e.jsx(_e,{item:!0,children:e.jsx(ne,{label:"Description",fullWidth:!0,multiline:!0,rows:4,value:v.CoorporateBookingHeadContent.description,onChange:n=>p("CoorporateBookingHeadContent","description",n.target.value)})})]})]}),e.jsxs(de,{sx:{mb:4},children:[e.jsx(ye,{variant:"h5",gutterBottom:!0,children:"Description Content"}),e.jsxs(_e,{container:!0,spacing:2,direction:"column",children:[e.jsx(_e,{item:!0,children:e.jsx(ne,{label:"Title",fullWidth:!0,value:v.CoorporateBookingDescription.title,onChange:n=>p("CoorporateBookingDescription","title",n.target.value)})}),e.jsxs(_e,{item:!0,children:[e.jsx(Me,{feature:v.CoorporateBookingDescription,handleFeatureChange:t,index:1,setImageUpload:_}),v.CoorporateBookingDescription.image&&e.jsx(de,{mt:1,children:e.jsx("img",{src:v.CoorporateBookingDescription.image,alt:"Preview",style:{width:50,height:50,objectFit:"cover",borderRadius:4}})})]}),e.jsx(_e,{item:!0,children:e.jsx(ne,{label:"Description",fullWidth:!0,multiline:!0,rows:4,value:v.CoorporateBookingDescription.description,onChange:n=>p("CoorporateBookingDescription","description",n.target.value)})})]})]}),e.jsxs(de,{sx:{mb:2},children:[e.jsx(ye,{variant:"h5",gutterBottom:!0,children:"Benefits Section"}),v.BenefitsSection.map((n,a)=>e.jsx(de,{sx:{mb:2,border:"1px solid #ccc",borderRadius:1,p:2},children:e.jsxs(_e,{container:!0,spacing:2,direction:"column",children:[e.jsx(_e,{item:!0,children:e.jsx(ne,{label:"Title",fullWidth:!0,value:n.title,onChange:f=>r(a,"title",f.target.value)})}),e.jsx(_e,{item:!0,children:e.jsx(ne,{label:"Description",fullWidth:!0,multiline:!0,minRows:2,value:n.description,onChange:f=>r(a,"description",f.target.value)})}),e.jsx(_e,{item:!0,children:e.jsx(Fe,{onClick:()=>s(a),color:"error",children:e.jsx(De,{})})})]})},a)),e.jsx(ae,{variant:"outlined",onClick:u,disabled:v.BenefitsSection.length>=6,children:"Add Benefit"})]})]}),e.jsx(ke,{children:h||g?e.jsx(Ve,{}):e.jsxs(e.Fragment,{children:[e.jsx(ae,{onClick:()=>m(!1),children:"Cancel"}),e.jsx(ae,{type:"submit",variant:"contained",color:"primary",children:"Save Changes"})]})})]})]})]})},$l=({open:S,onClose:A,title:v,children:c})=>S?e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:A}),e.jsxs("div",{className:"relative z-10 w-full max-w-5xl max-h-[92vh] overflow-hidden rounded-2xl bg-white shadow-2xl animate-in fade-in zoom-in-95 duration-300",children:[e.jsxs("div",{className:"sticky top-0 z-20 flex items-center justify-between gap-4 border-b border-gray-200 bg-gradient-to-r from-slate-50 to-white px-6 py-4",children:[e.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-cyan-600 bg-clip-text text-transparent",children:v}),e.jsx("button",{className:"p-2 rounded-lg hover:bg-gray-100",onClick:A,children:e.jsx(Ot,{size:20,className:"text-gray-600"})})]}),e.jsx("div",{className:"overflow-y-auto p-6 max-h-[calc(92vh-60px)]",children:c})]})]}):null,Lt=v=>{var c=v,{label:S}=c,A=Ne(c,["label"]);return e.jsxs("label",{className:"block group",children:[e.jsx("span",{className:"text-sm font-semibold text-gray-700 mb-2 block",children:S}),e.jsx("input",Q(V({},A),{className:`w-full rounded-lg border border-gray-300 px-4 py-2.5 outline-none transition-all duration-200 focus:border-blue-500 focus:ring-2 focus:ring-blue-100 hover:border-gray-400 ${A.className||""}`}))]})},It=v=>{var c=v,{label:S}=c,A=Ne(c,["label"]);return e.jsxs("label",{className:"block",children:[e.jsx("span",{className:"text-sm font-semibold text-gray-700 mb-2 block",children:S}),e.jsx("textarea",Q(V({},A),{className:`w-full rounded-lg border border-gray-300 px-4 py-2.5 outline-none transition-all duration-200 focus:border-blue-500 focus:ring-2 focus:ring-blue-100 hover:border-gray-400 min-h-[90px] resize-none ${A.className||""}`}))]})},Dt=({title:S,children:A,onSave:v,saving:c,actions:h})=>e.jsxs("div",{className:"rounded-xl border border-gray-200 bg-gradient-to-br from-white to-gray-50 p-6 shadow-sm hover:shadow-md transition-shadow duration-300",children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:S}),e.jsxs("div",{className:"flex items-center gap-2",children:[h,v&&e.jsx("button",{onClick:v,disabled:c,className:"inline-flex items-center gap-2 rounded-lg bg-gradient-to-r from-blue-600 to-blue-700 px-4 py-2 text-sm font-medium text-white shadow-md hover:shadow-lg disabled:opacity-60",children:c?e.jsxs(e.Fragment,{children:[e.jsx(Ie,{size:16,className:"animate-spin"}),"Saving…"]}):e.jsxs(e.Fragment,{children:[e.jsx(Ze,{size:16}),"Save"]})})]})]}),e.jsx("div",{className:"space-y-4",children:A})]}),ht=()=>e.jsx("div",{className:"my-8 h-px bg-gradient-to-r from-transparent via-gray-300 to-transparent"}),Vl=()=>{const[S,A]=$.useState(!1),{data:v,isFetching:c}=To({enabled:S}),h=No(),E=Ao(),g=Co(),_=Po(),y=qo(),m=Ro(),p=Lo(),[o,t]=$.useState({heading:"",description:""}),[r,u]=$.useState({heading:"",description:""}),s=$.useMemo(()=>{var i;return(i=v==null?void 0:v.benefits)!=null?i:[]},[v]),[l,n]=$.useState("");$.useEffect(()=>{var i,d,O,x,T,q,j,b,w,C;v&&(t({heading:(d=(i=v==null?void 0:v.hero)==null?void 0:i.heading)!=null?d:"",description:(x=(O=v==null?void 0:v.hero)==null?void 0:O.description)!=null?x:""}),u({heading:(q=(T=v==null?void 0:v.descCard)==null?void 0:T.heading)!=null?q:"",description:(b=(j=v==null?void 0:v.descCard)==null?void 0:j.description)!=null?b:""}),n(((C=(w=v==null?void 0:v.tandc)==null?void 0:w.points)!=null?C:[]).join(`
`)))},[v]);const a=()=>{const i=l.split(`
`).map(d=>d.trim()).filter(Boolean);m.mutate({points:i})},f=()=>{const i=l.split(`
`).map(d=>d.trim()).filter(Boolean);p.mutate({hero:o,descCard:r,tandc:{points:i}})};return e.jsxs("div",{children:[e.jsx("button",{className:"myGlobalButton",onClick:()=>A(!0),children:"Manage Day Use Rooms"}),e.jsxs($l,{open:S,onClose:()=>A(!1),title:"Manage Day-Use Rooms Content",children:[c&&e.jsxs("div",{className:"mb-6 rounded-lg border border-amber-200 bg-gradient-to-r from-amber-50 to-orange-50 p-4 flex items-center gap-3",children:[e.jsx(Ie,{size:18,className:"text-amber-600 animate-spin"}),e.jsx("p",{className:"text-sm font-medium text-amber-800",children:"Loading latest data…"})]}),e.jsx(Dt,{title:"Hero",onSave:()=>h.mutate(o),saving:h.isPending,children:e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsx(Lt,{label:"Heading",value:o.heading,onChange:i=>t(d=>Q(V({},d),{heading:i.target.value}))}),e.jsx(It,{label:"Description",value:o.description,onChange:i=>t(d=>Q(V({},d),{description:i.target.value}))})]})}),e.jsx(ht,{}),e.jsx(Dt,{title:"Description Card",onSave:()=>E.mutate(r),saving:E.isPending,children:e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsx(Lt,{label:"Heading",value:r.heading,onChange:i=>u(d=>Q(V({},d),{heading:i.target.value}))}),e.jsx(It,{label:"Description",value:r.description,onChange:i=>u(d=>Q(V({},d),{description:i.target.value}))})]})}),e.jsx(ht,{}),e.jsxs("div",{className:"rounded-xl border border-gray-200 bg-gradient-to-br from-white to-gray-50 p-6 shadow-sm hover:shadow-md transition-shadow duration-300",children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Benefits"}),e.jsx("button",{onClick:()=>g.mutate({title:"New benefit"}),disabled:g.isPending,className:"inline-flex items-center gap-2 rounded-lg bg-gradient-to-r from-emerald-600 to-emerald-700 px-4 py-2 text-sm font-medium text-white shadow-md hover:shadow-lg disabled:opacity-60",children:g.isPending?e.jsxs(e.Fragment,{children:[e.jsx(Ie,{size:16,className:"animate-spin"}),"Adding…"]}):e.jsxs(e.Fragment,{children:[e.jsx(bt,{size:16}),"Add Benefit"]})})]}),e.jsx("ul",{className:"space-y-3",children:s.length>0?s.map(i=>e.jsx("li",{className:"rounded-lg border border-gray-200 bg-white p-4 hover:shadow-md transition-shadow duration-200",children:e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-[1fr_auto]",children:[e.jsx(Lt,{label:"Title",value:i.title,onChange:d=>_.mutate({benefitId:i._id,title:d.target.value})}),e.jsx("div",{className:"flex items-end justify-end",children:e.jsxs("button",{onClick:()=>y.mutate(i._id),className:"inline-flex items-center gap-2 rounded-lg bg-red-600 px-3 py-2 text-sm font-medium text-white hover:bg-red-700",children:[e.jsx(xt,{size:14}),"Delete"]})})]})},i._id)):e.jsx("li",{className:"rounded-lg border border-dashed border-gray-300 py-8 text-center",children:e.jsx("p",{className:"text-sm text-gray-500",children:"No benefits yet. Add your first one!"})})})]}),e.jsx(ht,{}),e.jsxs(Dt,{title:"Terms & Conditions (Points)",actions:e.jsxs("button",{onClick:()=>n(i=>(i?i+`
`:"")+"• Example: Valid govt. ID required at check-in."),className:"inline-flex items-center gap-2 rounded-lg border border-emerald-200 px-4 py-2 text-sm font-medium text-emerald-700 hover:bg-emerald-50",children:[e.jsx(ql,{size:16}),"Add Example Line"]}),onSave:a,saving:m.isPending,children:[e.jsx(It,{label:"Points (one per line)",placeholder:`Valid government ID required at check-in.
Standard check-in after 8 AM; last check-out by 8 PM.
Rates vary by duration and availability.`,value:l,onChange:i=>n(i.target.value),className:"min-h-[140px]"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Tip: Write each point on a new line. Bullets will be rendered on the frontend."})]}),e.jsx(ht,{}),e.jsx("div",{className:"flex items-center justify-end",children:e.jsx("button",{onClick:f,disabled:p.isPending,className:"inline-flex items-center gap-2 rounded-lg bg-gradient-to-r from-blue-600 to-blue-700 px-5 py-2.5 text-sm font-semibold text-white shadow-md hover:shadow-lg disabled:opacity-60",children:p.isPending?e.jsxs(e.Fragment,{children:[e.jsx(Ie,{size:16,className:"animate-spin"}),"Saving All…"]}):e.jsxs(e.Fragment,{children:[e.jsx(Ze,{size:16}),"Save All Changes"]})})})]})]})},Zl=()=>{const[S,A]=$.useState(!1);return $.useEffect(()=>{if(!S)return;const v=c=>c.key==="Escape"&&A(!1);return window.addEventListener("keydown",v),()=>window.removeEventListener("keydown",v)},[S]),e.jsxs("div",{children:[e.jsx("button",{className:"myGlobalButton ",onClick:()=>A(!0),children:"Manage Dev & Owners Stats"}),S&&e.jsx(Yl,{onClose:()=>A(!1)})]})},Yl=({onClose:S})=>{const[A,v]=$.useState({approvedCount:0,rejectedCount:0,revivedCount:0}),[c,h]=$.useState(!0),[E,g]=$.useState(!1),[_,y]=$.useState(""),[m,p]=$.useState(!1),o=$.useCallback(()=>xe(void 0,null,function*(){var u,s,l;try{h(!0);const n=yield Io();v({approvedCount:(u=n==null?void 0:n.approvedCount)!=null?u:0,rejectedCount:(s=n==null?void 0:n.rejectedCount)!=null?s:0,revivedCount:(l=n==null?void 0:n.revivedCount)!=null?l:0}),y("")}catch(n){y((n==null?void 0:n.message)||"Failed to load stats")}finally{h(!1)}}),[]);$.useEffect(()=>{o()},[o]);const t=()=>xe(void 0,null,function*(){try{g(!0),p(!1);const u={approvedCount:Number(A.approvedCount)||0,rejectedCount:Number(A.rejectedCount)||0,revivedCount:Number(A.revivedCount)||0},s=yield Do(u);v(s),y(""),p(!0),setTimeout(()=>p(!1),1200)}catch(u){y((u==null?void 0:u.message)||"Save failed")}finally{g(!1)}}),r=()=>xe(void 0,null,function*(){if(window.confirm("Reset all counts to 0?"))try{const u=yield Mo();v(u),y("")}catch(u){y((u==null?void 0:u.message)||"Reset failed")}});return e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:S}),e.jsxs("div",{className:"relative w-full max-w-2xl rounded-2xl bg-white shadow-2xl ring-1 ring-black/5",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b",children:[e.jsx("h2",{className:"text-xl font-semibold tracking-tight",children:"Dev & Owners Stats"}),e.jsx("button",{className:"px-3 py-1.5 rounded-md bg-gray-100 hover:bg-gray-200 active:scale-[0.98]",onClick:S,"aria-label":"Close",children:"Close"})]}),e.jsxs("div",{className:"px-6 py-5",children:[_&&e.jsx("div",{className:"mb-4 rounded-md border border-red-200 bg-red-50 px-3 py-2 text-sm text-red-700",children:_}),c?e.jsx(Jl,{}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[e.jsx(Mt,{label:"Approved",value:A.approvedCount,tone:"emerald",onChange:u=>v(s=>Q(V({},s),{approvedCount:u}))}),e.jsx(Mt,{label:"Rejected",value:A.rejectedCount,tone:"amber",onChange:u=>v(s=>Q(V({},s),{rejectedCount:u}))}),e.jsx(Mt,{label:"Revived",value:A.revivedCount,tone:"indigo",onChange:u=>v(s=>Q(V({},s),{revivedCount:u}))})]}),e.jsxs("div",{className:"mt-5 flex flex-wrap gap-2",children:[e.jsx("button",{onClick:t,disabled:E,className:"rounded-lg px-4 py-2 bg-cyan-600 text-white hover:bg-cyan-700 disabled:opacity-60 active:scale-[0.99]",children:E?"Saving…":"Save Counts"}),e.jsx("button",{onClick:r,className:"rounded-lg px-4 py-2 bg-gray-100 hover:bg-gray-200 active:scale-[0.99]",children:"Reset to 0"}),m&&e.jsx("span",{className:"text-sm text-emerald-700 bg-emerald-50 border border-emerald-200 px-2 py-1 rounded-md",children:"Saved ✓"})]})]})]})]})]})},zn={emerald:{ring:"ring-emerald-200",bg:"bg-emerald-50",text:"text-emerald-700",inputRing:"focus:ring-emerald-400",chip:"bg-emerald-100 hover:bg-emerald-200 text-emerald-700"},amber:{ring:"ring-amber-200",bg:"bg-amber-50",text:"text-amber-700",inputRing:"focus:ring-amber-400",chip:"bg-amber-100 hover:bg-amber-200 text-amber-800"},indigo:{ring:"ring-indigo-200",bg:"bg-indigo-50",text:"text-indigo-700",inputRing:"focus:ring-indigo-400",chip:"bg-indigo-100 hover:bg-indigo-200 text-indigo-700"}},Mt=({label:S,value:A,onChange:v,tone:c="emerald"})=>{const h=zn[c]||zn.emerald;return e.jsxs("div",{className:`rounded-xl border p-4 ring-1 ${h.ring}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:`text-sm ${h.text}`,children:S}),e.jsx("span",{className:"text-xs text-gray-400",children:"editable"})]}),e.jsx("div",{className:"flex items-end justify-between gap-3",children:e.jsx("input",{type:"number",min:0,value:A!=null?A:0,onChange:E=>v(Math.max(0,Number(E.target.value))),className:`w-28 rounded-md border border-gray-300 px-3 py-2 outline-none focus:ring-2 ${h.inputRing}`})})]})},Jl=()=>e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[0,1,2].map(S=>e.jsxs("div",{className:"rounded-xl border p-4",children:[e.jsx("div",{className:"h-4 w-24 bg-gray-200 rounded mb-3 animate-pulse"}),e.jsxs("div",{className:"flex items-end justify-between",children:[e.jsx("div",{className:"h-8 w-16 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-10 w-28 bg-gray-200 rounded animate-pulse"})]})]},S))});function $e(h){var E=h,{children:S,value:A,index:v}=E,c=Ne(E,["children","value","index"]);return e.jsx("div",Q(V({role:"tabpanel",hidden:A!==v,id:`event-tabpanel-${v}`,"aria-labelledby":`event-tab-${v}`},c),{children:A===v&&e.jsx(de,{sx:{p:3},children:S})}))}const Ql=()=>{var B,z;const[S,A]=$.useState(!1),[v,c]=$.useState(0),[h,E]=$.useState("eventandconf"),[g,_]=$.useState("view"),y=[{slug:"eventandconf",name:"Event and Conference (Parent)",type:"parent"},{slug:"socialevent",name:"Social Events",type:"child"},{slug:"corporateevent",name:"Corporate Events",type:"child"},{slug:"weddingprewedding",name:"Wedding & Pre-Wedding",type:"child"}];Bo(!1);const{data:m,isLoading:p,refetch:o}=Fo(h);Ho(),Uo();const{mutate:t,isPending:r}=zo(),{mutate:u,isPending:s}=Wo();Go();const[l,n]=$.useState({pageSlug:"",pageName:"",pageType:"parent",active:!0,heroSection:{heading:"",subheading:"",description:""},ourEvents:[],celebrationsSeamless:{title:"",description:"",benefits:[]},descriptionText:"",celebrationTypes:{heading:"",description:"",types:[]},meta:{title:"",description:"",keywords:[],ogImage:""}}),[a,f]=$.useState(!1);$.useEffect(()=>{m!=null&&m.data&&g==="view"&&n({pageSlug:m.data.pageSlug||"",pageName:m.data.pageName||"",pageType:m.data.pageType||"parent",active:m.data.active||!1,heroSection:m.data.heroSection||{heading:"",subheading:"",description:""},ourEvents:m.data.ourEvents||[],celebrationsSeamless:m.data.celebrationsSeamless||{title:"",description:"",benefits:[]},descriptionText:m.data.descriptionText||"",celebrationTypes:m.data.celebrationTypes||{heading:"",description:"",types:[]},meta:m.data.meta||{title:"",description:"",keywords:[],ogImage:""}})},[m,g]);const i=()=>A(!0),d=()=>{A(!1),_("view"),c(0)},O=F=>{E(F.target.value),_("view")},x=()=>{t({slug:h,section:"heroSection",sectionData:l.heroSection},{onSuccess:()=>o()})},T=()=>{l.pageType==="parent"&&t({slug:h,section:"ourEvents",sectionData:l.ourEvents},{onSuccess:()=>o()})},q=()=>{l.pageType==="parent"&&t({slug:h,section:"celebrationsSeamless",sectionData:l.celebrationsSeamless},{onSuccess:()=>o()})},j=()=>{l.pageType==="child"&&t({slug:h,section:"descriptionText",sectionData:{value:l.descriptionText}},{onSuccess:()=>o()})},b=()=>{l.pageType==="child"&&t({slug:h,section:"celebrationTypes",sectionData:l.celebrationTypes},{onSuccess:()=>o()})},w=()=>{u(h,{onSuccess:()=>o()})},C=()=>{n(F=>Q(V({},F),{ourEvents:[...F.ourEvents,{image:"",title:"",description:""}]}))},I=F=>{n(P=>Q(V({},P),{ourEvents:P.ourEvents.filter((U,G)=>G!==F)}))},k=(F,P,U)=>{n(G=>Q(V({},G),{ourEvents:G.ourEvents.map((K,J)=>J===F?Q(V({},K),{[P]:U}):K)}))},R=()=>{n(F=>Q(V({},F),{celebrationTypes:Q(V({},F.celebrationTypes),{types:[...F.celebrationTypes.types,{image:"",title:""}]})}))},M=F=>{n(P=>Q(V({},P),{celebrationTypes:Q(V({},P.celebrationTypes),{types:P.celebrationTypes.types.filter((U,G)=>G!==F)})}))},W=(F,P,U)=>{n(G=>Q(V({},G),{celebrationTypes:Q(V({},G.celebrationTypes),{types:G.celebrationTypes.types.map((K,J)=>J===F?Q(V({},K),{[P]:U}):K)})}))},H=()=>{n(F=>Q(V({},F),{celebrationsSeamless:Q(V({},F.celebrationsSeamless),{benefits:[...F.celebrationsSeamless.benefits,{title:"",description:""}]})}))},D=F=>{n(P=>Q(V({},P),{celebrationsSeamless:Q(V({},P.celebrationsSeamless),{benefits:P.celebrationsSeamless.benefits.filter((U,G)=>G!==F)})}))},N=(F,P,U)=>{n(G=>Q(V({},G),{celebrationsSeamless:Q(V({},G.celebrationsSeamless),{benefits:G.celebrationsSeamless.benefits.map((K,J)=>J===F?Q(V({},K),{[P]:U}):K)})}))},L=((B=y.find(F=>F.slug===h))==null?void 0:B.type)||"parent";return e.jsxs("div",{children:[e.jsx("button",{className:"myGlobalButton",onClick:i,children:"Event & Conference Pages"}),e.jsxs(qe,{open:S,onClose:d,maxWidth:"lg",fullWidth:!0,children:[e.jsx(Re,{sx:{borderBottom:1,borderColor:"divider",pb:2},children:e.jsxs(de,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[e.jsx("span",{children:"Manage Event & Conference Pages"}),(m==null?void 0:m.data)&&e.jsx(Ko,{label:m.data.active?"Active":"Inactive",color:m.data.active?"success":"default",size:"small"})]})}),e.jsxs(Le,{dividers:!0,sx:{minHeight:"500px"},children:[e.jsxs(wt,{fullWidth:!0,margin:"normal",sx:{mb:3},children:[e.jsx(St,{children:"Select Page"}),e.jsx(Et,{value:h,onChange:O,label:"Select Page",children:y.map(F=>e.jsx(nt,{value:F.slug,children:F.name},F.slug))})]}),p?e.jsx(de,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"300px",children:e.jsx(Ve,{})}):m!=null&&m.data?e.jsxs(e.Fragment,{children:[e.jsx(de,{mb:2,children:e.jsx(ko,{control:e.jsx($o,{checked:m.data.active,onChange:w,disabled:s}),label:m.data.active?"Page is Active":"Page is Inactive"})}),e.jsxs(_n,{value:v,onChange:(F,P)=>c(P),sx:{mb:2},children:[e.jsx(Be,{label:"Hero Section"}),L==="parent"&&e.jsx(Be,{label:"Our Events"}),L==="parent"&&e.jsx(Be,{label:"Celebrations Seamless"}),L==="child"&&e.jsx(Be,{label:"Description"}),L==="child"&&e.jsx(Be,{label:"Celebration Types"})]}),e.jsx($e,{value:v,index:0,children:e.jsxs(Pe,{elevation:2,sx:{p:3},children:[e.jsx(ne,{fullWidth:!0,label:"Heading",margin:"normal",value:l.heroSection.heading,onChange:F=>n(P=>Q(V({},P),{heroSection:Q(V({},P.heroSection),{heading:F.target.value})}))}),e.jsx(ne,{fullWidth:!0,label:"Subheading",margin:"normal",value:l.heroSection.subheading,onChange:F=>n(P=>Q(V({},P),{heroSection:Q(V({},P.heroSection),{subheading:F.target.value})}))}),e.jsx(ne,{fullWidth:!0,label:"Description",margin:"normal",multiline:!0,rows:3,value:l.heroSection.description,onChange:F=>n(P=>Q(V({},P),{heroSection:Q(V({},P.heroSection),{description:F.target.value})}))}),e.jsx(ae,{variant:"contained",startIcon:e.jsx(Ke,{}),onClick:x,disabled:r,sx:{mt:2},children:"Save Hero Section"})]})}),L==="parent"&&e.jsxs($e,{value:v,index:1,children:[e.jsx(de,{mb:2,children:e.jsx(ae,{variant:"outlined",startIcon:e.jsx(We,{}),onClick:C,children:"Add Event"})}),l.ourEvents.map((F,P)=>e.jsxs(Pe,{elevation:2,sx:{p:2,mb:2,position:"relative"},children:[e.jsx(Fe,{onClick:()=>I(P),sx:{position:"absolute",top:8,right:8},color:"error",children:e.jsx(De,{})}),e.jsx(Me,{feature:F,handleFeatureChange:(U,G)=>k(P,U,G),setImageUpload:f,index:`our-event-${P}`}),e.jsx(ne,{fullWidth:!0,label:"Title",margin:"normal",value:F.title,onChange:U=>k(P,"title",U.target.value)}),e.jsx(ne,{fullWidth:!0,label:"Description",margin:"normal",multiline:!0,rows:2,value:F.description,onChange:U=>k(P,"description",U.target.value)})]},P)),e.jsx(ae,{variant:"contained",startIcon:e.jsx(Ke,{}),onClick:T,disabled:r||a,sx:{mt:2},children:a?"Uploading Image...":"Save Our Events"})]}),L==="parent"&&e.jsxs($e,{value:v,index:2,children:[e.jsxs(Pe,{elevation:2,sx:{p:3,mb:2},children:[e.jsx(ne,{fullWidth:!0,label:"Title",margin:"normal",value:l.celebrationsSeamless.title,onChange:F=>n(P=>Q(V({},P),{celebrationsSeamless:Q(V({},P.celebrationsSeamless),{title:F.target.value})}))}),e.jsx(ne,{fullWidth:!0,label:"Description",margin:"normal",multiline:!0,rows:4,value:l.celebrationsSeamless.description,onChange:F=>n(P=>Q(V({},P),{celebrationsSeamless:Q(V({},P.celebrationsSeamless),{description:F.target.value})}))})]}),e.jsx(de,{mb:2,children:e.jsx(ae,{variant:"outlined",startIcon:e.jsx(We,{}),onClick:H,children:"Add Benefit"})}),(z=l.celebrationsSeamless.benefits)==null?void 0:z.map((F,P)=>e.jsxs(Pe,{elevation:2,sx:{p:2,mb:2,position:"relative"},children:[e.jsx(Fe,{onClick:()=>D(P),sx:{position:"absolute",top:8,right:8},color:"error",children:e.jsx(De,{})}),e.jsx(ne,{fullWidth:!0,label:"Benefit Title",margin:"normal",value:F.title,onChange:U=>N(P,"title",U.target.value)}),e.jsx(ne,{fullWidth:!0,label:"Benefit Description",margin:"normal",multiline:!0,rows:2,value:F.description,onChange:U=>N(P,"description",U.target.value)})]},P)),e.jsx(ae,{variant:"contained",startIcon:e.jsx(Ke,{}),onClick:q,disabled:r,sx:{mt:2},children:"Save Celebrations Seamless"})]}),L==="child"&&e.jsx($e,{value:v,index:1,children:e.jsxs(Pe,{elevation:2,sx:{p:3},children:[e.jsx(ne,{fullWidth:!0,label:"Description Text",margin:"normal",multiline:!0,rows:6,value:l.descriptionText,onChange:F=>n(P=>Q(V({},P),{descriptionText:F.target.value})),helperText:"Main paragraph text for this page"}),e.jsx(ae,{variant:"contained",startIcon:e.jsx(Ke,{}),onClick:j,disabled:r,sx:{mt:2},children:"Save Description"})]})}),L==="child"&&e.jsxs($e,{value:v,index:2,children:[e.jsxs(Pe,{elevation:2,sx:{p:3,mb:2},children:[e.jsx(ne,{fullWidth:!0,label:"Section Heading",margin:"normal",value:l.celebrationTypes.heading,onChange:F=>n(P=>Q(V({},P),{celebrationTypes:Q(V({},P.celebrationTypes),{heading:F.target.value})}))}),e.jsx(ne,{fullWidth:!0,label:"Section Description",margin:"normal",multiline:!0,rows:2,value:l.celebrationTypes.description,onChange:F=>n(P=>Q(V({},P),{celebrationTypes:Q(V({},P.celebrationTypes),{description:F.target.value})}))})]}),e.jsx(de,{mb:2,children:e.jsx(ae,{variant:"outlined",startIcon:e.jsx(We,{}),onClick:R,children:"Add Celebration Type"})}),l.celebrationTypes.types.map((F,P)=>e.jsxs(Pe,{elevation:2,sx:{p:2,mb:2,position:"relative"},children:[e.jsx(Fe,{onClick:()=>M(P),sx:{position:"absolute",top:8,right:8},color:"error",children:e.jsx(De,{})}),e.jsx(Me,{feature:F,handleFeatureChange:(U,G)=>W(P,U,G),setImageUpload:f,index:`celebration-type-${P}`}),e.jsx(ne,{fullWidth:!0,label:"Title",margin:"normal",value:F.title,onChange:U=>W(P,"title",U.target.value)})]},P)),e.jsx(ae,{variant:"contained",startIcon:e.jsx(Ke,{}),onClick:b,disabled:r||a,sx:{mt:2},children:a?"Uploading Image...":"Save Celebration Types"})]}),e.jsx($e,{value:v,index:3,children:e.jsxs(Pe,{elevation:2,sx:{p:3},children:[e.jsx(ne,{fullWidth:!0,label:"Meta Title",margin:"normal",value:l.meta.title,onChange:F=>n(P=>Q(V({},P),{meta:Q(V({},P.meta),{title:F.target.value})}))}),e.jsx(ne,{fullWidth:!0,label:"Meta Description",margin:"normal",multiline:!0,rows:2,value:l.meta.description,onChange:F=>n(P=>Q(V({},P),{meta:Q(V({},P.meta),{description:F.target.value})}))}),e.jsx(de,{mt:2,children:e.jsx(Me,{feature:{image:l.meta.ogImage},handleFeatureChange:(F,P)=>n(U=>Q(V({},U),{meta:Q(V({},U.meta),{ogImage:P})})),setImageUpload:f,index:"meta-og-image"})}),e.jsx(ae,{variant:"contained",startIcon:e.jsx(Ke,{}),onClick:()=>t({slug:h,section:"meta",sectionData:l.meta},{onSuccess:()=>o()}),disabled:r,sx:{mt:2},children:"Save Meta Tags"})]})})]}):e.jsx(Pa,{severity:"info",children:"This page doesn't exist yet. Content will be created when you save."})]}),e.jsx(ke,{sx:{p:2,borderTop:1,borderColor:"divider"},children:e.jsx(ae,{onClick:d,children:"Close"})})]})]})},Xl=()=>{const[S,A]=$.useState([]),[v,c]=$.useState([]),[h,E]=$.useState(!1),[g,_]=$.useState("Day Stays Rooms"),y=["Day Stays Rooms","Events & Conference","corporate-booking","Career","Travel Agent"],{data:m,isLoading:p,error:o}=Vo(g),{mutate:t}=Zo(),{mutate:r}=Yo();$.useEffect(()=>{m&&Array.isArray(m)&&A(m)},[m]);const u=d=>{_(d.target.value)},s=(d,O,x)=>{const T=[...S];T[d]=Q(V({},T[d]),{[O]:x}),A(T)},l=()=>{A([...S,{question:"",answer:""}])},n=d=>{const O=S[d];O._id&&c(x=>[...x,O._id]),A(x=>x.filter((T,q)=>q!==d))},a=()=>{const d=S.filter(O=>!O._id&&O.question&&O.answer).map(O=>Q(V({},O),{page:g}));if(d.length===0&&v.length===0){alert("Please add at least one new FAQ with a question and answer.");return}d.length>0&&t(d),v.forEach(O=>r(O)),c([]),E(!1)},f=()=>E(!0),i=()=>E(!1);return e.jsxs("div",{children:[e.jsx("div",{className:"myGlobalButton",onClick:f,children:"Manage FAQs"}),e.jsxs(qe,{open:h,onClose:i,maxWidth:"md",fullWidth:!0,children:[e.jsx(Re,{children:"Manage FAQs"}),e.jsxs(Le,{dividers:!0,children:[e.jsxs(wt,{fullWidth:!0,margin:"normal",children:[e.jsx(St,{children:"Choose Page"}),e.jsx(Et,{value:g,onChange:u,label:"Choose Page",children:y.map(d=>e.jsx(nt,{value:d,className:"",children:d},d))})]}),p&&e.jsx("p",{children:"Loading..."}),o&&e.jsxs("p",{children:["Error: ",o.message]}),!p&&!o&&S.length===0&&e.jsx("p",{className:"text-gray-500 text-center my-4",children:'No FAQ found. Click "Add FAQ" to create one.'}),S.map((d,O)=>e.jsxs(Pe,{sx:{p:2,mb:2,position:"relative"},elevation:3,children:[e.jsx(Fe,{onClick:()=>n(O),sx:{position:"absolute",top:8,right:8},color:"error",children:e.jsx(De,{})}),e.jsx(ne,{label:"Question",fullWidth:!0,margin:"normal",value:d.question,onChange:x=>s(O,"question",x.target.value)}),e.jsx(ne,{label:"Answer",fullWidth:!0,margin:"normal",value:d.answer,onChange:x=>s(O,"answer",x.target.value)})]},O)),e.jsx(ae,{variant:"outlined",onClick:l,sx:{mr:2},children:"Add FAQ"})]}),e.jsxs(ke,{children:[e.jsx(ae,{onClick:i,children:"Cancel"}),e.jsx(ae,{variant:"contained",onClick:a,children:"Add Multiple FAQs"})]})]})]})},es=[{value:"default",label:"Default (Global)"},{value:"travelAgent",label:"Travel Agent"},{value:"career",label:"Career"}],ts=()=>{const{galleryImages:S,addGalleryImages:A}=Ge(),[v,c]=$.useState(!1),[h,E]=$.useState([]),[g,_]=$.useState([]),[y,m]=$.useState(!1),[p,o]=$.useState(0),[t,r]=$.useState(""),[u,s]=$.useState(null),[l,n]=$.useState("#ffffff"),[a,f]=$.useState("default"),i=["#4DB8B6","#4DD0E2","#C4C4C4","#FDD304","#F1B300","#FFE566","#FFE359","#00E0FF","#BDD9D8"];$.useEffect(()=>{if(!S)return;const k=(S==null?void 0:S[a])||(S==null?void 0:S.default)||S,R=Array.isArray(k==null?void 0:k.images)?k.images:[],M=Array.isArray(k==null?void 0:k.content)?k.content:[];E(R),_(M)},[S,a]);const d=k=>xe(void 0,null,function*(){if(k.length===0){ve.error("No images selected");return}c(!0);try{const R=yield Ra(k),W=(Array.isArray(R)?R:[R])[0].imageUrls||[];E(H=>[...H,...W]),ve.success("Images uploaded successfully!")}catch(R){console.error("Error uploading images:",R),ve.error("Error uploading images")}finally{c(!1)}}),O=k=>{E(R=>R.filter(M=>M!==k))},x=()=>m(!0),T=()=>{m(!1),j()},q=(k,R)=>{o(R),j()},j=()=>{s(null),r(""),n("#ffffff")},b=()=>{if(!t.trim()){ve.error("Please enter some content");return}const k={type:"div",content:t,bg:l};u!==null?(_(R=>R.map((M,W)=>W===u?k:M)),ve.success("Content updated successfully!")):(_(R=>[...R,k]),ve.success("Content added successfully!")),j()},w=k=>{const R=g[k];s(k),r(R.content||""),n(R.bg||"#ffffff")},C=k=>{_(R=>R.filter((M,W)=>W!==k)),ve.success("Content deleted successfully!")},I=()=>xe(void 0,null,function*(){try{yield A({massonaryGrid:{images:h,content:g},path:a}),ve.success(`Gallery updated for "${a}"!`),T()}catch(k){console.error("Error saving gallery:",k),ve.error("Failed to update gallery")}});return e.jsxs("div",{children:[e.jsx("div",{className:"myGlobalButton",onClick:x,children:"Edit Gallery"}),e.jsx(So,{open:y,onClose:T,"aria-labelledby":"gallery-modal-title",children:e.jsxs(de,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:1400,height:700,bgcolor:"background.paper",boxShadow:24,p:4,overflow:"auto"},children:[e.jsxs("div",{className:"flex justify-between items-center mb-4 gap-4 flex-wrap",children:[e.jsx(ye,{variant:"h5",id:"gallery-modal-title",children:"Edit Gallery"}),e.jsx(ne,{select:!0,size:"small",label:"Path",value:a,onChange:k=>f(k.target.value),sx:{minWidth:220},helperText:"Choose grid scope (keeps data separate)",children:es.map(k=>e.jsx(nt,{value:k.value,children:k.label},k.value))}),e.jsx(ae,{variant:"contained",onClick:I,startIcon:e.jsx(Ze,{size:18}),disabled:v,children:"Save All Changes"})]}),e.jsxs(_n,{value:p,onChange:q,children:[e.jsx(Be,{label:"Upload Images"}),e.jsx(Be,{label:"Manage Content"})]}),e.jsxs("div",{className:"mt-4",children:[p===0&&e.jsxs("div",{children:[e.jsxs(ye,{variant:"h6",className:"mb-4",children:["Image Gallery (",a,")"]}),e.jsx(Jo,{onUploadSuccess:d,isUploading:v,imagesUrls:h,onRemoveImageUrl:O})]}),p===1&&e.jsxs("div",{children:[e.jsxs(ye,{variant:"h6",className:"mb-4",children:[u!==null?"Edit Content":"Add New Content"," (",a,")"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx(ne,{fullWidth:!0,multiline:!0,rows:3,value:t,onChange:k=>r(k.target.value),placeholder:"Enter your content here..."}),e.jsxs("div",{children:[e.jsx(ye,{children:"Color"}),e.jsx("div",{className:"flex gap-2 mt-2",children:i.map(k=>e.jsx("div",{className:`w-8 h-8 rounded-full cursor-pointer border-2 ${l===k?"border-black":"border-transparent"}`,style:{backgroundColor:k},onClick:()=>n(k)},k))}),e.jsxs("div",{className:"mt-4 flex items-center gap-4",children:[e.jsx("div",{className:"w-24 h-24 rounded border",style:{backgroundColor:l}}),e.jsxs("div",{className:"space-x-2",children:[e.jsx(ae,{variant:"contained",onClick:b,children:u!==null?"Update":"Add"}),u!==null&&e.jsx(ae,{variant:"outlined",onClick:j,children:"Cancel"})]})]})]})]}),e.jsxs("div",{className:"border-l pl-4",children:[e.jsx(ye,{variant:"h6",className:"mb-4",children:"Existing Content"}),e.jsx("div",{className:"space-y-4",children:g.map((k,R)=>e.jsxs("div",{className:"p-4 rounded relative",style:{backgroundColor:k.bg},children:[e.jsx("p",{children:k.content}),e.jsxs("div",{className:"absolute top-2 right-2 flex gap-2",children:[e.jsx("button",{onClick:()=>w(R),className:"p-1 hover:bg-black/10 rounded",children:e.jsx(Qo,{size:16})}),e.jsx("button",{onClick:()=>C(R),className:"p-1 hover:bg-black/10 rounded",children:e.jsx(Pl,{size:16})})]})]},R))})]})]})]})]}),e.jsx(ke,{children:e.jsx(ae,{onClick:T,children:"Close"})})]})})]})},Bt={image:"",heading:"",description:""},rs=()=>{const{heroSectionUpdate:S,updateHerosection:A,homePageDescription:v,updateHomepageDescriptionData:c,whatMakesUsShineData:h,upsertWhatMakesUsShine:E}=Ge(),[g,_]=$.useState({heading:"",description:"",image:""}),[y,m]=$.useState(null),[p,o]=$.useState(""),[t,r]=$.useState({heading:"",description:""}),[u,s]=$.useState({heading:"",description:""}),[l,n]=$.useState([Bt,Bt,Bt]),[a,f]=$.useState(null),[i,d]=$.useState(!1);$.useEffect(()=>{S&&_({heading:S.heading||"",description:S.description||"",image:S.image||""})},[S]),$.useEffect(()=>{v&&r({heading:v.heading||"",description:v.description||""})},[v]),$.useEffect(()=>{h&&(s({heading:h.heading||"",description:h.description||""}),Array.isArray(h.items)&&h.items.length===3&&n(h.items.map(k=>({image:k.image||"",heading:k.heading||"",description:k.description||""}))))},[h]),$.useEffect(()=>()=>{p&&URL.revokeObjectURL(p)},[p]);const O=()=>d(!0),x=()=>{if(d(!1),p)try{URL.revokeObjectURL(p)}catch(k){}m(null),o(""),f(null)},T=k=>{const{name:R,value:M}=k.target;_(W=>Q(V({},W),{[R]:M}))},q=k=>{if(!k)return;if(p)try{URL.revokeObjectURL(p)}catch(M){}const R=URL.createObjectURL(k);m(k),o(R)},j=k=>{const{name:R,value:M}=k.target;r(W=>Q(V({},W),{[R]:M}))},b=k=>{const{name:R,value:M}=k.target;s(W=>Q(V({},W),{[R]:M}))},w=(k,R,M)=>{n(W=>{const H=[...W];return H[k]=Q(V({},H[k]),{[R]:M}),H})},C=()=>xe(void 0,null,function*(){var k,R;try{let M=V({},g);if(y){const W=yield Ra([y]),H=(W==null?void 0:W.url)||((k=W==null?void 0:W[0])==null?void 0:k.url)||((R=W==null?void 0:W.imageUrls)==null?void 0:R[0])||"";H&&(M.image=H)}yield A({heroSection:M}),yield c({homePageDescription:t}),d(!1)}catch(M){console.error("Error updating basic content:",M)}}),I=()=>xe(void 0,null,function*(){try{if(!(u.heading.trim()&&u.description.trim()&&l.length===3&&l.every(R=>R.image&&R.heading.trim()&&R.description.trim()))){console.warn("Please fill all shine fields and all 3 items");return}yield E({heading:u.heading,description:u.description,items:l})}catch(k){console.error("Saving Shine failed:",k)}});return e.jsxs("div",{children:[e.jsx("div",{onClick:O,className:"h-[150px] max-w-md bg-white rounded-xl text-center shadow-lg hover:shadow-xl cursor-pointer font-semibold p-10 text-2xl",children:"Home Page Data"}),e.jsxs(qe,{open:i,onClose:x,fullWidth:!0,maxWidth:"md",children:[e.jsxs(Re,{sx:{m:0,p:2},children:["Home Page Data",e.jsx(Fe,{"aria-label":"close",onClick:x,sx:{position:"absolute",right:8,top:8,color:k=>k.palette.grey[500]},children:e.jsx(Aa,{})})]}),e.jsxs(Le,{dividers:!0,children:[e.jsxs(de,{sx:{mb:3},children:[e.jsx("h1",{className:"text-desktop/h4 p",children:"Hero Section Data"}),e.jsx(ne,{name:"heading",label:"Hero Heading",value:g.heading,onChange:T,fullWidth:!0,margin:"normal"}),e.jsx(ne,{name:"description",label:"Hero Description",value:g.description,onChange:T,fullWidth:!0,margin:"normal",multiline:!0,rows:4}),e.jsxs(mt,{direction:"row",spacing:2,alignItems:"center",sx:{mt:1},children:[e.jsxs(ae,{variant:"outlined",component:"label",children:["Upload Hero Image",e.jsx("input",{type:"file",accept:"image/*",hidden:!0,onChange:k=>{var R;return q(((R=k.target.files)==null?void 0:R[0])||null)}})]}),(p||g.image)&&e.jsx(Fl,{title:"Preview",arrow:!0,children:e.jsx("img",{src:p||g.image,alt:"hero-preview",style:{height:48,width:80,objectFit:"cover",borderRadius:6,border:"1px solid #eee"},onError:k=>k.currentTarget.style.display="none"})})]})]}),e.jsx(Dn,{sx:{my:3}}),e.jsxs(de,{sx:{mb:3},children:[e.jsx("h1",{className:"text-desktop/h4 py-4",children:"Home Page Description"}),e.jsx(ne,{label:"Home Page Heading",variant:"outlined",name:"heading",fullWidth:!0,value:t.heading,onChange:j,sx:{mb:2}}),e.jsx(ne,{label:"Home Page Description",variant:"outlined",name:"description",fullWidth:!0,multiline:!0,rows:4,value:t.description,onChange:j,sx:{mb:2}})]}),e.jsx(Dn,{sx:{my:3}}),e.jsxs(de,{children:[e.jsx("h1",{className:"text-desktop/h4 py-2",children:"What Makes Us Shine"}),e.jsxs(_e,{container:!0,spacing:2,sx:{mb:2},children:[e.jsx(_e,{item:!0,xs:12,md:6,children:e.jsx(ne,{label:"Shine Main Heading",name:"heading",fullWidth:!0,value:u.heading,onChange:b})}),e.jsx(_e,{item:!0,xs:12,md:6,children:e.jsx(ne,{label:"Shine Main Description",name:"description",fullWidth:!0,value:u.description,onChange:b})})]}),e.jsx(_e,{container:!0,spacing:2,children:l.map((k,R)=>e.jsx(_e,{item:!0,xs:12,md:4,children:e.jsxs(_t,{variant:"outlined",sx:{height:"100%"},children:[k.image?e.jsx(Ma,{component:"img",height:"140",image:k.image,alt:`shine-${R}`,onError:M=>M.currentTarget.style.display="none"}):e.jsx(de,{sx:{height:140,bgcolor:"action.hover",display:"flex",alignItems:"center",justifyContent:"center",color:"text.secondary"},children:"No Image"}),e.jsx(xn,{children:e.jsxs(mt,{spacing:1,children:[e.jsx(Me,{feature:k,index:R,setImageUpload:M=>f(M?R:null),handleFeatureChange:(M,W)=>w(R,M,W)}),e.jsx(ne,{label:`Item ${R+1} Heading`,value:k.heading,onChange:M=>w(R,"heading",M.target.value),fullWidth:!0}),e.jsx(ne,{label:`Item ${R+1} Description`,value:k.description,onChange:M=>w(R,"description",M.target.value),fullWidth:!0,multiline:!0,rows:3})]})})]})},R))}),e.jsx(mt,{direction:"row",justifyContent:"flex-end",sx:{mt:2},children:e.jsx(ae,{variant:"contained",onClick:I,children:"Save “What Makes Us Shine”"})})]})]}),e.jsxs(ke,{sx:{p:2},children:[e.jsx(ae,{onClick:x,variant:"outlined",children:"Cancel"}),e.jsx(ae,{onClick:C,variant:"contained",children:"Save Hero & Description"})]})]})]})},ns=()=>({level:"",name:"",requirement_text:"",benefit_text:"",unlock_after_nights:0,style:{}}),Wn=()=>({title:"",description:"",icon:""}),pt={title:"Join Sunstar Rewards.",subtitle:"Sunstar's loyalty program for frequent travelers—earn perks and exclusive benefits every time you stay with us.",hero_cta:{text:"See your benefits",link:"/benefits"},loyal_guest:{heading:"Become a Loyal Sunstar Guest",description:"A rewarding loyalty program built for our most valued guests — like you, who choose comfort, consistency, and care with every stay."},tiers:[{level:1,name:"Smart Traveller",requirement_text:"Complete 5 nights in 365 days",benefit_text:"5% discount on future bookings",unlock_after_nights:5},{level:2,name:"Frequent Explorer",requirement_text:"Complete 10 nights in 365 days",benefit_text:"10% discount on all bookings",unlock_after_nights:10},{level:3,name:"Elite Guest",requirement_text:"Complete 20 nights in 365 days",benefit_text:"15% discount on all bookings",unlock_after_nights:20}],how_it_works:[{title:"Stay with Us",description:"Book your stay directly through our official website or contact numbers. Every night you stay counts towards your rewards.",icon:"bed"},{title:"Track Your Nights",description:"We automatically track your completed nights within a 365-day period. You do not need to sign up again or carry a membership card.",icon:"clock"},{title:"Unlock Rewards",description:"Your loyalty starts paying off after just 5 nights. Unlock bigger benefits as you stay more.",icon:"medal"}],sidebar_widget:{member_type:"Guest",stays:0}},vt=({label:S,section:A,count:v,setExpandedSection:c,expandedSection:h})=>e.jsxs("button",{onClick:()=>c(h===A?null:A),className:"w-full flex items-center justify-between p-4 hover:bg-slate-50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-sm font-semibold text-slate-700",children:S}),v!==void 0&&e.jsx("span",{className:"text-xs bg-slate-200 text-slate-600 px-2 py-1 rounded-full",children:v})]}),e.jsx(hl,{size:18,className:`text-slate-400 transition-transform ${h===A?"rotate-180":""}`})]}),Ae=({label:S,value:A,onChange:v,placeholder:c,type:h="text",rows:E=1})=>e.jsxs("label",{className:"flex flex-col gap-2",children:[e.jsx("span",{className:"text-sm font-medium text-slate-700",children:S}),E>1?e.jsx("textarea",{value:A,onChange:v,placeholder:c,rows:E,className:"px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-slate-300 focus:border-transparent resize-none"}):e.jsx("input",{type:h,value:A,onChange:v,placeholder:c,className:"px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-slate-300 focus:border-transparent"})]});function is(){var b,w,C,I;const{data:S,isLoading:A,isError:v}=ol(),c=(S==null?void 0:S.data)||S,h=ll(),E=sl();ul();const g=cl(),_=fl(),[y,m]=$.useState(!1),[p,o]=$.useState(null),[t,r]=$.useState("banner"),[u,s]=$.useState(!1),l=$.useRef(null),n=()=>{o(JSON.parse(JSON.stringify(c||pt))),m(!0)},a=()=>m(!1);$.useEffect(()=>(y?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[y]),$.useEffect(()=>{y&&c&&!p&&o(JSON.parse(JSON.stringify(c)))},[y,c,p]),$.useEffect(()=>{y&&l.current&&setTimeout(()=>{var k;return(k=l.current)==null?void 0:k.focus()},50)},[y]),$.useEffect(()=>{const k=R=>{R.key==="Escape"&&m(!1)};return y&&window.addEventListener("keydown",k),()=>window.removeEventListener("keydown",k)},[y]);const f=(k,R)=>{o(M=>{const W=V({},M||{}),H=k.split(".");let D=W;for(let N=0;N<H.length-1;N++){const L=H[N];D[L]||(D[L]={}),D=D[L]}return D[H[H.length-1]]=R,W})},i=()=>xe(this,null,function*(){var R,M,W,H;const k=(()=>{const D=p?V({},p):JSON.parse(JSON.stringify(pt));D.tiers=Array.isArray(D.tiers)?[...D.tiers]:[];const N=D.tiers.reduce((L,B)=>Math.max(L,Number(B.level||0)),0);return Q(V({},ns()),{level:N+1})})();o(D=>{const N=V({},D||{});return N.tiers=Array.isArray(N.tiers)?[...N.tiers,k]:[k],N});try{const D=yield E.mutateAsync(k);D&&o(D)}catch(D){o(L=>{const B=V({},L||{});return B.tiers=(B.tiers||[]).filter(z=>Number(z.level)!==Number(k.level)||z.name!==k.name),B});const N=(H=(W=(M=(R=D==null?void 0:D.response)==null?void 0:R.data)==null?void 0:M.message)!=null?W:D==null?void 0:D.message)!=null?H:"Error adding tier";ve.error(N)}}),d=(k,R,M)=>{o(W=>{const H=V({},W||{});return H.tiers=(H.tiers||[]).map((D,N)=>N===k?Q(V({},D),{[R]:M}):D),H})},O=k=>xe(this,null,function*(){var D,N,L,B;const R=((p==null?void 0:p.tiers)||[])[k];if(!R)return;const M=Number(R.level);if(!(Array.isArray(c==null?void 0:c.tiers)&&c.tiers.some(z=>Number(z.level)===M))){o(z=>{const F=V({},z||{});return F.tiers=(F.tiers||[]).filter((P,U)=>U!==k),F});return}if(!confirm(`Delete tier level ${M} from server? This cannot be undone.`))return;const H=p?JSON.parse(JSON.stringify(p)):null;o(z=>{const F=V({},z||{});return F.tiers=(F.tiers||[]).filter((P,U)=>U!==k),F});try{const z=yield g.mutateAsync(M);z?(o(z),ve.success("Tier deleted")):ve.success("Tier deleted (server)")}catch(z){H&&o(H);const F=(B=(L=(N=(D=z==null?void 0:z.response)==null?void 0:D.data)==null?void 0:N.message)!=null?L:z==null?void 0:z.message)!=null?B:"Error deleting tier";ve.error(F)}}),x=()=>{o(k=>{const R=V({},k||{});return R.how_it_works=Array.isArray(R.how_it_works)?[...R.how_it_works,Wn()]:[Wn()],R})},T=(k,R,M)=>{o(W=>{const H=V({},W||{});return H.how_it_works=(H.how_it_works||[]).map((D,N)=>N===k?Q(V({},D),{[R]:M}):D),H})},q=k=>{o(R=>{const M=V({},R||{});return M.how_it_works=(M.how_it_works||[]).filter((W,H)=>H!==k),M})},j=()=>xe(this,null,function*(){var k,R,M,W,H;if(!p||!p.title||!((k=p.loyal_guest)!=null&&k.heading)){ve.error("Please provide page title and Loyal Guest heading");return}s(!0);try{const D=yield h.mutateAsync(p);D&&o(D),ve.success("Loyalty Program saved"),m(!1)}catch(D){const N=(H=(W=(M=(R=D==null?void 0:D.response)==null?void 0:R.data)==null?void 0:M.message)!=null?W:D==null?void 0:D.message)!=null?H:"Save failed";ve.error(N)}finally{s(!1)}});return A?e.jsx("button",{disabled:!0,className:"px-4 py-2 bg-slate-300 text-slate-600 rounded-lg text-sm font-medium",children:"Loading..."}):e.jsxs("div",{children:[e.jsx("button",{onClick:n,className:`myGlobalButton ${v?"bg-red-600 text-white":"bg-slate-700 "}`,children:"Loyalty Program"}),y&&p!==null&&e.jsxs("div",{className:"fixed inset-0 z-[9999] flex items-start justify-center p-4 pt-8",role:"dialog","aria-modal":"true",children:[e.jsx("div",{className:"absolute inset-0 bg-black/20 backdrop-blur-sm",onClick:a}),e.jsxs("div",{className:"relative z-10 w-full max-w-3xl max-h-[85vh] bg-white rounded-2xl shadow-xl overflow-hidden flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-200 bg-gradient-to-r from-slate-50 to-white",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Loyalty Program Settings"}),e.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Manage tiers, benefits, and program details"})]}),e.jsx("button",{ref:l,onClick:a,className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:e.jsx(Ot,{size:20,className:"text-slate-600"})})]}),e.jsx("div",{className:"flex-1 overflow-auto",children:e.jsxs("div",{className:"divide-y divide-slate-200",children:[e.jsxs("div",{className:"border-b border-slate-200",children:[e.jsx(vt,{label:"Banner & Hero",section:"banner",setExpandedSection:r,expandedSection:t}),t==="banner"&&e.jsxs("div",{className:"p-6 bg-slate-50 space-y-4",children:[e.jsx(Ae,{label:"Heading",value:p.title||"",onChange:k=>f("title",k.target.value),placeholder:"Enter main heading"}),e.jsx(Ae,{label:"Description",value:p.subtitle||"",onChange:k=>f("subtitle",k.target.value),placeholder:"Enter subtitle or description",rows:3})]})]}),e.jsxs("div",{className:"border-b border-slate-200",children:[e.jsx(vt,{label:"Loyal Guest Section",section:"loyal",setExpandedSection:r,expandedSection:t}),t==="loyal"&&e.jsxs("div",{className:"p-6 bg-slate-50 space-y-4",children:[e.jsx(Ae,{label:"Section Heading",value:((b=p.loyal_guest)==null?void 0:b.heading)||"",onChange:k=>f("loyal_guest.heading",k.target.value),placeholder:"e.g., Become a Loyal Sunstar Guest"}),e.jsx(Ae,{label:"Section Description",value:((w=p.loyal_guest)==null?void 0:w.description)||"",onChange:k=>f("loyal_guest.description",k.target.value),placeholder:"Describe the loyalty program benefits",rows:3})]})]}),e.jsxs("div",{className:"border-b border-slate-200",children:[e.jsx(vt,{label:"Membership Tiers",section:"tiers",count:((C=p.tiers)==null?void 0:C.length)||0,setExpandedSection:r,expandedSection:t}),t==="tiers"&&e.jsxs("div",{className:"p-6 bg-slate-50 space-y-4",children:[e.jsxs("button",{onClick:i,className:"w-full flex items-center justify-center gap-2 py-2 px-4 border-2 border-dashed border-slate-300 rounded-lg hover:border-slate-400 hover:bg-slate-100 transition-colors text-slate-700 font-medium text-sm",children:[e.jsx(bt,{size:16})," Add Tier"]}),e.jsxs("div",{className:"space-y-3",children:[(p.tiers||[]).map((k,R)=>{var M;return e.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg p-4 space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(Ae,{label:"Level",type:"number",value:(M=k.level)!=null?M:"",onChange:W=>d(R,"level",Number(W.target.value)),placeholder:"e.g., 1"}),e.jsx(Ae,{label:"Tier Name",value:k.name||"",onChange:W=>d(R,"name",W.target.value),placeholder:"e.g., Smart Traveller"})]}),e.jsx(Ae,{label:"Requirement",value:k.requirement_text||"",onChange:W=>d(R,"requirement_text",W.target.value),placeholder:"e.g., Complete 5 nights in 365 days"}),e.jsx(Ae,{label:"Benefit",value:k.benefit_text||"",onChange:W=>d(R,"benefit_text",W.target.value),placeholder:"e.g., 5% discount on all bookings"}),e.jsx("div",{className:"flex justify-end",children:e.jsxs("button",{onClick:()=>O(R),className:"flex items-center gap-2 px-3 py-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors text-sm font-medium",children:[e.jsx(xt,{size:16})," Remove"]})})]},R)}),(!p.tiers||p.tiers.length===0)&&e.jsx("div",{className:"text-center py-8 text-slate-500 text-sm",children:"No tiers configured yet"})]})]})]}),e.jsxs("div",{className:"border-b border-slate-200",children:[e.jsx(vt,{label:"How It Works",section:"howitworks",count:((I=p.how_it_works)==null?void 0:I.length)||0,setExpandedSection:r,expandedSection:t}),t==="howitworks"&&e.jsxs("div",{className:"p-6 bg-slate-50 space-y-4",children:[e.jsxs("button",{onClick:x,className:"w-full flex items-center justify-center gap-2 py-2 px-4 border-2 border-dashed border-slate-300 rounded-lg hover:border-slate-400 hover:bg-slate-100 transition-colors text-slate-700 font-medium text-sm",children:[e.jsx(bt,{size:16})," Add Step"]}),e.jsxs("div",{className:"space-y-3",children:[(p.how_it_works||[]).map((k,R)=>e.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg p-4 space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(Ae,{label:"Title",value:k.title||"",onChange:M=>T(R,"title",M.target.value),placeholder:"Step heading"}),e.jsx(Ae,{label:"Icon Key",value:k.icon||"",onChange:M=>T(R,"icon",M.target.value),placeholder:"e.g., bed, clock, medal"})]}),e.jsx(Ae,{label:"Description",value:k.description||"",onChange:M=>T(R,"description",M.target.value),placeholder:"Explain this step",rows:2}),e.jsx("div",{className:"flex justify-end",children:e.jsxs("button",{onClick:()=>q(R),className:"flex items-center gap-2 px-3 py-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors text-sm font-medium",children:[e.jsx(xt,{size:16})," Remove"]})})]},R)),(!p.how_it_works||p.how_it_works.length===0)&&e.jsx("div",{className:"text-center py-8 text-slate-500 text-sm",children:"No steps configured yet"})]})]})]})]})}),e.jsxs("div",{className:"p-6 border-t border-slate-200 bg-gradient-to-r from-slate-50 to-white flex items-center justify-between gap-3",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>{confirm("Seed example data?")&&_.mutate(pt,{onSuccess:()=>{ve.success("Seeded with default data"),m(!1)}})},className:"flex items-center gap-2 px-4 py-2 text-slate-700 border border-slate-300 rounded-lg hover:bg-slate-50 transition-colors font-medium text-sm",children:"Seed Data"}),e.jsxs("button",{onClick:()=>{o(JSON.parse(JSON.stringify(c||pt))),ve.success("Reverted to last saved")},className:"flex items-center gap-2 px-4 py-2 text-slate-700 border border-slate-300 rounded-lg hover:bg-slate-50 transition-colors font-medium text-sm",children:[e.jsx(dl,{size:16})," Revert"]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:a,className:"px-4 py-2 text-slate-700 border border-slate-300 rounded-lg hover:bg-slate-50 transition-colors font-medium text-sm",children:"Cancel"}),e.jsx("button",{onClick:j,disabled:u,className:"flex items-center gap-2 px-4 py-2 bg-slate-700 text-white rounded-lg hover:bg-slate-800 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium text-sm",children:u?e.jsxs(e.Fragment,{children:[e.jsx(Ie,{size:16,className:"animate-spin"})," Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ze,{size:16})," Save Program"]})})]})]})]})]})]})}const as=({open:S,handleClose:A,initialData:v,onSave:c})=>{const[h,E]=$.useState(""),[g,_]=$.useState([]),[y,m]=$.useState("");$.useEffect(()=>{v&&(E(v.heading||""),_(v.valueData||[]),m(v.heroSectionDescription||""))},[v]);const p=l=>{E(l.target.value)},o=l=>{m(l.target.value)},t=(l,n,a)=>{const f=[...g];f[l]=Q(V({},f[l]),{[n]:a}),_(f)},r=()=>{const l={title:"",description:""};_([...g,l])},u=l=>{const n=g.filter((a,f)=>f!==l);_(n)},s=()=>{const l=y.trim().split(/\s+/).length,n=g.some(f=>f.description.trim().split(/\s+/).length>50);if(l>110||n){alert("Hero section description should not exceed 80 words and value descriptions should not exceed 50 words");return}c({heading:h,valueData:g,heroSectionDescription:y}),A()};return e.jsxs(qe,{open:S,onClose:A,maxWidth:"md",fullWidth:!0,children:[e.jsx(Re,{children:"Why Sunstar Page"}),e.jsx(Le,{dividers:!0,children:e.jsxs(de,{sx:{},children:[e.jsx("h1",{className:"text-desktop/h4 py-6",children:"Hero Section Description"}),e.jsx(ne,{label:"Hero Section Description",variant:"outlined",fullWidth:!0,value:y,onChange:o,sx:{mb:3},helperText:`${y.trim().split(/\s+/).length}/110 words`,error:y.trim().split(/\s+/).length>110}),e.jsx("h1",{className:"text-desktop/h4 pb-10",children:"Our Value Section"}),e.jsx(ne,{label:"Heading",variant:"outlined",fullWidth:!0,value:h,onChange:p,sx:{mb:3}}),g.map((l,n)=>e.jsx(Pe,{sx:{p:2,mb:2},children:e.jsxs(de,{display:"flex",alignItems:"center",children:[e.jsx(ne,{label:"Title",variant:"outlined",value:l.title,onChange:a=>t(n,"title",a.target.value),sx:{mr:2,flex:1}}),e.jsx(ne,{label:"Description",variant:"outlined",value:l.description,onChange:a=>t(n,"description",a.target.value),sx:{mr:2,flex:2},helperText:`${l.description.trim().split(/\s+/).length}/50 words`,error:l.description.trim().split(/\s+/).length>50}),e.jsx(Fe,{color:"error",onClick:()=>u(n),"aria-label":"delete",children:e.jsx(De,{})})]})},l._id||n)),e.jsx(ae,{variant:"contained",startIcon:e.jsx(We,{}),onClick:r,sx:{mb:3},children:"Add Value"})]})}),e.jsxs(ke,{children:[e.jsx(ae,{onClick:A,children:"Cancel"}),e.jsx(ae,{variant:"contained",color:"secondary",onClick:s,children:"Save Changes"})]})]})},os=()=>{const{whysunstarValue:S,updateWhySunstarValueection:A}=Ge(),[v,c]=$.useState(!1),[h,E]=$.useState(null);$.useEffect(()=>{S&&E(S)},[S]);const g=()=>{c(!0)},_=()=>{c(!1)},y=m=>{A(m),E(m)};return e.jsxs("div",{children:[e.jsx("div",{className:"myGlobalButton",onClick:g,children:"Why Sunstar Page"}),h&&e.jsx(as,{open:v,handleClose:_,initialData:h,onSave:y})]})},ls=()=>{const[S,A]=$.useState(!1),{data:v=[],isLoading:c,isError:h,refetch:E}=vl(),g=gl(),_=ml(),y=yl(),[m,p]=$.useState("Corporate"),[o,t]=$.useState(!1),[r,u]=$.useState(!1),[s,l]=$.useState({image:"",description:""}),[n,a]=$.useState(!1),[f,i]=$.useState(!1),[d,O]=$.useState(null),[x,T]=$.useState({image:"",description:"",category:"Corporate"}),[q,j]=$.useState(!1),[b,w]=$.useState(!1),C=()=>{l({image:"",description:""}),t(!1)},I=()=>xe(void 0,null,function*(){var N,L;if(!(!((N=s.image)!=null&&N.trim())||!((L=s.description)!=null&&L.trim())))try{u(!0),yield g.mutateAsync({imageUrl:s.image.trim(),description:s.description.trim(),category:m}),C(),E()}catch(B){console.error(B)}finally{u(!1)}}),k=N=>{O(N),T({image:N.imageUrl||"",description:N.description||"",category:N.category||"Corporate"}),i(!0)},R=()=>xe(void 0,null,function*(){var N,L;if(d!=null&&d._id)try{w(!0),yield _.mutateAsync({id:d._id,data:{imageUrl:(N=x.image)==null?void 0:N.trim(),description:(L=x.description)==null?void 0:L.trim(),category:x.category}}),i(!1),O(null),E()}catch(B){console.error(B)}finally{w(!1)}}),M=N=>xe(void 0,null,function*(){try{yield y.mutateAsync(N),E()}catch(L){console.error(L)}}),W=(N,L)=>l(B=>Q(V({},B),{[N]:L})),H=(N,L)=>T(B=>Q(V({},B),{[N]:L})),D=v.filter(N=>m==="Corporate"?N.category==="Corporate"||!N.category:N.category===m);return e.jsxs(de,{children:[e.jsx("div",{className:"myGlobalButton",onClick:()=>A(!0),children:"Partner Logos"}),e.jsxs(qe,{open:S,onClose:()=>A(!1),fullWidth:!0,maxWidth:"md",children:[e.jsx(Re,{children:"Partner Logos"}),e.jsxs(Le,{dividers:!0,children:[e.jsxs(de,{display:"flex",alignItems:"center",justifyContent:"space-between",mb:2,mt:1,children:[e.jsx(ye,{variant:"h6",sx:{fontWeight:600},children:"Manage Partners"}),o?null:e.jsx(ae,{startIcon:e.jsx(We,{}),variant:"contained",onClick:()=>t(!0),children:"Add Partner"})]}),e.jsx(de,{sx:{borderBottom:1,borderColor:"divider",mb:3},children:e.jsxs(_n,{value:m,onChange:(N,L)=>p(L),children:[e.jsx(Be,{label:"Corporate",value:"Corporate"}),e.jsx(Be,{label:"Travel Agent",value:"Travel Agent"})]})}),o&&e.jsxs(_t,{sx:{mb:3,p:2},children:[e.jsxs(xn,{children:[e.jsxs(ye,{variant:"subtitle1",gutterBottom:!0,children:["Add New Partner (",m,")"]}),e.jsx(ne,{label:"Description",fullWidth:!0,multiline:!0,minRows:2,sx:{mb:2},value:s.description,onChange:N=>W("description",N.target.value),disabled:r||n}),e.jsx(Me,{feature:{image:s.image},handleFeatureChange:W,setImageUpload:a,index:0}),s.image?e.jsxs(de,{mt:2,children:[e.jsx(ye,{variant:"caption",children:"Preview:"}),e.jsx(de,{component:"img",src:s.image,alt:"preview",sx:{width:160,height:90,objectFit:"cover",border:"1px solid #ddd",borderRadius:1}})]}):null]}),e.jsxs(In,{sx:{justifyContent:"flex-end"},children:[e.jsx(ae,{onClick:C,disabled:r||n,children:"Cancel"}),e.jsx(ae,{variant:"contained",onClick:I,disabled:r||n||!s.image||!s.description,children:r?e.jsx(Ve,{size:20}):"Save"})]})]}),c?e.jsxs(de,{display:"flex",alignItems:"center",gap:1,children:[e.jsx(Ve,{size:22}),e.jsx(ye,{children:"Loading partners…"})]}):h?e.jsx(ye,{color:"error",children:"Failed to load partners"}):D.length===0?e.jsx(ye,{color:"text.secondary",children:"No partners added in this category yet."}):e.jsx(_e,{container:!0,spacing:2,children:D.map((N,L)=>e.jsx(_e,{item:!0,xs:12,sm:6,md:4,children:e.jsxs(_t,{children:[N.imageUrl?e.jsx(Ma,{component:"img",height:"160",image:N.imageUrl,alt:N.description||"Partner"}):null,e.jsx(xn,{sx:{minHeight:80},children:e.jsx(ye,{variant:"body2",children:N.description})}),e.jsxs(In,{children:[e.jsx(ae,{startIcon:e.jsx(pl,{}),onClick:()=>k(N),children:"Edit"}),e.jsx(ae,{startIcon:e.jsx(De,{}),color:"error",onClick:()=>M(N._id),disabled:y.isPending,children:"Delete"})]})]})},N._id||L))})]}),e.jsx(ke,{children:e.jsx(ae,{onClick:()=>A(!1),children:"Close"})})]}),e.jsxs(qe,{open:f,onClose:()=>i(!1),fullWidth:!0,maxWidth:"sm",children:[e.jsx(Re,{children:"Edit Partner"}),e.jsxs(Le,{children:[e.jsx(ne,{label:"Description",fullWidth:!0,multiline:!0,minRows:2,sx:{my:2},value:x.description,onChange:N=>H("description",N.target.value),disabled:b||q}),e.jsxs(ne,{select:!0,label:"Category",fullWidth:!0,SelectProps:{native:!0},sx:{mb:2},value:x.category,onChange:N=>H("category",N.target.value),disabled:b||q,children:[e.jsx("option",{value:"Corporate",children:"Corporate"}),e.jsx("option",{value:"Travel Agent",children:"Travel Agent"})]}),e.jsx(Me,{feature:{image:x.image},handleFeatureChange:H,setImageUpload:j,index:1}),x.image?e.jsxs(de,{mt:2,children:[e.jsx(ye,{variant:"caption",children:"Preview:"}),e.jsx(de,{component:"img",src:x.image,alt:"preview",sx:{width:160,height:90,objectFit:"cover",border:"1px solid #ddd",borderRadius:1}})]}):null]}),e.jsxs(ke,{children:[e.jsx(ae,{onClick:()=>i(!1),disabled:b||q,children:"Cancel"}),e.jsx(ae,{variant:"contained",onClick:R,disabled:b||q||!x.description||!x.image,children:b?e.jsx(Ve,{size:22}):"Save"})]})]})]})};var Ft,Gn;function ss(){if(Gn)return Ft;Gn=1;function S(){this.__data__=[],this.size=0}return Ft=S,Ft}var Ht,Kn;function Ba(){if(Kn)return Ht;Kn=1;function S(A,v){return A===v||A!==A&&v!==v}return Ht=S,Ht}var Ut,$n;function kt(){if($n)return Ut;$n=1;var S=Ba();function A(v,c){for(var h=v.length;h--;)if(S(v[h][0],c))return h;return-1}return Ut=A,Ut}var zt,Vn;function us(){if(Vn)return zt;Vn=1;var S=kt(),A=Array.prototype,v=A.splice;function c(h){var E=this.__data__,g=S(E,h);if(g<0)return!1;var _=E.length-1;return g==_?E.pop():v.call(E,g,1),--this.size,!0}return zt=c,zt}var Wt,Zn;function cs(){if(Zn)return Wt;Zn=1;var S=kt();function A(v){var c=this.__data__,h=S(c,v);return h<0?void 0:c[h][1]}return Wt=A,Wt}var Gt,Yn;function fs(){if(Yn)return Gt;Yn=1;var S=kt();function A(v){return S(this.__data__,v)>-1}return Gt=A,Gt}var Kt,Jn;function ds(){if(Jn)return Kt;Jn=1;var S=kt();function A(v,c){var h=this.__data__,E=S(h,v);return E<0?(++this.size,h.push([v,c])):h[E][1]=c,this}return Kt=A,Kt}var $t,Qn;function Tt(){if(Qn)return $t;Qn=1;var S=ss(),A=us(),v=cs(),c=fs(),h=ds();function E(g){var _=-1,y=g==null?0:g.length;for(this.clear();++_<y;){var m=g[_];this.set(m[0],m[1])}}return E.prototype.clear=S,E.prototype.delete=A,E.prototype.get=v,E.prototype.has=c,E.prototype.set=h,$t=E,$t}var Vt,Xn;function hs(){if(Xn)return Vt;Xn=1;var S=Tt();function A(){this.__data__=new S,this.size=0}return Vt=A,Vt}var Zt,ei;function ps(){if(ei)return Zt;ei=1;function S(A){var v=this.__data__,c=v.delete(A);return this.size=v.size,c}return Zt=S,Zt}var Yt,ti;function vs(){if(ti)return Yt;ti=1;function S(A){return this.__data__.get(A)}return Yt=S,Yt}var Jt,ri;function gs(){if(ri)return Jt;ri=1;function S(A){return this.__data__.has(A)}return Jt=S,Jt}var Qt,ni;function Fa(){if(ni)return Qt;ni=1;var S=typeof ot=="object"&&ot&&ot.Object===Object&&ot;return Qt=S,Qt}var Xt,ii;function He(){if(ii)return Xt;ii=1;var S=Fa(),A=typeof self=="object"&&self&&self.Object===Object&&self,v=S||A||Function("return this")();return Xt=v,Xt}var er,ai;function wn(){if(ai)return er;ai=1;var S=He(),A=S.Symbol;return er=A,er}var tr,oi;function ms(){if(oi)return tr;oi=1;var S=wn(),A=Object.prototype,v=A.hasOwnProperty,c=A.toString,h=S?S.toStringTag:void 0;function E(g){var _=v.call(g,h),y=g[h];try{g[h]=void 0;var m=!0}catch(o){}var p=c.call(g);return m&&(_?g[h]=y:delete g[h]),p}return tr=E,tr}var rr,li;function ys(){if(li)return rr;li=1;var S=Object.prototype,A=S.toString;function v(c){return A.call(c)}return rr=v,rr}var nr,si;function Nt(){if(si)return nr;si=1;var S=wn(),A=ms(),v=ys(),c="[object Null]",h="[object Undefined]",E=S?S.toStringTag:void 0;function g(_){return _==null?_===void 0?h:c:E&&E in Object(_)?A(_):v(_)}return nr=g,nr}var ir,ui;function Ha(){if(ui)return ir;ui=1;function S(A){var v=typeof A;return A!=null&&(v=="object"||v=="function")}return ir=S,ir}var ar,ci;function Ua(){if(ci)return ar;ci=1;var S=Nt(),A=Ha(),v="[object AsyncFunction]",c="[object Function]",h="[object GeneratorFunction]",E="[object Proxy]";function g(_){if(!A(_))return!1;var y=S(_);return y==c||y==h||y==v||y==E}return ar=g,ar}var or,fi;function bs(){if(fi)return or;fi=1;var S=He(),A=S["__core-js_shared__"];return or=A,or}var lr,di;function xs(){if(di)return lr;di=1;var S=bs(),A=function(){var c=/[^.]+$/.exec(S&&S.keys&&S.keys.IE_PROTO||"");return c?"Symbol(src)_1."+c:""}();function v(c){return!!A&&A in c}return lr=v,lr}var sr,hi;function za(){if(hi)return sr;hi=1;var S=Function.prototype,A=S.toString;function v(c){if(c!=null){try{return A.call(c)}catch(h){}try{return c+""}catch(h){}}return""}return sr=v,sr}var ur,pi;function _s(){if(pi)return ur;pi=1;var S=Ua(),A=xs(),v=Ha(),c=za(),h=/[\\^$.*+?()[\]{}|]/g,E=/^\[object .+?Constructor\]$/,g=Function.prototype,_=Object.prototype,y=g.toString,m=_.hasOwnProperty,p=RegExp("^"+y.call(m).replace(h,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function o(t){if(!v(t)||A(t))return!1;var r=S(t)?p:E;return r.test(c(t))}return ur=o,ur}var cr,vi;function js(){if(vi)return cr;vi=1;function S(A,v){return A==null?void 0:A[v]}return cr=S,cr}var fr,gi;function Ye(){if(gi)return fr;gi=1;var S=_s(),A=js();function v(c,h){var E=A(c,h);return S(E)?E:void 0}return fr=v,fr}var dr,mi;function Sn(){if(mi)return dr;mi=1;var S=Ye(),A=He(),v=S(A,"Map");return dr=v,dr}var hr,yi;function At(){if(yi)return hr;yi=1;var S=Ye(),A=S(Object,"create");return hr=A,hr}var pr,bi;function Os(){if(bi)return pr;bi=1;var S=At();function A(){this.__data__=S?S(null):{},this.size=0}return pr=A,pr}var vr,xi;function ws(){if(xi)return vr;xi=1;function S(A){var v=this.has(A)&&delete this.__data__[A];return this.size-=v?1:0,v}return vr=S,vr}var gr,_i;function Ss(){if(_i)return gr;_i=1;var S=At(),A="__lodash_hash_undefined__",v=Object.prototype,c=v.hasOwnProperty;function h(E){var g=this.__data__;if(S){var _=g[E];return _===A?void 0:_}return c.call(g,E)?g[E]:void 0}return gr=h,gr}var mr,ji;function Es(){if(ji)return mr;ji=1;var S=At(),A=Object.prototype,v=A.hasOwnProperty;function c(h){var E=this.__data__;return S?E[h]!==void 0:v.call(E,h)}return mr=c,mr}var yr,Oi;function ks(){if(Oi)return yr;Oi=1;var S=At(),A="__lodash_hash_undefined__";function v(c,h){var E=this.__data__;return this.size+=this.has(c)?0:1,E[c]=S&&h===void 0?A:h,this}return yr=v,yr}var br,wi;function Ts(){if(wi)return br;wi=1;var S=Os(),A=ws(),v=Ss(),c=Es(),h=ks();function E(g){var _=-1,y=g==null?0:g.length;for(this.clear();++_<y;){var m=g[_];this.set(m[0],m[1])}}return E.prototype.clear=S,E.prototype.delete=A,E.prototype.get=v,E.prototype.has=c,E.prototype.set=h,br=E,br}var xr,Si;function Ns(){if(Si)return xr;Si=1;var S=Ts(),A=Tt(),v=Sn();function c(){this.size=0,this.__data__={hash:new S,map:new(v||A),string:new S}}return xr=c,xr}var _r,Ei;function As(){if(Ei)return _r;Ei=1;function S(A){var v=typeof A;return v=="string"||v=="number"||v=="symbol"||v=="boolean"?A!=="__proto__":A===null}return _r=S,_r}var jr,ki;function Ct(){if(ki)return jr;ki=1;var S=As();function A(v,c){var h=v.__data__;return S(c)?h[typeof c=="string"?"string":"hash"]:h.map}return jr=A,jr}var Or,Ti;function Cs(){if(Ti)return Or;Ti=1;var S=Ct();function A(v){var c=S(this,v).delete(v);return this.size-=c?1:0,c}return Or=A,Or}var wr,Ni;function Ps(){if(Ni)return wr;Ni=1;var S=Ct();function A(v){return S(this,v).get(v)}return wr=A,wr}var Sr,Ai;function qs(){if(Ai)return Sr;Ai=1;var S=Ct();function A(v){return S(this,v).has(v)}return Sr=A,Sr}var Er,Ci;function Rs(){if(Ci)return Er;Ci=1;var S=Ct();function A(v,c){var h=S(this,v),E=h.size;return h.set(v,c),this.size+=h.size==E?0:1,this}return Er=A,Er}var kr,Pi;function Wa(){if(Pi)return kr;Pi=1;var S=Ns(),A=Cs(),v=Ps(),c=qs(),h=Rs();function E(g){var _=-1,y=g==null?0:g.length;for(this.clear();++_<y;){var m=g[_];this.set(m[0],m[1])}}return E.prototype.clear=S,E.prototype.delete=A,E.prototype.get=v,E.prototype.has=c,E.prototype.set=h,kr=E,kr}var Tr,qi;function Ls(){if(qi)return Tr;qi=1;var S=Tt(),A=Sn(),v=Wa(),c=200;function h(E,g){var _=this.__data__;if(_ instanceof S){var y=_.__data__;if(!A||y.length<c-1)return y.push([E,g]),this.size=++_.size,this;_=this.__data__=new v(y)}return _.set(E,g),this.size=_.size,this}return Tr=h,Tr}var Nr,Ri;function Is(){if(Ri)return Nr;Ri=1;var S=Tt(),A=hs(),v=ps(),c=vs(),h=gs(),E=Ls();function g(_){var y=this.__data__=new S(_);this.size=y.size}return g.prototype.clear=A,g.prototype.delete=v,g.prototype.get=c,g.prototype.has=h,g.prototype.set=E,Nr=g,Nr}var Ar,Li;function Ds(){if(Li)return Ar;Li=1;var S="__lodash_hash_undefined__";function A(v){return this.__data__.set(v,S),this}return Ar=A,Ar}var Cr,Ii;function Ms(){if(Ii)return Cr;Ii=1;function S(A){return this.__data__.has(A)}return Cr=S,Cr}var Pr,Di;function Bs(){if(Di)return Pr;Di=1;var S=Wa(),A=Ds(),v=Ms();function c(h){var E=-1,g=h==null?0:h.length;for(this.__data__=new S;++E<g;)this.add(h[E])}return c.prototype.add=c.prototype.push=A,c.prototype.has=v,Pr=c,Pr}var qr,Mi;function Fs(){if(Mi)return qr;Mi=1;function S(A,v){for(var c=-1,h=A==null?0:A.length;++c<h;)if(v(A[c],c,A))return!0;return!1}return qr=S,qr}var Rr,Bi;function Hs(){if(Bi)return Rr;Bi=1;function S(A,v){return A.has(v)}return Rr=S,Rr}var Lr,Fi;function Ga(){if(Fi)return Lr;Fi=1;var S=Bs(),A=Fs(),v=Hs(),c=1,h=2;function E(g,_,y,m,p,o){var t=y&c,r=g.length,u=_.length;if(r!=u&&!(t&&u>r))return!1;var s=o.get(g),l=o.get(_);if(s&&l)return s==_&&l==g;var n=-1,a=!0,f=y&h?new S:void 0;for(o.set(g,_),o.set(_,g);++n<r;){var i=g[n],d=_[n];if(m)var O=t?m(d,i,n,_,g,o):m(i,d,n,g,_,o);if(O!==void 0){if(O)continue;a=!1;break}if(f){if(!A(_,function(x,T){if(!v(f,T)&&(i===x||p(i,x,y,m,o)))return f.push(T)})){a=!1;break}}else if(!(i===d||p(i,d,y,m,o))){a=!1;break}}return o.delete(g),o.delete(_),a}return Lr=E,Lr}var Ir,Hi;function Us(){if(Hi)return Ir;Hi=1;var S=He(),A=S.Uint8Array;return Ir=A,Ir}var Dr,Ui;function zs(){if(Ui)return Dr;Ui=1;function S(A){var v=-1,c=Array(A.size);return A.forEach(function(h,E){c[++v]=[E,h]}),c}return Dr=S,Dr}var Mr,zi;function Ws(){if(zi)return Mr;zi=1;function S(A){var v=-1,c=Array(A.size);return A.forEach(function(h){c[++v]=h}),c}return Mr=S,Mr}var Br,Wi;function Gs(){if(Wi)return Br;Wi=1;var S=wn(),A=Us(),v=Ba(),c=Ga(),h=zs(),E=Ws(),g=1,_=2,y="[object Boolean]",m="[object Date]",p="[object Error]",o="[object Map]",t="[object Number]",r="[object RegExp]",u="[object Set]",s="[object String]",l="[object Symbol]",n="[object ArrayBuffer]",a="[object DataView]",f=S?S.prototype:void 0,i=f?f.valueOf:void 0;function d(O,x,T,q,j,b,w){switch(T){case a:if(O.byteLength!=x.byteLength||O.byteOffset!=x.byteOffset)return!1;O=O.buffer,x=x.buffer;case n:return!(O.byteLength!=x.byteLength||!b(new A(O),new A(x)));case y:case m:case t:return v(+O,+x);case p:return O.name==x.name&&O.message==x.message;case r:case s:return O==x+"";case o:var C=h;case u:var I=q&g;if(C||(C=E),O.size!=x.size&&!I)return!1;var k=w.get(O);if(k)return k==x;q|=_,w.set(O,x);var R=c(C(O),C(x),q,j,b,w);return w.delete(O),R;case l:if(i)return i.call(O)==i.call(x)}return!1}return Br=d,Br}var Fr,Gi;function Ks(){if(Gi)return Fr;Gi=1;function S(A,v){for(var c=-1,h=v.length,E=A.length;++c<h;)A[E+c]=v[c];return A}return Fr=S,Fr}var Hr,Ki;function En(){if(Ki)return Hr;Ki=1;var S=Array.isArray;return Hr=S,Hr}var Ur,$i;function $s(){if($i)return Ur;$i=1;var S=Ks(),A=En();function v(c,h,E){var g=h(c);return A(c)?g:S(g,E(c))}return Ur=v,Ur}var zr,Vi;function Vs(){if(Vi)return zr;Vi=1;function S(A,v){for(var c=-1,h=A==null?0:A.length,E=0,g=[];++c<h;){var _=A[c];v(_,c,A)&&(g[E++]=_)}return g}return zr=S,zr}var Wr,Zi;function Zs(){if(Zi)return Wr;Zi=1;function S(){return[]}return Wr=S,Wr}var Gr,Yi;function Ys(){if(Yi)return Gr;Yi=1;var S=Vs(),A=Zs(),v=Object.prototype,c=v.propertyIsEnumerable,h=Object.getOwnPropertySymbols,E=h?function(g){return g==null?[]:(g=Object(g),S(h(g),function(_){return c.call(g,_)}))}:A;return Gr=E,Gr}var Kr,Ji;function Js(){if(Ji)return Kr;Ji=1;function S(A,v){for(var c=-1,h=Array(A);++c<A;)h[c]=v(c);return h}return Kr=S,Kr}var $r,Qi;function Pt(){if(Qi)return $r;Qi=1;function S(A){return A!=null&&typeof A=="object"}return $r=S,$r}var Vr,Xi;function Qs(){if(Xi)return Vr;Xi=1;var S=Nt(),A=Pt(),v="[object Arguments]";function c(h){return A(h)&&S(h)==v}return Vr=c,Vr}var Zr,ea;function Xs(){if(ea)return Zr;ea=1;var S=Qs(),A=Pt(),v=Object.prototype,c=v.hasOwnProperty,h=v.propertyIsEnumerable,E=S(function(){return arguments}())?S:function(g){return A(g)&&c.call(g,"callee")&&!h.call(g,"callee")};return Zr=E,Zr}var tt={exports:{}},Yr,ta;function eu(){if(ta)return Yr;ta=1;function S(){return!1}return Yr=S,Yr}tt.exports;var ra;function Ka(){return ra||(ra=1,function(S,A){var v=He(),c=eu(),h=A&&!A.nodeType&&A,E=h&&!0&&S&&!S.nodeType&&S,g=E&&E.exports===h,_=g?v.Buffer:void 0,y=_?_.isBuffer:void 0,m=y||c;S.exports=m}(tt,tt.exports)),tt.exports}var Jr,na;function tu(){if(na)return Jr;na=1;var S=9007199254740991,A=/^(?:0|[1-9]\d*)$/;function v(c,h){var E=typeof c;return h=h==null?S:h,!!h&&(E=="number"||E!="symbol"&&A.test(c))&&c>-1&&c%1==0&&c<h}return Jr=v,Jr}var Qr,ia;function $a(){if(ia)return Qr;ia=1;var S=9007199254740991;function A(v){return typeof v=="number"&&v>-1&&v%1==0&&v<=S}return Qr=A,Qr}var Xr,aa;function ru(){if(aa)return Xr;aa=1;var S=Nt(),A=$a(),v=Pt(),c="[object Arguments]",h="[object Array]",E="[object Boolean]",g="[object Date]",_="[object Error]",y="[object Function]",m="[object Map]",p="[object Number]",o="[object Object]",t="[object RegExp]",r="[object Set]",u="[object String]",s="[object WeakMap]",l="[object ArrayBuffer]",n="[object DataView]",a="[object Float32Array]",f="[object Float64Array]",i="[object Int8Array]",d="[object Int16Array]",O="[object Int32Array]",x="[object Uint8Array]",T="[object Uint8ClampedArray]",q="[object Uint16Array]",j="[object Uint32Array]",b={};b[a]=b[f]=b[i]=b[d]=b[O]=b[x]=b[T]=b[q]=b[j]=!0,b[c]=b[h]=b[l]=b[E]=b[n]=b[g]=b[_]=b[y]=b[m]=b[p]=b[o]=b[t]=b[r]=b[u]=b[s]=!1;function w(C){return v(C)&&A(C.length)&&!!b[S(C)]}return Xr=w,Xr}var en,oa;function nu(){if(oa)return en;oa=1;function S(A){return function(v){return A(v)}}return en=S,en}var rt={exports:{}};rt.exports;var la;function iu(){return la||(la=1,function(S,A){var v=Fa(),c=A&&!A.nodeType&&A,h=c&&!0&&S&&!S.nodeType&&S,E=h&&h.exports===c,g=E&&v.process,_=function(){try{var y=h&&h.require&&h.require("util").types;return y||g&&g.binding&&g.binding("util")}catch(m){}}();S.exports=_}(rt,rt.exports)),rt.exports}var tn,sa;function Va(){if(sa)return tn;sa=1;var S=ru(),A=nu(),v=iu(),c=v&&v.isTypedArray,h=c?A(c):S;return tn=h,tn}var rn,ua;function au(){if(ua)return rn;ua=1;var S=Js(),A=Xs(),v=En(),c=Ka(),h=tu(),E=Va(),g=Object.prototype,_=g.hasOwnProperty;function y(m,p){var o=v(m),t=!o&&A(m),r=!o&&!t&&c(m),u=!o&&!t&&!r&&E(m),s=o||t||r||u,l=s?S(m.length,String):[],n=l.length;for(var a in m)(p||_.call(m,a))&&!(s&&(a=="length"||r&&(a=="offset"||a=="parent")||u&&(a=="buffer"||a=="byteLength"||a=="byteOffset")||h(a,n)))&&l.push(a);return l}return rn=y,rn}var nn,ca;function ou(){if(ca)return nn;ca=1;var S=Object.prototype;function A(v){var c=v&&v.constructor,h=typeof c=="function"&&c.prototype||S;return v===h}return nn=A,nn}var an,fa;function lu(){if(fa)return an;fa=1;function S(A,v){return function(c){return A(v(c))}}return an=S,an}var on,da;function su(){if(da)return on;da=1;var S=lu(),A=S(Object.keys,Object);return on=A,on}var ln,ha;function uu(){if(ha)return ln;ha=1;var S=ou(),A=su(),v=Object.prototype,c=v.hasOwnProperty;function h(E){if(!S(E))return A(E);var g=[];for(var _ in Object(E))c.call(E,_)&&_!="constructor"&&g.push(_);return g}return ln=h,ln}var sn,pa;function cu(){if(pa)return sn;pa=1;var S=Ua(),A=$a();function v(c){return c!=null&&A(c.length)&&!S(c)}return sn=v,sn}var un,va;function fu(){if(va)return un;va=1;var S=au(),A=uu(),v=cu();function c(h){return v(h)?S(h):A(h)}return un=c,un}var cn,ga;function du(){if(ga)return cn;ga=1;var S=$s(),A=Ys(),v=fu();function c(h){return S(h,v,A)}return cn=c,cn}var fn,ma;function hu(){if(ma)return fn;ma=1;var S=du(),A=1,v=Object.prototype,c=v.hasOwnProperty;function h(E,g,_,y,m,p){var o=_&A,t=S(E),r=t.length,u=S(g),s=u.length;if(r!=s&&!o)return!1;for(var l=r;l--;){var n=t[l];if(!(o?n in g:c.call(g,n)))return!1}var a=p.get(E),f=p.get(g);if(a&&f)return a==g&&f==E;var i=!0;p.set(E,g),p.set(g,E);for(var d=o;++l<r;){n=t[l];var O=E[n],x=g[n];if(y)var T=o?y(x,O,n,g,E,p):y(O,x,n,E,g,p);if(!(T===void 0?O===x||m(O,x,_,y,p):T)){i=!1;break}d||(d=n=="constructor")}if(i&&!d){var q=E.constructor,j=g.constructor;q!=j&&"constructor"in E&&"constructor"in g&&!(typeof q=="function"&&q instanceof q&&typeof j=="function"&&j instanceof j)&&(i=!1)}return p.delete(E),p.delete(g),i}return fn=h,fn}var dn,ya;function pu(){if(ya)return dn;ya=1;var S=Ye(),A=He(),v=S(A,"DataView");return dn=v,dn}var hn,ba;function vu(){if(ba)return hn;ba=1;var S=Ye(),A=He(),v=S(A,"Promise");return hn=v,hn}var pn,xa;function gu(){if(xa)return pn;xa=1;var S=Ye(),A=He(),v=S(A,"Set");return pn=v,pn}var vn,_a;function mu(){if(_a)return vn;_a=1;var S=Ye(),A=He(),v=S(A,"WeakMap");return vn=v,vn}var gn,ja;function yu(){if(ja)return gn;ja=1;var S=pu(),A=Sn(),v=vu(),c=gu(),h=mu(),E=Nt(),g=za(),_="[object Map]",y="[object Object]",m="[object Promise]",p="[object Set]",o="[object WeakMap]",t="[object DataView]",r=g(S),u=g(A),s=g(v),l=g(c),n=g(h),a=E;return(S&&a(new S(new ArrayBuffer(1)))!=t||A&&a(new A)!=_||v&&a(v.resolve())!=m||c&&a(new c)!=p||h&&a(new h)!=o)&&(a=function(f){var i=E(f),d=i==y?f.constructor:void 0,O=d?g(d):"";if(O)switch(O){case r:return t;case u:return _;case s:return m;case l:return p;case n:return o}return i}),gn=a,gn}var mn,Oa;function bu(){if(Oa)return mn;Oa=1;var S=Is(),A=Ga(),v=Gs(),c=hu(),h=yu(),E=En(),g=Ka(),_=Va(),y=1,m="[object Arguments]",p="[object Array]",o="[object Object]",t=Object.prototype,r=t.hasOwnProperty;function u(s,l,n,a,f,i){var d=E(s),O=E(l),x=d?p:h(s),T=O?p:h(l);x=x==m?o:x,T=T==m?o:T;var q=x==o,j=T==o,b=x==T;if(b&&g(s)){if(!g(l))return!1;d=!0,q=!1}if(b&&!q)return i||(i=new S),d||_(s)?A(s,l,n,a,f,i):v(s,l,x,n,a,f,i);if(!(n&y)){var w=q&&r.call(s,"__wrapped__"),C=j&&r.call(l,"__wrapped__");if(w||C){var I=w?s.value():s,k=C?l.value():l;return i||(i=new S),f(I,k,n,a,i)}}return b?(i||(i=new S),c(s,l,n,a,f,i)):!1}return mn=u,mn}var yn,wa;function xu(){if(wa)return yn;wa=1;var S=bu(),A=Pt();function v(c,h,E,g,_){return c===h?!0:c==null||h==null||!A(c)&&!A(h)?c!==c&&h!==h:S(c,h,E,g,v,_)}return yn=v,yn}var bn,Sa;function _u(){if(Sa)return bn;Sa=1;var S=xu();function A(v,c){return S(v,c)}return bn=A,bn}var yt={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */var ju=yt.exports,Ea;function Ou(){return Ea||(Ea=1,function(S,A){(function(c,h){S.exports=h()})(typeof self!="undefined"?self:ju,function(){return function(v){var c={};function h(E){if(c[E])return c[E].exports;var g=c[E]={i:E,l:!1,exports:{}};return v[E].call(g.exports,g,g.exports,h),g.l=!0,g.exports}return h.m=v,h.c=c,h.d=function(E,g,_){h.o(E,g)||Object.defineProperty(E,g,{configurable:!1,enumerable:!0,get:_})},h.n=function(E){var g=E&&E.__esModule?function(){return E.default}:function(){return E};return h.d(g,"a",g),g},h.o=function(E,g){return Object.prototype.hasOwnProperty.call(E,g)},h.p="",h(h.s=109)}([function(v,c,h){Object.defineProperty(c,"__esModule",{value:!0});var E=h(17),g=h(18),_=h(19),y=h(45),m=h(46),p=h(47),o=h(48),t=h(49),r=h(12),u=h(32),s=h(33),l=h(31),n=h(1),a={Scope:n.Scope,create:n.create,find:n.find,query:n.query,register:n.register,Container:E.default,Format:g.default,Leaf:_.default,Embed:o.default,Scroll:y.default,Block:p.default,Inline:m.default,Text:t.default,Attributor:{Attribute:r.default,Class:u.default,Style:s.default,Store:l.default}};c.default=a},function(v,c,h){var E=this&&this.__extends||function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var f in a)a.hasOwnProperty(f)&&(n[f]=a[f])};return function(n,a){l(n,a);function f(){this.constructor=n}n.prototype=a===null?Object.create(a):(f.prototype=a.prototype,new f)}}();Object.defineProperty(c,"__esModule",{value:!0});var g=function(l){E(n,l);function n(a){var f=this;return a="[Parchment] "+a,f=l.call(this,a)||this,f.message=a,f.name=f.constructor.name,f}return n}(Error);c.ParchmentError=g;var _={},y={},m={},p={};c.DATA_KEY="__blot";var o;(function(l){l[l.TYPE=3]="TYPE",l[l.LEVEL=12]="LEVEL",l[l.ATTRIBUTE=13]="ATTRIBUTE",l[l.BLOT=14]="BLOT",l[l.INLINE=7]="INLINE",l[l.BLOCK=11]="BLOCK",l[l.BLOCK_BLOT=10]="BLOCK_BLOT",l[l.INLINE_BLOT=6]="INLINE_BLOT",l[l.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",l[l.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",l[l.ANY=15]="ANY"})(o=c.Scope||(c.Scope={}));function t(l,n){var a=u(l);if(a==null)throw new g("Unable to create "+l+" blot");var f=a,i=l instanceof Node||l.nodeType===Node.TEXT_NODE?l:f.create(n);return new f(i,n)}c.create=t;function r(l,n){return n===void 0&&(n=!1),l==null?null:l[c.DATA_KEY]!=null?l[c.DATA_KEY].blot:n?r(l.parentNode,n):null}c.find=r;function u(l,n){n===void 0&&(n=o.ANY);var a;if(typeof l=="string")a=p[l]||_[l];else if(l instanceof Text||l.nodeType===Node.TEXT_NODE)a=p.text;else if(typeof l=="number")l&o.LEVEL&o.BLOCK?a=p.block:l&o.LEVEL&o.INLINE&&(a=p.inline);else if(l instanceof HTMLElement){var f=(l.getAttribute("class")||"").split(/\s+/);for(var i in f)if(a=y[f[i]],a)break;a=a||m[l.tagName]}return a==null?null:n&o.LEVEL&a.scope&&n&o.TYPE&a.scope?a:null}c.query=u;function s(){for(var l=[],n=0;n<arguments.length;n++)l[n]=arguments[n];if(l.length>1)return l.map(function(i){return s(i)});var a=l[0];if(typeof a.blotName!="string"&&typeof a.attrName!="string")throw new g("Invalid definition");if(a.blotName==="abstract")throw new g("Cannot register abstract class");if(p[a.blotName||a.attrName]=a,typeof a.keyName=="string")_[a.keyName]=a;else if(a.className!=null&&(y[a.className]=a),a.tagName!=null){Array.isArray(a.tagName)?a.tagName=a.tagName.map(function(i){return i.toUpperCase()}):a.tagName=a.tagName.toUpperCase();var f=Array.isArray(a.tagName)?a.tagName:[a.tagName];f.forEach(function(i){(m[i]==null||a.className==null)&&(m[i]=a)})}return a}c.register=s},function(v,c,h){var E=h(51),g=h(11),_=h(3),y=h(20),m="\0",p=function(o){Array.isArray(o)?this.ops=o:o!=null&&Array.isArray(o.ops)?this.ops=o.ops:this.ops=[]};p.prototype.insert=function(o,t){var r={};return o.length===0?this:(r.insert=o,t!=null&&typeof t=="object"&&Object.keys(t).length>0&&(r.attributes=t),this.push(r))},p.prototype.delete=function(o){return o<=0?this:this.push({delete:o})},p.prototype.retain=function(o,t){if(o<=0)return this;var r={retain:o};return t!=null&&typeof t=="object"&&Object.keys(t).length>0&&(r.attributes=t),this.push(r)},p.prototype.push=function(o){var t=this.ops.length,r=this.ops[t-1];if(o=_(!0,{},o),typeof r=="object"){if(typeof o.delete=="number"&&typeof r.delete=="number")return this.ops[t-1]={delete:r.delete+o.delete},this;if(typeof r.delete=="number"&&o.insert!=null&&(t-=1,r=this.ops[t-1],typeof r!="object"))return this.ops.unshift(o),this;if(g(o.attributes,r.attributes)){if(typeof o.insert=="string"&&typeof r.insert=="string")return this.ops[t-1]={insert:r.insert+o.insert},typeof o.attributes=="object"&&(this.ops[t-1].attributes=o.attributes),this;if(typeof o.retain=="number"&&typeof r.retain=="number")return this.ops[t-1]={retain:r.retain+o.retain},typeof o.attributes=="object"&&(this.ops[t-1].attributes=o.attributes),this}}return t===this.ops.length?this.ops.push(o):this.ops.splice(t,0,o),this},p.prototype.chop=function(){var o=this.ops[this.ops.length-1];return o&&o.retain&&!o.attributes&&this.ops.pop(),this},p.prototype.filter=function(o){return this.ops.filter(o)},p.prototype.forEach=function(o){this.ops.forEach(o)},p.prototype.map=function(o){return this.ops.map(o)},p.prototype.partition=function(o){var t=[],r=[];return this.forEach(function(u){var s=o(u)?t:r;s.push(u)}),[t,r]},p.prototype.reduce=function(o,t){return this.ops.reduce(o,t)},p.prototype.changeLength=function(){return this.reduce(function(o,t){return t.insert?o+y.length(t):t.delete?o-t.delete:o},0)},p.prototype.length=function(){return this.reduce(function(o,t){return o+y.length(t)},0)},p.prototype.slice=function(o,t){o=o||0,typeof t!="number"&&(t=1/0);for(var r=[],u=y.iterator(this.ops),s=0;s<t&&u.hasNext();){var l;s<o?l=u.next(o-s):(l=u.next(t-s),r.push(l)),s+=y.length(l)}return new p(r)},p.prototype.compose=function(o){var t=y.iterator(this.ops),r=y.iterator(o.ops),u=[],s=r.peek();if(s!=null&&typeof s.retain=="number"&&s.attributes==null){for(var l=s.retain;t.peekType()==="insert"&&t.peekLength()<=l;)l-=t.peekLength(),u.push(t.next());s.retain-l>0&&r.next(s.retain-l)}for(var n=new p(u);t.hasNext()||r.hasNext();)if(r.peekType()==="insert")n.push(r.next());else if(t.peekType()==="delete")n.push(t.next());else{var a=Math.min(t.peekLength(),r.peekLength()),f=t.next(a),i=r.next(a);if(typeof i.retain=="number"){var d={};typeof f.retain=="number"?d.retain=a:d.insert=f.insert;var O=y.attributes.compose(f.attributes,i.attributes,typeof f.retain=="number");if(O&&(d.attributes=O),n.push(d),!r.hasNext()&&g(n.ops[n.ops.length-1],d)){var x=new p(t.rest());return n.concat(x).chop()}}else typeof i.delete=="number"&&typeof f.retain=="number"&&n.push(i)}return n.chop()},p.prototype.concat=function(o){var t=new p(this.ops.slice());return o.ops.length>0&&(t.push(o.ops[0]),t.ops=t.ops.concat(o.ops.slice(1))),t},p.prototype.diff=function(o,t){if(this.ops===o.ops)return new p;var r=[this,o].map(function(a){return a.map(function(f){if(f.insert!=null)return typeof f.insert=="string"?f.insert:m;var i=a===o?"on":"with";throw new Error("diff() called "+i+" non-document")}).join("")}),u=new p,s=E(r[0],r[1],t),l=y.iterator(this.ops),n=y.iterator(o.ops);return s.forEach(function(a){for(var f=a[1].length;f>0;){var i=0;switch(a[0]){case E.INSERT:i=Math.min(n.peekLength(),f),u.push(n.next(i));break;case E.DELETE:i=Math.min(f,l.peekLength()),l.next(i),u.delete(i);break;case E.EQUAL:i=Math.min(l.peekLength(),n.peekLength(),f);var d=l.next(i),O=n.next(i);g(d.insert,O.insert)?u.retain(i,y.attributes.diff(d.attributes,O.attributes)):u.push(O).delete(i);break}f-=i}}),u.chop()},p.prototype.eachLine=function(o,t){t=t||`
`;for(var r=y.iterator(this.ops),u=new p,s=0;r.hasNext();){if(r.peekType()!=="insert")return;var l=r.peek(),n=y.length(l)-r.peekLength(),a=typeof l.insert=="string"?l.insert.indexOf(t,n)-n:-1;if(a<0)u.push(r.next());else if(a>0)u.push(r.next(a));else{if(o(u,r.next(1).attributes||{},s)===!1)return;s+=1,u=new p}}u.length()>0&&o(u,{},s)},p.prototype.transform=function(o,t){if(t=!!t,typeof o=="number")return this.transformPosition(o,t);for(var r=y.iterator(this.ops),u=y.iterator(o.ops),s=new p;r.hasNext()||u.hasNext();)if(r.peekType()==="insert"&&(t||u.peekType()!=="insert"))s.retain(y.length(r.next()));else if(u.peekType()==="insert")s.push(u.next());else{var l=Math.min(r.peekLength(),u.peekLength()),n=r.next(l),a=u.next(l);if(n.delete)continue;a.delete?s.push(a):s.retain(l,y.attributes.transform(n.attributes,a.attributes,t))}return s.chop()},p.prototype.transformPosition=function(o,t){t=!!t;for(var r=y.iterator(this.ops),u=0;r.hasNext()&&u<=o;){var s=r.peekLength(),l=r.peekType();if(r.next(),l==="delete"){o-=Math.min(s,o-u);continue}else l==="insert"&&(u<o||!t)&&(o+=s);u+=s}return o},v.exports=p},function(v,c){var h=Object.prototype.hasOwnProperty,E=Object.prototype.toString,g=Object.defineProperty,_=Object.getOwnPropertyDescriptor,y=function(r){return typeof Array.isArray=="function"?Array.isArray(r):E.call(r)==="[object Array]"},m=function(r){if(!r||E.call(r)!=="[object Object]")return!1;var u=h.call(r,"constructor"),s=r.constructor&&r.constructor.prototype&&h.call(r.constructor.prototype,"isPrototypeOf");if(r.constructor&&!u&&!s)return!1;var l;for(l in r);return typeof l=="undefined"||h.call(r,l)},p=function(r,u){g&&u.name==="__proto__"?g(r,u.name,{enumerable:!0,configurable:!0,value:u.newValue,writable:!0}):r[u.name]=u.newValue},o=function(r,u){if(u==="__proto__")if(h.call(r,u)){if(_)return _(r,u).value}else return;return r[u]};v.exports=function t(){var r,u,s,l,n,a,f=arguments[0],i=1,d=arguments.length,O=!1;for(typeof f=="boolean"&&(O=f,f=arguments[1]||{},i=2),(f==null||typeof f!="object"&&typeof f!="function")&&(f={});i<d;++i)if(r=arguments[i],r!=null)for(u in r)s=o(f,u),l=o(r,u),f!==l&&(O&&l&&(m(l)||(n=y(l)))?(n?(n=!1,a=s&&y(s)?s:[]):a=s&&m(s)?s:{},p(f,{name:u,newValue:t(O,a,l)})):typeof l!="undefined"&&p(f,{name:u,newValue:l}));return f}},function(v,c,h){Object.defineProperty(c,"__esModule",{value:!0}),c.default=c.BlockEmbed=c.bubbleFormats=void 0;var E=function(){function b(w,C){for(var I=0;I<C.length;I++){var k=C[I];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(w,k.key,k)}}return function(w,C,I){return C&&b(w.prototype,C),I&&b(w,I),w}}(),g=function b(w,C,I){w===null&&(w=Function.prototype);var k=Object.getOwnPropertyDescriptor(w,C);if(k===void 0){var R=Object.getPrototypeOf(w);return R===null?void 0:b(R,C,I)}else{if("value"in k)return k.value;var M=k.get;return M===void 0?void 0:M.call(I)}},_=h(3),y=f(_),m=h(2),p=f(m),o=h(0),t=f(o),r=h(16),u=f(r),s=h(6),l=f(s),n=h(7),a=f(n);function f(b){return b&&b.__esModule?b:{default:b}}function i(b,w){if(!(b instanceof w))throw new TypeError("Cannot call a class as a function")}function d(b,w){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:b}function O(b,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);b.prototype=Object.create(w&&w.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(b,w):b.__proto__=w)}var x=1,T=function(b){O(w,b);function w(){return i(this,w),d(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return E(w,[{key:"attach",value:function(){g(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"attach",this).call(this),this.attributes=new t.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new p.default().insert(this.value(),(0,y.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(I,k){var R=t.default.query(I,t.default.Scope.BLOCK_ATTRIBUTE);R!=null&&this.attributes.attribute(R,k)}},{key:"formatAt",value:function(I,k,R,M){this.format(R,M)}},{key:"insertAt",value:function(I,k,R){if(typeof k=="string"&&k.endsWith(`
`)){var M=t.default.create(q.blotName);this.parent.insertBefore(M,I===0?this:this.next),M.insertAt(0,k.slice(0,-1))}else g(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"insertAt",this).call(this,I,k,R)}}]),w}(t.default.Embed);T.scope=t.default.Scope.BLOCK_BLOT;var q=function(b){O(w,b);function w(C){i(this,w);var I=d(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,C));return I.cache={},I}return E(w,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(t.default.Leaf).reduce(function(I,k){return k.length()===0?I:I.insert(k.value(),j(k))},new p.default).insert(`
`,j(this))),this.cache.delta}},{key:"deleteAt",value:function(I,k){g(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"deleteAt",this).call(this,I,k),this.cache={}}},{key:"formatAt",value:function(I,k,R,M){k<=0||(t.default.query(R,t.default.Scope.BLOCK)?I+k===this.length()&&this.format(R,M):g(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"formatAt",this).call(this,I,Math.min(k,this.length()-I-1),R,M),this.cache={})}},{key:"insertAt",value:function(I,k,R){if(R!=null)return g(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"insertAt",this).call(this,I,k,R);if(k.length!==0){var M=k.split(`
`),W=M.shift();W.length>0&&(I<this.length()-1||this.children.tail==null?g(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"insertAt",this).call(this,Math.min(I,this.length()-1),W):this.children.tail.insertAt(this.children.tail.length(),W),this.cache={});var H=this;M.reduce(function(D,N){return H=H.split(D,!0),H.insertAt(0,N),N.length},I+W.length)}}},{key:"insertBefore",value:function(I,k){var R=this.children.head;g(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"insertBefore",this).call(this,I,k),R instanceof u.default&&R.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=g(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"length",this).call(this)+x),this.cache.length}},{key:"moveChildren",value:function(I,k){g(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"moveChildren",this).call(this,I,k),this.cache={}}},{key:"optimize",value:function(I){g(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"optimize",this).call(this,I),this.cache={}}},{key:"path",value:function(I){return g(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"path",this).call(this,I,!0)}},{key:"removeChild",value:function(I){g(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"removeChild",this).call(this,I),this.cache={}}},{key:"split",value:function(I){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(k&&(I===0||I>=this.length()-x)){var R=this.clone();return I===0?(this.parent.insertBefore(R,this),this):(this.parent.insertBefore(R,this.next),R)}else{var M=g(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"split",this).call(this,I,k);return this.cache={},M}}}]),w}(t.default.Block);q.blotName="block",q.tagName="P",q.defaultChild="break",q.allowedChildren=[l.default,t.default.Embed,a.default];function j(b){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return b==null||(typeof b.formats=="function"&&(w=(0,y.default)(w,b.formats())),b.parent==null||b.parent.blotName=="scroll"||b.parent.statics.scope!==b.statics.scope)?w:j(b.parent,w)}c.bubbleFormats=j,c.BlockEmbed=T,c.default=q},function(v,c,h){Object.defineProperty(c,"__esModule",{value:!0}),c.default=c.overload=c.expandConfig=void 0;var E=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},g=function(){function H(D,N){var L=[],B=!0,z=!1,F=void 0;try{for(var P=D[Symbol.iterator](),U;!(B=(U=P.next()).done)&&(L.push(U.value),!(N&&L.length===N));B=!0);}catch(G){z=!0,F=G}finally{try{!B&&P.return&&P.return()}finally{if(z)throw F}}return L}return function(D,N){if(Array.isArray(D))return D;if(Symbol.iterator in Object(D))return H(D,N);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_=function(){function H(D,N){for(var L=0;L<N.length;L++){var B=N[L];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(D,B.key,B)}}return function(D,N,L){return N&&H(D.prototype,N),L&&H(D,L),D}}();h(50);var y=h(2),m=j(y),p=h(14),o=j(p),t=h(8),r=j(t),u=h(9),s=j(u),l=h(0),n=j(l),a=h(15),f=j(a),i=h(3),d=j(i),O=h(10),x=j(O),T=h(34),q=j(T);function j(H){return H&&H.__esModule?H:{default:H}}function b(H,D,N){return D in H?Object.defineProperty(H,D,{value:N,enumerable:!0,configurable:!0,writable:!0}):H[D]=N,H}function w(H,D){if(!(H instanceof D))throw new TypeError("Cannot call a class as a function")}var C=(0,x.default)("quill"),I=function(){_(H,null,[{key:"debug",value:function(N){N===!0&&(N="log"),x.default.level(N)}},{key:"find",value:function(N){return N.__quill||n.default.find(N)}},{key:"import",value:function(N){return this.imports[N]==null&&C.error("Cannot import "+N+". Are you sure it was registered?"),this.imports[N]}},{key:"register",value:function(N,L){var B=this,z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof N!="string"){var F=N.attrName||N.blotName;typeof F=="string"?this.register("formats/"+F,N,L):Object.keys(N).forEach(function(P){B.register(P,N[P],L)})}else this.imports[N]!=null&&!z&&C.warn("Overwriting "+N+" with",L),this.imports[N]=L,(N.startsWith("blots/")||N.startsWith("formats/"))&&L.blotName!=="abstract"?n.default.register(L):N.startsWith("modules")&&typeof L.register=="function"&&L.register()}}]);function H(D){var N=this,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(w(this,H),this.options=k(D,L),this.container=this.options.container,this.container==null)return C.error("Invalid Quill container",D);this.options.debug&&H.debug(this.options.debug);var B=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new r.default,this.scroll=n.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new o.default(this.scroll),this.selection=new f.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(r.default.events.EDITOR_CHANGE,function(F){F===r.default.events.TEXT_CHANGE&&N.root.classList.toggle("ql-blank",N.editor.isBlank())}),this.emitter.on(r.default.events.SCROLL_UPDATE,function(F,P){var U=N.selection.lastRange,G=U&&U.length===0?U.index:void 0;R.call(N,function(){return N.editor.update(null,P,G)},F)});var z=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+B+"<p><br></p></div>");this.setContents(z),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return _(H,[{key:"addContainer",value:function(N){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof N=="string"){var B=N;N=document.createElement("div"),N.classList.add(B)}return this.container.insertBefore(N,L),N}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(N,L,B){var z=this,F=M(N,L,B),P=g(F,4);return N=P[0],L=P[1],B=P[3],R.call(this,function(){return z.editor.deleteText(N,L)},B,N,-1*L)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(N),this.container.classList.toggle("ql-disabled",!N)}},{key:"focus",value:function(){var N=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=N,this.scrollIntoView()}},{key:"format",value:function(N,L){var B=this,z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:r.default.sources.API;return R.call(this,function(){var F=B.getSelection(!0),P=new m.default;if(F==null)return P;if(n.default.query(N,n.default.Scope.BLOCK))P=B.editor.formatLine(F.index,F.length,b({},N,L));else{if(F.length===0)return B.selection.format(N,L),P;P=B.editor.formatText(F.index,F.length,b({},N,L))}return B.setSelection(F,r.default.sources.SILENT),P},z)}},{key:"formatLine",value:function(N,L,B,z,F){var P=this,U=void 0,G=M(N,L,B,z,F),K=g(G,4);return N=K[0],L=K[1],U=K[2],F=K[3],R.call(this,function(){return P.editor.formatLine(N,L,U)},F,N,0)}},{key:"formatText",value:function(N,L,B,z,F){var P=this,U=void 0,G=M(N,L,B,z,F),K=g(G,4);return N=K[0],L=K[1],U=K[2],F=K[3],R.call(this,function(){return P.editor.formatText(N,L,U)},F,N,0)}},{key:"getBounds",value:function(N){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,B=void 0;typeof N=="number"?B=this.selection.getBounds(N,L):B=this.selection.getBounds(N.index,N.length);var z=this.container.getBoundingClientRect();return{bottom:B.bottom-z.top,height:B.height,left:B.left-z.left,right:B.right-z.left,top:B.top-z.top,width:B.width}}},{key:"getContents",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-N,B=M(N,L),z=g(B,2);return N=z[0],L=z[1],this.editor.getContents(N,L)}},{key:"getFormat",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof N=="number"?this.editor.getFormat(N,L):this.editor.getFormat(N.index,N.length)}},{key:"getIndex",value:function(N){return N.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(N){return this.scroll.leaf(N)}},{key:"getLine",value:function(N){return this.scroll.line(N)}},{key:"getLines",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof N!="number"?this.scroll.lines(N.index,N.length):this.scroll.lines(N,L)}},{key:"getModule",value:function(N){return this.theme.modules[N]}},{key:"getSelection",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return N&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-N,B=M(N,L),z=g(B,2);return N=z[0],L=z[1],this.editor.getText(N,L)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(N,L,B){var z=this,F=arguments.length>3&&arguments[3]!==void 0?arguments[3]:H.sources.API;return R.call(this,function(){return z.editor.insertEmbed(N,L,B)},F,N)}},{key:"insertText",value:function(N,L,B,z,F){var P=this,U=void 0,G=M(N,0,B,z,F),K=g(G,4);return N=K[0],U=K[2],F=K[3],R.call(this,function(){return P.editor.insertText(N,L,U)},F,N,L.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(N,L,B){this.clipboard.dangerouslyPasteHTML(N,L,B)}},{key:"removeFormat",value:function(N,L,B){var z=this,F=M(N,L,B),P=g(F,4);return N=P[0],L=P[1],B=P[3],R.call(this,function(){return z.editor.removeFormat(N,L)},B,N)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(N){var L=this,B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r.default.sources.API;return R.call(this,function(){N=new m.default(N);var z=L.getLength(),F=L.editor.deleteText(0,z),P=L.editor.applyDelta(N),U=P.ops[P.ops.length-1];U!=null&&typeof U.insert=="string"&&U.insert[U.insert.length-1]===`
`&&(L.editor.deleteText(L.getLength()-1,1),P.delete(1));var G=F.compose(P);return G},B)}},{key:"setSelection",value:function(N,L,B){if(N==null)this.selection.setRange(null,L||H.sources.API);else{var z=M(N,L,B),F=g(z,4);N=F[0],L=F[1],B=F[3],this.selection.setRange(new a.Range(N,L),B),B!==r.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(N){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r.default.sources.API,B=new m.default().insert(N);return this.setContents(B,L)}},{key:"update",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:r.default.sources.USER,L=this.scroll.update(N);return this.selection.update(N),L}},{key:"updateContents",value:function(N){var L=this,B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r.default.sources.API;return R.call(this,function(){return N=new m.default(N),L.editor.applyDelta(N,B)},B,!0)}}]),H}();I.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},I.events=r.default.events,I.sources=r.default.sources,I.version="1.3.7",I.imports={delta:m.default,parchment:n.default,"core/module":s.default,"core/theme":q.default};function k(H,D){if(D=(0,d.default)(!0,{container:H,modules:{clipboard:!0,keyboard:!0,history:!0}},D),!D.theme||D.theme===I.DEFAULTS.theme)D.theme=q.default;else if(D.theme=I.import("themes/"+D.theme),D.theme==null)throw new Error("Invalid theme "+D.theme+". Did you register it?");var N=(0,d.default)(!0,{},D.theme.DEFAULTS);[N,D].forEach(function(z){z.modules=z.modules||{},Object.keys(z.modules).forEach(function(F){z.modules[F]===!0&&(z.modules[F]={})})});var L=Object.keys(N.modules).concat(Object.keys(D.modules)),B=L.reduce(function(z,F){var P=I.import("modules/"+F);return P==null?C.error("Cannot load "+F+" module. Are you sure you registered it?"):z[F]=P.DEFAULTS||{},z},{});return D.modules!=null&&D.modules.toolbar&&D.modules.toolbar.constructor!==Object&&(D.modules.toolbar={container:D.modules.toolbar}),D=(0,d.default)(!0,{},I.DEFAULTS,{modules:B},N,D),["bounds","container","scrollingContainer"].forEach(function(z){typeof D[z]=="string"&&(D[z]=document.querySelector(D[z]))}),D.modules=Object.keys(D.modules).reduce(function(z,F){return D.modules[F]&&(z[F]=D.modules[F]),z},{}),D}function R(H,D,N,L){if(this.options.strict&&!this.isEnabled()&&D===r.default.sources.USER)return new m.default;var B=N==null?null:this.getSelection(),z=this.editor.delta,F=H();if(B!=null&&(N===!0&&(N=B.index),L==null?B=W(B,F,D):L!==0&&(B=W(B,N,L,D)),this.setSelection(B,r.default.sources.SILENT)),F.length()>0){var P,U=[r.default.events.TEXT_CHANGE,F,z,D];if((P=this.emitter).emit.apply(P,[r.default.events.EDITOR_CHANGE].concat(U)),D!==r.default.sources.SILENT){var G;(G=this.emitter).emit.apply(G,U)}}return F}function M(H,D,N,L,B){var z={};return typeof H.index=="number"&&typeof H.length=="number"?typeof D!="number"?(B=L,L=N,N=D,D=H.length,H=H.index):(D=H.length,H=H.index):typeof D!="number"&&(B=L,L=N,N=D,D=0),(typeof N=="undefined"?"undefined":E(N))==="object"?(z=N,B=L):typeof N=="string"&&(L!=null?z[N]=L:B=N),B=B||r.default.sources.API,[H,D,z,B]}function W(H,D,N,L){if(H==null)return null;var B=void 0,z=void 0;if(D instanceof m.default){var F=[H.index,H.index+H.length].map(function(K){return D.transformPosition(K,L!==r.default.sources.USER)}),P=g(F,2);B=P[0],z=P[1]}else{var U=[H.index,H.index+H.length].map(function(K){return K<D||K===D&&L===r.default.sources.USER?K:N>=0?K+N:Math.max(D,K+N)}),G=g(U,2);B=G[0],z=G[1]}return new a.Range(B,z-B)}c.expandConfig=k,c.overload=M,c.default=I},function(v,c,h){Object.defineProperty(c,"__esModule",{value:!0});var E=function(){function l(n,a){for(var f=0;f<a.length;f++){var i=a[f];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(n,a,f){return a&&l(n.prototype,a),f&&l(n,f),n}}(),g=function l(n,a,f){n===null&&(n=Function.prototype);var i=Object.getOwnPropertyDescriptor(n,a);if(i===void 0){var d=Object.getPrototypeOf(n);return d===null?void 0:l(d,a,f)}else{if("value"in i)return i.value;var O=i.get;return O===void 0?void 0:O.call(f)}},_=h(7),y=o(_),m=h(0),p=o(m);function o(l){return l&&l.__esModule?l:{default:l}}function t(l,n){if(!(l instanceof n))throw new TypeError("Cannot call a class as a function")}function r(l,n){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:l}function u(l,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);l.prototype=Object.create(n&&n.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(l,n):l.__proto__=n)}var s=function(l){u(n,l);function n(){return t(this,n),r(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return E(n,[{key:"formatAt",value:function(f,i,d,O){if(n.compare(this.statics.blotName,d)<0&&p.default.query(d,p.default.Scope.BLOT)){var x=this.isolate(f,i);O&&x.wrap(d,O)}else g(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"formatAt",this).call(this,f,i,d,O)}},{key:"optimize",value:function(f){if(g(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"optimize",this).call(this,f),this.parent instanceof n&&n.compare(this.statics.blotName,this.parent.statics.blotName)>0){var i=this.parent.isolate(this.offset(),this.length());this.moveChildren(i),i.wrap(this)}}}],[{key:"compare",value:function(f,i){var d=n.order.indexOf(f),O=n.order.indexOf(i);return d>=0||O>=0?d-O:f===i?0:f<i?-1:1}}]),n}(p.default.Inline);s.allowedChildren=[s,p.default.Embed,y.default],s.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],c.default=s},function(v,c,h){Object.defineProperty(c,"__esModule",{value:!0});var E=h(0),g=_(E);function _(t){return t&&t.__esModule?t:{default:t}}function y(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function m(t,r){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:t}function p(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(t,r):t.__proto__=r)}var o=function(t){p(r,t);function r(){return y(this,r),m(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return r}(g.default.Text);c.default=o},function(v,c,h){Object.defineProperty(c,"__esModule",{value:!0});var E=function(){function a(f,i){for(var d=0;d<i.length;d++){var O=i[d];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(f,O.key,O)}}return function(f,i,d){return i&&a(f.prototype,i),d&&a(f,d),f}}(),g=function a(f,i,d){f===null&&(f=Function.prototype);var O=Object.getOwnPropertyDescriptor(f,i);if(O===void 0){var x=Object.getPrototypeOf(f);return x===null?void 0:a(x,i,d)}else{if("value"in O)return O.value;var T=O.get;return T===void 0?void 0:T.call(d)}},_=h(54),y=o(_),m=h(10),p=o(m);function o(a){return a&&a.__esModule?a:{default:a}}function t(a,f){if(!(a instanceof f))throw new TypeError("Cannot call a class as a function")}function r(a,f){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:a}function u(a,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);a.prototype=Object.create(f&&f.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(a,f):a.__proto__=f)}var s=(0,p.default)("quill:events"),l=["selectionchange","mousedown","mouseup","click"];l.forEach(function(a){document.addEventListener(a,function(){for(var f=arguments.length,i=Array(f),d=0;d<f;d++)i[d]=arguments[d];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(O){if(O.__quill&&O.__quill.emitter){var x;(x=O.__quill.emitter).handleDOM.apply(x,i)}})})});var n=function(a){u(f,a);function f(){t(this,f);var i=r(this,(f.__proto__||Object.getPrototypeOf(f)).call(this));return i.listeners={},i.on("error",s.error),i}return E(f,[{key:"emit",value:function(){s.log.apply(s,arguments),g(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(d){for(var O=arguments.length,x=Array(O>1?O-1:0),T=1;T<O;T++)x[T-1]=arguments[T];(this.listeners[d.type]||[]).forEach(function(q){var j=q.node,b=q.handler;(d.target===j||j.contains(d.target))&&b.apply(void 0,[d].concat(x))})}},{key:"listenDOM",value:function(d,O,x){this.listeners[d]||(this.listeners[d]=[]),this.listeners[d].push({node:O,handler:x})}}]),f}(y.default);n.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},n.sources={API:"api",SILENT:"silent",USER:"user"},c.default=n},function(v,c,h){Object.defineProperty(c,"__esModule",{value:!0});function E(_,y){if(!(_ instanceof y))throw new TypeError("Cannot call a class as a function")}var g=function _(y){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};E(this,_),this.quill=y,this.options=m};g.DEFAULTS={},c.default=g},function(v,c,h){Object.defineProperty(c,"__esModule",{value:!0});var E=["error","warn","log","info"],g="warn";function _(m){if(E.indexOf(m)<=E.indexOf(g)){for(var p,o=arguments.length,t=Array(o>1?o-1:0),r=1;r<o;r++)t[r-1]=arguments[r];(p=console)[m].apply(p,t)}}function y(m){return E.reduce(function(p,o){return p[o]=_.bind(console,o,m),p},{})}_.level=y.level=function(m){g=m},c.default=y},function(v,c,h){var E=Array.prototype.slice,g=h(52),_=h(53),y=v.exports=function(t,r,u){return u||(u={}),t===r?!0:t instanceof Date&&r instanceof Date?t.getTime()===r.getTime():!t||!r||typeof t!="object"&&typeof r!="object"?u.strict?t===r:t==r:o(t,r,u)};function m(t){return t==null}function p(t){return!(!t||typeof t!="object"||typeof t.length!="number"||typeof t.copy!="function"||typeof t.slice!="function"||t.length>0&&typeof t[0]!="number")}function o(t,r,u){var s,l;if(m(t)||m(r)||t.prototype!==r.prototype)return!1;if(_(t))return _(r)?(t=E.call(t),r=E.call(r),y(t,r,u)):!1;if(p(t)){if(!p(r)||t.length!==r.length)return!1;for(s=0;s<t.length;s++)if(t[s]!==r[s])return!1;return!0}try{var n=g(t),a=g(r)}catch(f){return!1}if(n.length!=a.length)return!1;for(n.sort(),a.sort(),s=n.length-1;s>=0;s--)if(n[s]!=a[s])return!1;for(s=n.length-1;s>=0;s--)if(l=n[s],!y(t[l],r[l],u))return!1;return typeof t==typeof r}},function(v,c,h){Object.defineProperty(c,"__esModule",{value:!0});var E=h(1),g=function(){function _(y,m,p){p===void 0&&(p={}),this.attrName=y,this.keyName=m;var o=E.Scope.TYPE&E.Scope.ATTRIBUTE;p.scope!=null?this.scope=p.scope&E.Scope.LEVEL|o:this.scope=E.Scope.ATTRIBUTE,p.whitelist!=null&&(this.whitelist=p.whitelist)}return _.keys=function(y){return[].map.call(y.attributes,function(m){return m.name})},_.prototype.add=function(y,m){return this.canAdd(y,m)?(y.setAttribute(this.keyName,m),!0):!1},_.prototype.canAdd=function(y,m){var p=E.query(y,E.Scope.BLOT&(this.scope|E.Scope.TYPE));return p==null?!1:this.whitelist==null?!0:typeof m=="string"?this.whitelist.indexOf(m.replace(/["']/g,""))>-1:this.whitelist.indexOf(m)>-1},_.prototype.remove=function(y){y.removeAttribute(this.keyName)},_.prototype.value=function(y){var m=y.getAttribute(this.keyName);return this.canAdd(y,m)&&m?m:""},_}();c.default=g},function(v,c,h){Object.defineProperty(c,"__esModule",{value:!0}),c.default=c.Code=void 0;var E=function(){function T(q,j){var b=[],w=!0,C=!1,I=void 0;try{for(var k=q[Symbol.iterator](),R;!(w=(R=k.next()).done)&&(b.push(R.value),!(j&&b.length===j));w=!0);}catch(M){C=!0,I=M}finally{try{!w&&k.return&&k.return()}finally{if(C)throw I}}return b}return function(q,j){if(Array.isArray(q))return q;if(Symbol.iterator in Object(q))return T(q,j);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),g=function(){function T(q,j){for(var b=0;b<j.length;b++){var w=j[b];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(q,w.key,w)}}return function(q,j,b){return j&&T(q.prototype,j),b&&T(q,b),q}}(),_=function T(q,j,b){q===null&&(q=Function.prototype);var w=Object.getOwnPropertyDescriptor(q,j);if(w===void 0){var C=Object.getPrototypeOf(q);return C===null?void 0:T(C,j,b)}else{if("value"in w)return w.value;var I=w.get;return I===void 0?void 0:I.call(b)}},y=h(2),m=a(y),p=h(0),o=a(p),t=h(4),r=a(t),u=h(6),s=a(u),l=h(7),n=a(l);function a(T){return T&&T.__esModule?T:{default:T}}function f(T,q){if(!(T instanceof q))throw new TypeError("Cannot call a class as a function")}function i(T,q){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return q&&(typeof q=="object"||typeof q=="function")?q:T}function d(T,q){if(typeof q!="function"&&q!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof q);T.prototype=Object.create(q&&q.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),q&&(Object.setPrototypeOf?Object.setPrototypeOf(T,q):T.__proto__=q)}var O=function(T){d(q,T);function q(){return f(this,q),i(this,(q.__proto__||Object.getPrototypeOf(q)).apply(this,arguments))}return q}(s.default);O.blotName="code",O.tagName="CODE";var x=function(T){d(q,T);function q(){return f(this,q),i(this,(q.__proto__||Object.getPrototypeOf(q)).apply(this,arguments))}return g(q,[{key:"delta",value:function(){var b=this,w=this.domNode.textContent;return w.endsWith(`
`)&&(w=w.slice(0,-1)),w.split(`
`).reduce(function(C,I){return C.insert(I).insert(`
`,b.formats())},new m.default)}},{key:"format",value:function(b,w){if(!(b===this.statics.blotName&&w)){var C=this.descendant(n.default,this.length()-1),I=E(C,1),k=I[0];k!=null&&k.deleteAt(k.length()-1,1),_(q.prototype.__proto__||Object.getPrototypeOf(q.prototype),"format",this).call(this,b,w)}}},{key:"formatAt",value:function(b,w,C,I){if(w!==0&&!(o.default.query(C,o.default.Scope.BLOCK)==null||C===this.statics.blotName&&I===this.statics.formats(this.domNode))){var k=this.newlineIndex(b);if(!(k<0||k>=b+w)){var R=this.newlineIndex(b,!0)+1,M=k-R+1,W=this.isolate(R,M),H=W.next;W.format(C,I),H instanceof q&&H.formatAt(0,b-R+w-M,C,I)}}}},{key:"insertAt",value:function(b,w,C){if(C==null){var I=this.descendant(n.default,b),k=E(I,2),R=k[0],M=k[1];R.insertAt(M,w)}}},{key:"length",value:function(){var b=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?b:b+1}},{key:"newlineIndex",value:function(b){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(w)return this.domNode.textContent.slice(0,b).lastIndexOf(`
`);var C=this.domNode.textContent.slice(b).indexOf(`
`);return C>-1?b+C:-1}},{key:"optimize",value:function(b){this.domNode.textContent.endsWith(`
`)||this.appendChild(o.default.create("text",`
`)),_(q.prototype.__proto__||Object.getPrototypeOf(q.prototype),"optimize",this).call(this,b);var w=this.next;w!=null&&w.prev===this&&w.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===w.statics.formats(w.domNode)&&(w.optimize(b),w.moveChildren(this),w.remove())}},{key:"replace",value:function(b){_(q.prototype.__proto__||Object.getPrototypeOf(q.prototype),"replace",this).call(this,b),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(w){var C=o.default.find(w);C==null?w.parentNode.removeChild(w):C instanceof o.default.Embed?C.remove():C.unwrap()})}}],[{key:"create",value:function(b){var w=_(q.__proto__||Object.getPrototypeOf(q),"create",this).call(this,b);return w.setAttribute("spellcheck",!1),w}},{key:"formats",value:function(){return!0}}]),q}(r.default);x.blotName="code-block",x.tagName="PRE",x.TAB="  ",c.Code=O,c.default=x},function(v,c,h){Object.defineProperty(c,"__esModule",{value:!0});var E=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},g=function(){function H(D,N){var L=[],B=!0,z=!1,F=void 0;try{for(var P=D[Symbol.iterator](),U;!(B=(U=P.next()).done)&&(L.push(U.value),!(N&&L.length===N));B=!0);}catch(G){z=!0,F=G}finally{try{!B&&P.return&&P.return()}finally{if(z)throw F}}return L}return function(D,N){if(Array.isArray(D))return D;if(Symbol.iterator in Object(D))return H(D,N);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_=function(){function H(D,N){for(var L=0;L<N.length;L++){var B=N[L];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(D,B.key,B)}}return function(D,N,L){return N&&H(D.prototype,N),L&&H(D,L),D}}(),y=h(2),m=w(y),p=h(20),o=w(p),t=h(0),r=w(t),u=h(13),s=w(u),l=h(24),n=w(l),a=h(4),f=w(a),i=h(16),d=w(i),O=h(21),x=w(O),T=h(11),q=w(T),j=h(3),b=w(j);function w(H){return H&&H.__esModule?H:{default:H}}function C(H,D,N){return D in H?Object.defineProperty(H,D,{value:N,enumerable:!0,configurable:!0,writable:!0}):H[D]=N,H}function I(H,D){if(!(H instanceof D))throw new TypeError("Cannot call a class as a function")}var k=/^[ -~]*$/,R=function(){function H(D){I(this,H),this.scroll=D,this.delta=this.getDelta()}return _(H,[{key:"applyDelta",value:function(N){var L=this,B=!1;this.scroll.update();var z=this.scroll.length();return this.scroll.batchStart(),N=W(N),N.reduce(function(F,P){var U=P.retain||P.delete||P.insert.length||1,G=P.attributes||{};if(P.insert!=null){if(typeof P.insert=="string"){var K=P.insert;K.endsWith(`
`)&&B&&(B=!1,K=K.slice(0,-1)),F>=z&&!K.endsWith(`
`)&&(B=!0),L.scroll.insertAt(F,K);var J=L.scroll.line(F),te=g(J,2),ie=te[0],oe=te[1],le=(0,b.default)({},(0,a.bubbleFormats)(ie));if(ie instanceof f.default){var he=ie.descendant(r.default.Leaf,oe),Oe=g(he,1),ge=Oe[0];le=(0,b.default)(le,(0,a.bubbleFormats)(ge))}G=o.default.attributes.diff(le,G)||{}}else if(E(P.insert)==="object"){var Z=Object.keys(P.insert)[0];if(Z==null)return F;L.scroll.insertAt(F,Z,P.insert[Z])}z+=U}return Object.keys(G).forEach(function(Y){L.scroll.formatAt(F,U,Y,G[Y])}),F+U},0),N.reduce(function(F,P){return typeof P.delete=="number"?(L.scroll.deleteAt(F,P.delete),F):F+(P.retain||P.insert.length||1)},0),this.scroll.batchEnd(),this.update(N)}},{key:"deleteText",value:function(N,L){return this.scroll.deleteAt(N,L),this.update(new m.default().retain(N).delete(L))}},{key:"formatLine",value:function(N,L){var B=this,z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(z).forEach(function(F){if(!(B.scroll.whitelist!=null&&!B.scroll.whitelist[F])){var P=B.scroll.lines(N,Math.max(L,1)),U=L;P.forEach(function(G){var K=G.length();if(!(G instanceof s.default))G.format(F,z[F]);else{var J=N-G.offset(B.scroll),te=G.newlineIndex(J+U)-J+1;G.formatAt(J,te,F,z[F])}U-=K})}}),this.scroll.optimize(),this.update(new m.default().retain(N).retain(L,(0,x.default)(z)))}},{key:"formatText",value:function(N,L){var B=this,z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(z).forEach(function(F){B.scroll.formatAt(N,L,F,z[F])}),this.update(new m.default().retain(N).retain(L,(0,x.default)(z)))}},{key:"getContents",value:function(N,L){return this.delta.slice(N,N+L)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(N,L){return N.concat(L.delta())},new m.default)}},{key:"getFormat",value:function(N){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,B=[],z=[];L===0?this.scroll.path(N).forEach(function(P){var U=g(P,1),G=U[0];G instanceof f.default?B.push(G):G instanceof r.default.Leaf&&z.push(G)}):(B=this.scroll.lines(N,L),z=this.scroll.descendants(r.default.Leaf,N,L));var F=[B,z].map(function(P){if(P.length===0)return{};for(var U=(0,a.bubbleFormats)(P.shift());Object.keys(U).length>0;){var G=P.shift();if(G==null)return U;U=M((0,a.bubbleFormats)(G),U)}return U});return b.default.apply(b.default,F)}},{key:"getText",value:function(N,L){return this.getContents(N,L).filter(function(B){return typeof B.insert=="string"}).map(function(B){return B.insert}).join("")}},{key:"insertEmbed",value:function(N,L,B){return this.scroll.insertAt(N,L,B),this.update(new m.default().retain(N).insert(C({},L,B)))}},{key:"insertText",value:function(N,L){var B=this,z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return L=L.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(N,L),Object.keys(z).forEach(function(F){B.scroll.formatAt(N,L.length,F,z[F])}),this.update(new m.default().retain(N).insert(L,(0,x.default)(z)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var N=this.scroll.children.head;return N.statics.blotName!==f.default.blotName||N.children.length>1?!1:N.children.head instanceof d.default}},{key:"removeFormat",value:function(N,L){var B=this.getText(N,L),z=this.scroll.line(N+L),F=g(z,2),P=F[0],U=F[1],G=0,K=new m.default;P!=null&&(P instanceof s.default?G=P.newlineIndex(U)-U+1:G=P.length()-U,K=P.delta().slice(U,U+G-1).insert(`
`));var J=this.getContents(N,L+G),te=J.diff(new m.default().insert(B).concat(K)),ie=new m.default().retain(N).concat(te);return this.applyDelta(ie)}},{key:"update",value:function(N){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,z=this.delta;if(L.length===1&&L[0].type==="characterData"&&L[0].target.data.match(k)&&r.default.find(L[0].target)){var F=r.default.find(L[0].target),P=(0,a.bubbleFormats)(F),U=F.offset(this.scroll),G=L[0].oldValue.replace(n.default.CONTENTS,""),K=new m.default().insert(G),J=new m.default().insert(F.value()),te=new m.default().retain(U).concat(K.diff(J,B));N=te.reduce(function(ie,oe){return oe.insert?ie.insert(oe.insert,P):ie.push(oe)},new m.default),this.delta=z.compose(N)}else this.delta=this.getDelta(),(!N||!(0,q.default)(z.compose(N),this.delta))&&(N=z.diff(this.delta,B));return N}}]),H}();function M(H,D){return Object.keys(D).reduce(function(N,L){return H[L]==null||(D[L]===H[L]?N[L]=D[L]:Array.isArray(D[L])?D[L].indexOf(H[L])<0&&(N[L]=D[L].concat([H[L]])):N[L]=[D[L],H[L]]),N},{})}function W(H){return H.reduce(function(D,N){if(N.insert===1){var L=(0,x.default)(N.attributes);return delete L.image,D.insert({image:N.attributes.image},L)}if(N.attributes!=null&&(N.attributes.list===!0||N.attributes.bullet===!0)&&(N=(0,x.default)(N),N.attributes.list?N.attributes.list="ordered":(N.attributes.list="bullet",delete N.attributes.bullet)),typeof N.insert=="string"){var B=N.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return D.insert(B,N.attributes)}return D.push(N)},new m.default)}c.default=R},function(v,c,h){Object.defineProperty(c,"__esModule",{value:!0}),c.default=c.Range=void 0;var E=function(){function T(q,j){var b=[],w=!0,C=!1,I=void 0;try{for(var k=q[Symbol.iterator](),R;!(w=(R=k.next()).done)&&(b.push(R.value),!(j&&b.length===j));w=!0);}catch(M){C=!0,I=M}finally{try{!w&&k.return&&k.return()}finally{if(C)throw I}}return b}return function(q,j){if(Array.isArray(q))return q;if(Symbol.iterator in Object(q))return T(q,j);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),g=function(){function T(q,j){for(var b=0;b<j.length;b++){var w=j[b];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(q,w.key,w)}}return function(q,j,b){return j&&T(q.prototype,j),b&&T(q,b),q}}(),_=h(0),y=n(_),m=h(21),p=n(m),o=h(11),t=n(o),r=h(8),u=n(r),s=h(10),l=n(s);function n(T){return T&&T.__esModule?T:{default:T}}function a(T){if(Array.isArray(T)){for(var q=0,j=Array(T.length);q<T.length;q++)j[q]=T[q];return j}else return Array.from(T)}function f(T,q){if(!(T instanceof q))throw new TypeError("Cannot call a class as a function")}var i=(0,l.default)("quill:selection"),d=function T(q){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;f(this,T),this.index=q,this.length=j},O=function(){function T(q,j){var b=this;f(this,T),this.emitter=j,this.scroll=q,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=y.default.create("cursor",this),this.lastRange=this.savedRange=new d(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){b.mouseDown||setTimeout(b.update.bind(b,u.default.sources.USER),1)}),this.emitter.on(u.default.events.EDITOR_CHANGE,function(w,C){w===u.default.events.TEXT_CHANGE&&C.length()>0&&b.update(u.default.sources.SILENT)}),this.emitter.on(u.default.events.SCROLL_BEFORE_UPDATE,function(){if(b.hasFocus()){var w=b.getNativeRange();w!=null&&w.start.node!==b.cursor.textNode&&b.emitter.once(u.default.events.SCROLL_UPDATE,function(){try{b.setNativeRange(w.start.node,w.start.offset,w.end.node,w.end.offset)}catch(C){}})}}),this.emitter.on(u.default.events.SCROLL_OPTIMIZE,function(w,C){if(C.range){var I=C.range,k=I.startNode,R=I.startOffset,M=I.endNode,W=I.endOffset;b.setNativeRange(k,R,M,W)}}),this.update(u.default.sources.SILENT)}return g(T,[{key:"handleComposition",value:function(){var j=this;this.root.addEventListener("compositionstart",function(){j.composing=!0}),this.root.addEventListener("compositionend",function(){if(j.composing=!1,j.cursor.parent){var b=j.cursor.restore();if(!b)return;setTimeout(function(){j.setNativeRange(b.startNode,b.startOffset,b.endNode,b.endOffset)},1)}})}},{key:"handleDragging",value:function(){var j=this;this.emitter.listenDOM("mousedown",document.body,function(){j.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){j.mouseDown=!1,j.update(u.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(j,b){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[j])){this.scroll.update();var w=this.getNativeRange();if(!(w==null||!w.native.collapsed||y.default.query(j,y.default.Scope.BLOCK))){if(w.start.node!==this.cursor.textNode){var C=y.default.find(w.start.node,!1);if(C==null)return;if(C instanceof y.default.Leaf){var I=C.split(w.start.offset);C.parent.insertBefore(this.cursor,I)}else C.insertBefore(this.cursor,w.start.node);this.cursor.attach()}this.cursor.format(j,b),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(j){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,w=this.scroll.length();j=Math.min(j,w-1),b=Math.min(j+b,w-1)-j;var C=void 0,I=this.scroll.leaf(j),k=E(I,2),R=k[0],M=k[1];if(R==null)return null;var W=R.position(M,!0),H=E(W,2);C=H[0],M=H[1];var D=document.createRange();if(b>0){D.setStart(C,M);var N=this.scroll.leaf(j+b),L=E(N,2);if(R=L[0],M=L[1],R==null)return null;var B=R.position(M,!0),z=E(B,2);return C=z[0],M=z[1],D.setEnd(C,M),D.getBoundingClientRect()}else{var F="left",P=void 0;return C instanceof Text?(M<C.data.length?(D.setStart(C,M),D.setEnd(C,M+1)):(D.setStart(C,M-1),D.setEnd(C,M),F="right"),P=D.getBoundingClientRect()):(P=R.domNode.getBoundingClientRect(),M>0&&(F="right")),{bottom:P.top+P.height,height:P.height,left:P[F],right:P[F],top:P.top,width:0}}}},{key:"getNativeRange",value:function(){var j=document.getSelection();if(j==null||j.rangeCount<=0)return null;var b=j.getRangeAt(0);if(b==null)return null;var w=this.normalizeNative(b);return i.info("getNativeRange",w),w}},{key:"getRange",value:function(){var j=this.getNativeRange();if(j==null)return[null,null];var b=this.normalizedToRange(j);return[b,j]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(j){var b=this,w=[[j.start.node,j.start.offset]];j.native.collapsed||w.push([j.end.node,j.end.offset]);var C=w.map(function(R){var M=E(R,2),W=M[0],H=M[1],D=y.default.find(W,!0),N=D.offset(b.scroll);return H===0?N:D instanceof y.default.Container?N+D.length():N+D.index(W,H)}),I=Math.min(Math.max.apply(Math,a(C)),this.scroll.length()-1),k=Math.min.apply(Math,[I].concat(a(C)));return new d(k,I-k)}},{key:"normalizeNative",value:function(j){if(!x(this.root,j.startContainer)||!j.collapsed&&!x(this.root,j.endContainer))return null;var b={start:{node:j.startContainer,offset:j.startOffset},end:{node:j.endContainer,offset:j.endOffset},native:j};return[b.start,b.end].forEach(function(w){for(var C=w.node,I=w.offset;!(C instanceof Text)&&C.childNodes.length>0;)if(C.childNodes.length>I)C=C.childNodes[I],I=0;else if(C.childNodes.length===I)C=C.lastChild,I=C instanceof Text?C.data.length:C.childNodes.length+1;else break;w.node=C,w.offset=I}),b}},{key:"rangeToNative",value:function(j){var b=this,w=j.collapsed?[j.index]:[j.index,j.index+j.length],C=[],I=this.scroll.length();return w.forEach(function(k,R){k=Math.min(I-1,k);var M=void 0,W=b.scroll.leaf(k),H=E(W,2),D=H[0],N=H[1],L=D.position(N,R!==0),B=E(L,2);M=B[0],N=B[1],C.push(M,N)}),C.length<2&&(C=C.concat(C)),C}},{key:"scrollIntoView",value:function(j){var b=this.lastRange;if(b!=null){var w=this.getBounds(b.index,b.length);if(w!=null){var C=this.scroll.length()-1,I=this.scroll.line(Math.min(b.index,C)),k=E(I,1),R=k[0],M=R;if(b.length>0){var W=this.scroll.line(Math.min(b.index+b.length,C)),H=E(W,1);M=H[0]}if(!(R==null||M==null)){var D=j.getBoundingClientRect();w.top<D.top?j.scrollTop-=D.top-w.top:w.bottom>D.bottom&&(j.scrollTop+=w.bottom-D.bottom)}}}}},{key:"setNativeRange",value:function(j,b){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:j,C=arguments.length>3&&arguments[3]!==void 0?arguments[3]:b,I=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(i.info("setNativeRange",j,b,w,C),!(j!=null&&(this.root.parentNode==null||j.parentNode==null||w.parentNode==null))){var k=document.getSelection();if(k!=null)if(j!=null){this.hasFocus()||this.root.focus();var R=(this.getNativeRange()||{}).native;if(R==null||I||j!==R.startContainer||b!==R.startOffset||w!==R.endContainer||C!==R.endOffset){j.tagName=="BR"&&(b=[].indexOf.call(j.parentNode.childNodes,j),j=j.parentNode),w.tagName=="BR"&&(C=[].indexOf.call(w.parentNode.childNodes,w),w=w.parentNode);var M=document.createRange();M.setStart(j,b),M.setEnd(w,C),k.removeAllRanges(),k.addRange(M)}}else k.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(j){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:u.default.sources.API;if(typeof b=="string"&&(w=b,b=!1),i.info("setRange",j),j!=null){var C=this.rangeToNative(j);this.setNativeRange.apply(this,a(C).concat([b]))}else this.setNativeRange(null);this.update(w)}},{key:"update",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:u.default.sources.USER,b=this.lastRange,w=this.getRange(),C=E(w,2),I=C[0],k=C[1];if(this.lastRange=I,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,t.default)(b,this.lastRange)){var R;!this.composing&&k!=null&&k.native.collapsed&&k.start.node!==this.cursor.textNode&&this.cursor.restore();var M=[u.default.events.SELECTION_CHANGE,(0,p.default)(this.lastRange),(0,p.default)(b),j];if((R=this.emitter).emit.apply(R,[u.default.events.EDITOR_CHANGE].concat(M)),j!==u.default.sources.SILENT){var W;(W=this.emitter).emit.apply(W,M)}}}}]),T}();function x(T,q){try{q.parentNode}catch(j){return!1}return q instanceof Text&&(q=q.parentNode),T.contains(q)}c.Range=d,c.default=O},function(v,c,h){Object.defineProperty(c,"__esModule",{value:!0});var E=function(){function u(s,l){for(var n=0;n<l.length;n++){var a=l[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(s,a.key,a)}}return function(s,l,n){return l&&u(s.prototype,l),n&&u(s,n),s}}(),g=function u(s,l,n){s===null&&(s=Function.prototype);var a=Object.getOwnPropertyDescriptor(s,l);if(a===void 0){var f=Object.getPrototypeOf(s);return f===null?void 0:u(f,l,n)}else{if("value"in a)return a.value;var i=a.get;return i===void 0?void 0:i.call(n)}},_=h(0),y=m(_);function m(u){return u&&u.__esModule?u:{default:u}}function p(u,s){if(!(u instanceof s))throw new TypeError("Cannot call a class as a function")}function o(u,s){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s&&(typeof s=="object"||typeof s=="function")?s:u}function t(u,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof s);u.prototype=Object.create(s&&s.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),s&&(Object.setPrototypeOf?Object.setPrototypeOf(u,s):u.__proto__=s)}var r=function(u){t(s,u);function s(){return p(this,s),o(this,(s.__proto__||Object.getPrototypeOf(s)).apply(this,arguments))}return E(s,[{key:"insertInto",value:function(n,a){n.children.length===0?g(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"insertInto",this).call(this,n,a):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),s}(y.default.Embed);r.blotName="break",r.tagName="BR",c.default=r},function(v,c,h){var E=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var u in r)r.hasOwnProperty(u)&&(t[u]=r[u])};return function(t,r){o(t,r);function u(){this.constructor=t}t.prototype=r===null?Object.create(r):(u.prototype=r.prototype,new u)}}();Object.defineProperty(c,"__esModule",{value:!0});var g=h(44),_=h(30),y=h(1),m=function(o){E(t,o);function t(r){var u=o.call(this,r)||this;return u.build(),u}return t.prototype.appendChild=function(r){this.insertBefore(r)},t.prototype.attach=function(){o.prototype.attach.call(this),this.children.forEach(function(r){r.attach()})},t.prototype.build=function(){var r=this;this.children=new g.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(u){try{var s=p(u);r.insertBefore(s,r.children.head||void 0)}catch(l){if(l instanceof y.ParchmentError)return;throw l}})},t.prototype.deleteAt=function(r,u){if(r===0&&u===this.length())return this.remove();this.children.forEachAt(r,u,function(s,l,n){s.deleteAt(l,n)})},t.prototype.descendant=function(r,u){var s=this.children.find(u),l=s[0],n=s[1];return r.blotName==null&&r(l)||r.blotName!=null&&l instanceof r?[l,n]:l instanceof t?l.descendant(r,n):[null,-1]},t.prototype.descendants=function(r,u,s){u===void 0&&(u=0),s===void 0&&(s=Number.MAX_VALUE);var l=[],n=s;return this.children.forEachAt(u,s,function(a,f,i){(r.blotName==null&&r(a)||r.blotName!=null&&a instanceof r)&&l.push(a),a instanceof t&&(l=l.concat(a.descendants(r,f,n))),n-=i}),l},t.prototype.detach=function(){this.children.forEach(function(r){r.detach()}),o.prototype.detach.call(this)},t.prototype.formatAt=function(r,u,s,l){this.children.forEachAt(r,u,function(n,a,f){n.formatAt(a,f,s,l)})},t.prototype.insertAt=function(r,u,s){var l=this.children.find(r),n=l[0],a=l[1];if(n)n.insertAt(a,u,s);else{var f=s==null?y.create("text",u):y.create(u,s);this.appendChild(f)}},t.prototype.insertBefore=function(r,u){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(s){return r instanceof s}))throw new y.ParchmentError("Cannot insert "+r.statics.blotName+" into "+this.statics.blotName);r.insertInto(this,u)},t.prototype.length=function(){return this.children.reduce(function(r,u){return r+u.length()},0)},t.prototype.moveChildren=function(r,u){this.children.forEach(function(s){r.insertBefore(s,u)})},t.prototype.optimize=function(r){if(o.prototype.optimize.call(this,r),this.children.length===0)if(this.statics.defaultChild!=null){var u=y.create(this.statics.defaultChild);this.appendChild(u),u.optimize(r)}else this.remove()},t.prototype.path=function(r,u){u===void 0&&(u=!1);var s=this.children.find(r,u),l=s[0],n=s[1],a=[[this,r]];return l instanceof t?a.concat(l.path(n,u)):(l!=null&&a.push([l,n]),a)},t.prototype.removeChild=function(r){this.children.remove(r)},t.prototype.replace=function(r){r instanceof t&&r.moveChildren(this),o.prototype.replace.call(this,r)},t.prototype.split=function(r,u){if(u===void 0&&(u=!1),!u){if(r===0)return this;if(r===this.length())return this.next}var s=this.clone();return this.parent.insertBefore(s,this.next),this.children.forEachAt(r,this.length(),function(l,n,a){l=l.split(n,u),s.appendChild(l)}),s},t.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},t.prototype.update=function(r,u){var s=this,l=[],n=[];r.forEach(function(a){a.target===s.domNode&&a.type==="childList"&&(l.push.apply(l,a.addedNodes),n.push.apply(n,a.removedNodes))}),n.forEach(function(a){if(!(a.parentNode!=null&&a.tagName!=="IFRAME"&&document.body.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var f=y.find(a);f!=null&&(f.domNode.parentNode==null||f.domNode.parentNode===s.domNode)&&f.detach()}}),l.filter(function(a){return a.parentNode==s.domNode}).sort(function(a,f){return a===f?0:a.compareDocumentPosition(f)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(a){var f=null;a.nextSibling!=null&&(f=y.find(a.nextSibling));var i=p(a);(i.next!=f||i.next==null)&&(i.parent!=null&&i.parent.removeChild(s),s.insertBefore(i,f||void 0))})},t}(_.default);function p(o){var t=y.find(o);if(t==null)try{t=y.create(o)}catch(r){t=y.create(y.Scope.INLINE),[].slice.call(o.childNodes).forEach(function(u){t.domNode.appendChild(u)}),o.parentNode&&o.parentNode.replaceChild(t.domNode,o),t.attach()}return t}c.default=m},function(v,c,h){var E=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var u in r)r.hasOwnProperty(u)&&(t[u]=r[u])};return function(t,r){o(t,r);function u(){this.constructor=t}t.prototype=r===null?Object.create(r):(u.prototype=r.prototype,new u)}}();Object.defineProperty(c,"__esModule",{value:!0});var g=h(12),_=h(31),y=h(17),m=h(1),p=function(o){E(t,o);function t(r){var u=o.call(this,r)||this;return u.attributes=new _.default(u.domNode),u}return t.formats=function(r){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return r.tagName.toLowerCase()},t.prototype.format=function(r,u){var s=m.query(r);s instanceof g.default?this.attributes.attribute(s,u):u&&s!=null&&(r!==this.statics.blotName||this.formats()[r]!==u)&&this.replaceWith(r,u)},t.prototype.formats=function(){var r=this.attributes.values(),u=this.statics.formats(this.domNode);return u!=null&&(r[this.statics.blotName]=u),r},t.prototype.replaceWith=function(r,u){var s=o.prototype.replaceWith.call(this,r,u);return this.attributes.copy(s),s},t.prototype.update=function(r,u){var s=this;o.prototype.update.call(this,r,u),r.some(function(l){return l.target===s.domNode&&l.type==="attributes"})&&this.attributes.build()},t.prototype.wrap=function(r,u){var s=o.prototype.wrap.call(this,r,u);return s instanceof t&&s.statics.scope===this.statics.scope&&this.attributes.move(s),s},t}(y.default);c.default=p},function(v,c,h){var E=this&&this.__extends||function(){var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,o){p.__proto__=o}||function(p,o){for(var t in o)o.hasOwnProperty(t)&&(p[t]=o[t])};return function(p,o){m(p,o);function t(){this.constructor=p}p.prototype=o===null?Object.create(o):(t.prototype=o.prototype,new t)}}();Object.defineProperty(c,"__esModule",{value:!0});var g=h(30),_=h(1),y=function(m){E(p,m);function p(){return m!==null&&m.apply(this,arguments)||this}return p.value=function(o){return!0},p.prototype.index=function(o,t){return this.domNode===o||this.domNode.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(t,1):-1},p.prototype.position=function(o,t){var r=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return o>0&&(r+=1),[this.parent.domNode,r]},p.prototype.value=function(){var o;return o={},o[this.statics.blotName]=this.statics.value(this.domNode)||!0,o},p.scope=_.Scope.INLINE_BLOT,p}(g.default);c.default=y},function(v,c,h){var E=h(11),g=h(3),_={attributes:{compose:function(m,p,o){typeof m!="object"&&(m={}),typeof p!="object"&&(p={});var t=g(!0,{},p);o||(t=Object.keys(t).reduce(function(u,s){return t[s]!=null&&(u[s]=t[s]),u},{}));for(var r in m)m[r]!==void 0&&p[r]===void 0&&(t[r]=m[r]);return Object.keys(t).length>0?t:void 0},diff:function(m,p){typeof m!="object"&&(m={}),typeof p!="object"&&(p={});var o=Object.keys(m).concat(Object.keys(p)).reduce(function(t,r){return E(m[r],p[r])||(t[r]=p[r]===void 0?null:p[r]),t},{});return Object.keys(o).length>0?o:void 0},transform:function(m,p,o){if(typeof m!="object")return p;if(typeof p=="object"){if(!o)return p;var t=Object.keys(p).reduce(function(r,u){return m[u]===void 0&&(r[u]=p[u]),r},{});return Object.keys(t).length>0?t:void 0}}},iterator:function(m){return new y(m)},length:function(m){return typeof m.delete=="number"?m.delete:typeof m.retain=="number"?m.retain:typeof m.insert=="string"?m.insert.length:1}};function y(m){this.ops=m,this.index=0,this.offset=0}y.prototype.hasNext=function(){return this.peekLength()<1/0},y.prototype.next=function(m){m||(m=1/0);var p=this.ops[this.index];if(p){var o=this.offset,t=_.length(p);if(m>=t-o?(m=t-o,this.index+=1,this.offset=0):this.offset+=m,typeof p.delete=="number")return{delete:m};var r={};return p.attributes&&(r.attributes=p.attributes),typeof p.retain=="number"?r.retain=m:typeof p.insert=="string"?r.insert=p.insert.substr(o,m):r.insert=p.insert,r}else return{retain:1/0}},y.prototype.peek=function(){return this.ops[this.index]},y.prototype.peekLength=function(){return this.ops[this.index]?_.length(this.ops[this.index])-this.offset:1/0},y.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},y.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var m=this.offset,p=this.index,o=this.next(),t=this.ops.slice(this.index);return this.offset=m,this.index=p,[o].concat(t)}else return[]},v.exports=_},function(v,c){var h=function(){function E(s,l){return l!=null&&s instanceof l}var g;try{g=Map}catch(s){g=function(){}}var _;try{_=Set}catch(s){_=function(){}}var y;try{y=Promise}catch(s){y=function(){}}function m(s,l,n,a,f){typeof l=="object"&&(n=l.depth,a=l.prototype,f=l.includeNonEnumerable,l=l.circular);var i=[],d=[],O=typeof Buffer!="undefined";typeof l=="undefined"&&(l=!0),typeof n=="undefined"&&(n=1/0);function x(T,q){if(T===null)return null;if(q===0)return T;var j,b;if(typeof T!="object")return T;if(E(T,g))j=new g;else if(E(T,_))j=new _;else if(E(T,y))j=new y(function(D,N){T.then(function(L){D(x(L,q-1))},function(L){N(x(L,q-1))})});else if(m.__isArray(T))j=[];else if(m.__isRegExp(T))j=new RegExp(T.source,u(T)),T.lastIndex&&(j.lastIndex=T.lastIndex);else if(m.__isDate(T))j=new Date(T.getTime());else{if(O&&Buffer.isBuffer(T))return Buffer.allocUnsafe?j=Buffer.allocUnsafe(T.length):j=new Buffer(T.length),T.copy(j),j;E(T,Error)?j=Object.create(T):typeof a=="undefined"?(b=Object.getPrototypeOf(T),j=Object.create(b)):(j=Object.create(a),b=a)}if(l){var w=i.indexOf(T);if(w!=-1)return d[w];i.push(T),d.push(j)}E(T,g)&&T.forEach(function(D,N){var L=x(N,q-1),B=x(D,q-1);j.set(L,B)}),E(T,_)&&T.forEach(function(D){var N=x(D,q-1);j.add(N)});for(var C in T){var I;b&&(I=Object.getOwnPropertyDescriptor(b,C)),!(I&&I.set==null)&&(j[C]=x(T[C],q-1))}if(Object.getOwnPropertySymbols)for(var k=Object.getOwnPropertySymbols(T),C=0;C<k.length;C++){var R=k[C],M=Object.getOwnPropertyDescriptor(T,R);M&&!M.enumerable&&!f||(j[R]=x(T[R],q-1),M.enumerable||Object.defineProperty(j,R,{enumerable:!1}))}if(f)for(var W=Object.getOwnPropertyNames(T),C=0;C<W.length;C++){var H=W[C],M=Object.getOwnPropertyDescriptor(T,H);M&&M.enumerable||(j[H]=x(T[H],q-1),Object.defineProperty(j,H,{enumerable:!1}))}return j}return x(s,n)}m.clonePrototype=function(l){if(l===null)return null;var n=function(){};return n.prototype=l,new n};function p(s){return Object.prototype.toString.call(s)}m.__objToStr=p;function o(s){return typeof s=="object"&&p(s)==="[object Date]"}m.__isDate=o;function t(s){return typeof s=="object"&&p(s)==="[object Array]"}m.__isArray=t;function r(s){return typeof s=="object"&&p(s)==="[object RegExp]"}m.__isRegExp=r;function u(s){var l="";return s.global&&(l+="g"),s.ignoreCase&&(l+="i"),s.multiline&&(l+="m"),l}return m.__getRegExpFlags=u,m}();typeof v=="object"&&v.exports&&(v.exports=h)},function(v,c,h){Object.defineProperty(c,"__esModule",{value:!0});var E=function(){function j(b,w){var C=[],I=!0,k=!1,R=void 0;try{for(var M=b[Symbol.iterator](),W;!(I=(W=M.next()).done)&&(C.push(W.value),!(w&&C.length===w));I=!0);}catch(H){k=!0,R=H}finally{try{!I&&M.return&&M.return()}finally{if(k)throw R}}return C}return function(b,w){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return j(b,w);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),g=function(){function j(b,w){for(var C=0;C<w.length;C++){var I=w[C];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(b,I.key,I)}}return function(b,w,C){return w&&j(b.prototype,w),C&&j(b,C),b}}(),_=function j(b,w,C){b===null&&(b=Function.prototype);var I=Object.getOwnPropertyDescriptor(b,w);if(I===void 0){var k=Object.getPrototypeOf(b);return k===null?void 0:j(k,w,C)}else{if("value"in I)return I.value;var R=I.get;return R===void 0?void 0:R.call(C)}},y=h(0),m=i(y),p=h(8),o=i(p),t=h(4),r=i(t),u=h(16),s=i(u),l=h(13),n=i(l),a=h(25),f=i(a);function i(j){return j&&j.__esModule?j:{default:j}}function d(j,b){if(!(j instanceof b))throw new TypeError("Cannot call a class as a function")}function O(j,b){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:j}function x(j,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);j.prototype=Object.create(b&&b.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(j,b):j.__proto__=b)}function T(j){return j instanceof r.default||j instanceof t.BlockEmbed}var q=function(j){x(b,j);function b(w,C){d(this,b);var I=O(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,w));return I.emitter=C.emitter,Array.isArray(C.whitelist)&&(I.whitelist=C.whitelist.reduce(function(k,R){return k[R]=!0,k},{})),I.domNode.addEventListener("DOMNodeInserted",function(){}),I.optimize(),I.enable(),I}return g(b,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(C,I){var k=this.line(C),R=E(k,2),M=R[0],W=R[1],H=this.line(C+I),D=E(H,1),N=D[0];if(_(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"deleteAt",this).call(this,C,I),N!=null&&M!==N&&W>0){if(M instanceof t.BlockEmbed||N instanceof t.BlockEmbed){this.optimize();return}if(M instanceof n.default){var L=M.newlineIndex(M.length(),!0);if(L>-1&&(M=M.split(L+1),M===N)){this.optimize();return}}else if(N instanceof n.default){var B=N.newlineIndex(0);B>-1&&N.split(B+1)}var z=N.children.head instanceof s.default?null:N.children.head;M.moveChildren(N,z),M.remove()}this.optimize()}},{key:"enable",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",C)}},{key:"formatAt",value:function(C,I,k,R){this.whitelist!=null&&!this.whitelist[k]||(_(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"formatAt",this).call(this,C,I,k,R),this.optimize())}},{key:"insertAt",value:function(C,I,k){if(!(k!=null&&this.whitelist!=null&&!this.whitelist[I])){if(C>=this.length())if(k==null||m.default.query(I,m.default.Scope.BLOCK)==null){var R=m.default.create(this.statics.defaultChild);this.appendChild(R),k==null&&I.endsWith(`
`)&&(I=I.slice(0,-1)),R.insertAt(0,I,k)}else{var M=m.default.create(I,k);this.appendChild(M)}else _(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"insertAt",this).call(this,C,I,k);this.optimize()}}},{key:"insertBefore",value:function(C,I){if(C.statics.scope===m.default.Scope.INLINE_BLOT){var k=m.default.create(this.statics.defaultChild);k.appendChild(C),C=k}_(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"insertBefore",this).call(this,C,I)}},{key:"leaf",value:function(C){return this.path(C).pop()||[null,-1]}},{key:"line",value:function(C){return C===this.length()?this.line(C-1):this.descendant(T,C)}},{key:"lines",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,k=function R(M,W,H){var D=[],N=H;return M.children.forEachAt(W,H,function(L,B,z){T(L)?D.push(L):L instanceof m.default.Container&&(D=D.concat(R(L,B,N))),N-=z}),D};return k(this,C,I)}},{key:"optimize",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(_(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"optimize",this).call(this,C,I),C.length>0&&this.emitter.emit(o.default.events.SCROLL_OPTIMIZE,C,I))}},{key:"path",value:function(C){return _(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"path",this).call(this,C).slice(1)}},{key:"update",value:function(C){if(this.batch!==!0){var I=o.default.sources.USER;typeof C=="string"&&(I=C),Array.isArray(C)||(C=this.observer.takeRecords()),C.length>0&&this.emitter.emit(o.default.events.SCROLL_BEFORE_UPDATE,I,C),_(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"update",this).call(this,C.concat([])),C.length>0&&this.emitter.emit(o.default.events.SCROLL_UPDATE,I,C)}}}]),b}(m.default.Scroll);q.blotName="scroll",q.className="ql-editor",q.tagName="DIV",q.defaultChild="block",q.allowedChildren=[r.default,t.BlockEmbed,f.default],c.default=q},function(v,c,h){Object.defineProperty(c,"__esModule",{value:!0}),c.SHORTKEY=c.default=void 0;var E=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P},g=function(){function P(U,G){var K=[],J=!0,te=!1,ie=void 0;try{for(var oe=U[Symbol.iterator](),le;!(J=(le=oe.next()).done)&&(K.push(le.value),!(G&&K.length===G));J=!0);}catch(he){te=!0,ie=he}finally{try{!J&&oe.return&&oe.return()}finally{if(te)throw ie}}return K}return function(U,G){if(Array.isArray(U))return U;if(Symbol.iterator in Object(U))return P(U,G);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_=function(){function P(U,G){for(var K=0;K<G.length;K++){var J=G[K];J.enumerable=J.enumerable||!1,J.configurable=!0,"value"in J&&(J.writable=!0),Object.defineProperty(U,J.key,J)}}return function(U,G,K){return G&&P(U.prototype,G),K&&P(U,K),U}}(),y=h(21),m=j(y),p=h(11),o=j(p),t=h(3),r=j(t),u=h(2),s=j(u),l=h(20),n=j(l),a=h(0),f=j(a),i=h(5),d=j(i),O=h(10),x=j(O),T=h(9),q=j(T);function j(P){return P&&P.__esModule?P:{default:P}}function b(P,U,G){return U in P?Object.defineProperty(P,U,{value:G,enumerable:!0,configurable:!0,writable:!0}):P[U]=G,P}function w(P,U){if(!(P instanceof U))throw new TypeError("Cannot call a class as a function")}function C(P,U){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return U&&(typeof U=="object"||typeof U=="function")?U:P}function I(P,U){if(typeof U!="function"&&U!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof U);P.prototype=Object.create(U&&U.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),U&&(Object.setPrototypeOf?Object.setPrototypeOf(P,U):P.__proto__=U)}var k=(0,x.default)("quill:keyboard"),R=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",M=function(P){I(U,P),_(U,null,[{key:"match",value:function(K,J){return J=F(J),["altKey","ctrlKey","metaKey","shiftKey"].some(function(te){return!!J[te]!==K[te]&&J[te]!==null})?!1:J.key===(K.which||K.keyCode)}}]);function U(G,K){w(this,U);var J=C(this,(U.__proto__||Object.getPrototypeOf(U)).call(this,G,K));return J.bindings={},Object.keys(J.options.bindings).forEach(function(te){te==="list autofill"&&G.scroll.whitelist!=null&&!G.scroll.whitelist.list||J.options.bindings[te]&&J.addBinding(J.options.bindings[te])}),J.addBinding({key:U.keys.ENTER,shiftKey:null},L),J.addBinding({key:U.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(J.addBinding({key:U.keys.BACKSPACE},{collapsed:!0},H),J.addBinding({key:U.keys.DELETE},{collapsed:!0},D)):(J.addBinding({key:U.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},H),J.addBinding({key:U.keys.DELETE},{collapsed:!0,suffix:/^.?$/},D)),J.addBinding({key:U.keys.BACKSPACE},{collapsed:!1},N),J.addBinding({key:U.keys.DELETE},{collapsed:!1},N),J.addBinding({key:U.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},H),J.listen(),J}return _(U,[{key:"addBinding",value:function(K){var J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ie=F(K);if(ie==null||ie.key==null)return k.warn("Attempted to add invalid keyboard binding",ie);typeof J=="function"&&(J={handler:J}),typeof te=="function"&&(te={handler:te}),ie=(0,r.default)(ie,J,te),this.bindings[ie.key]=this.bindings[ie.key]||[],this.bindings[ie.key].push(ie)}},{key:"listen",value:function(){var K=this;this.quill.root.addEventListener("keydown",function(J){if(!J.defaultPrevented){var te=J.which||J.keyCode,ie=(K.bindings[te]||[]).filter(function(me){return U.match(J,me)});if(ie.length!==0){var oe=K.quill.getSelection();if(!(oe==null||!K.quill.hasFocus())){var le=K.quill.getLine(oe.index),he=g(le,2),Oe=he[0],ge=he[1],Z=K.quill.getLeaf(oe.index),Y=g(Z,2),ee=Y[0],re=Y[1],X=oe.length===0?[ee,re]:K.quill.getLeaf(oe.index+oe.length),se=g(X,2),ue=se[0],ce=se[1],we=ee instanceof f.default.Text?ee.value().slice(0,re):"",Se=ue instanceof f.default.Text?ue.value().slice(ce):"",pe={collapsed:oe.length===0,empty:oe.length===0&&Oe.length()<=1,format:K.quill.getFormat(oe),offset:ge,prefix:we,suffix:Se},Ue=ie.some(function(me){if(me.collapsed!=null&&me.collapsed!==pe.collapsed||me.empty!=null&&me.empty!==pe.empty||me.offset!=null&&me.offset!==pe.offset)return!1;if(Array.isArray(me.format)){if(me.format.every(function(je){return pe.format[je]==null}))return!1}else if(E(me.format)==="object"&&!Object.keys(me.format).every(function(je){return me.format[je]===!0?pe.format[je]!=null:me.format[je]===!1?pe.format[je]==null:(0,o.default)(me.format[je],pe.format[je])}))return!1;return me.prefix!=null&&!me.prefix.test(pe.prefix)||me.suffix!=null&&!me.suffix.test(pe.suffix)?!1:me.handler.call(K,oe,pe)!==!0});Ue&&J.preventDefault()}}}})}}]),U}(q.default);M.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},M.DEFAULTS={bindings:{bold:z("bold"),italic:z("italic"),underline:z("underline"),indent:{key:M.keys.TAB,format:["blockquote","indent","list"],handler:function(U,G){if(G.collapsed&&G.offset!==0)return!0;this.quill.format("indent","+1",d.default.sources.USER)}},outdent:{key:M.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(U,G){if(G.collapsed&&G.offset!==0)return!0;this.quill.format("indent","-1",d.default.sources.USER)}},"outdent backspace":{key:M.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(U,G){G.format.indent!=null?this.quill.format("indent","-1",d.default.sources.USER):G.format.list!=null&&this.quill.format("list",!1,d.default.sources.USER)}},"indent code-block":B(!0),"outdent code-block":B(!1),"remove tab":{key:M.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(U){this.quill.deleteText(U.index-1,1,d.default.sources.USER)}},tab:{key:M.keys.TAB,handler:function(U){this.quill.history.cutoff();var G=new s.default().retain(U.index).delete(U.length).insert("	");this.quill.updateContents(G,d.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(U.index+1,d.default.sources.SILENT)}},"list empty enter":{key:M.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(U,G){this.quill.format("list",!1,d.default.sources.USER),G.format.indent&&this.quill.format("indent",!1,d.default.sources.USER)}},"checklist enter":{key:M.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(U){var G=this.quill.getLine(U.index),K=g(G,2),J=K[0],te=K[1],ie=(0,r.default)({},J.formats(),{list:"checked"}),oe=new s.default().retain(U.index).insert(`
`,ie).retain(J.length()-te-1).retain(1,{list:"unchecked"});this.quill.updateContents(oe,d.default.sources.USER),this.quill.setSelection(U.index+1,d.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:M.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(U,G){var K=this.quill.getLine(U.index),J=g(K,2),te=J[0],ie=J[1],oe=new s.default().retain(U.index).insert(`
`,G.format).retain(te.length()-ie-1).retain(1,{header:null});this.quill.updateContents(oe,d.default.sources.USER),this.quill.setSelection(U.index+1,d.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(U,G){var K=G.prefix.length,J=this.quill.getLine(U.index),te=g(J,2),ie=te[0],oe=te[1];if(oe>K)return!0;var le=void 0;switch(G.prefix.trim()){case"[]":case"[ ]":le="unchecked";break;case"[x]":le="checked";break;case"-":case"*":le="bullet";break;default:le="ordered"}this.quill.insertText(U.index," ",d.default.sources.USER),this.quill.history.cutoff();var he=new s.default().retain(U.index-oe).delete(K+1).retain(ie.length()-2-oe).retain(1,{list:le});this.quill.updateContents(he,d.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(U.index-K,d.default.sources.SILENT)}},"code exit":{key:M.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(U){var G=this.quill.getLine(U.index),K=g(G,2),J=K[0],te=K[1],ie=new s.default().retain(U.index+J.length()-te-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(ie,d.default.sources.USER)}},"embed left":W(M.keys.LEFT,!1),"embed left shift":W(M.keys.LEFT,!0),"embed right":W(M.keys.RIGHT,!1),"embed right shift":W(M.keys.RIGHT,!0)}};function W(P,U){var G,K=P===M.keys.LEFT?"prefix":"suffix";return G={key:P,shiftKey:U,altKey:null},b(G,K,/^$/),b(G,"handler",function(te){var ie=te.index;P===M.keys.RIGHT&&(ie+=te.length+1);var oe=this.quill.getLeaf(ie),le=g(oe,1),he=le[0];return he instanceof f.default.Embed?(P===M.keys.LEFT?U?this.quill.setSelection(te.index-1,te.length+1,d.default.sources.USER):this.quill.setSelection(te.index-1,d.default.sources.USER):U?this.quill.setSelection(te.index,te.length+1,d.default.sources.USER):this.quill.setSelection(te.index+te.length+1,d.default.sources.USER),!1):!0}),G}function H(P,U){if(!(P.index===0||this.quill.getLength()<=1)){var G=this.quill.getLine(P.index),K=g(G,1),J=K[0],te={};if(U.offset===0){var ie=this.quill.getLine(P.index-1),oe=g(ie,1),le=oe[0];if(le!=null&&le.length()>1){var he=J.formats(),Oe=this.quill.getFormat(P.index-1,1);te=n.default.attributes.diff(he,Oe)||{}}}var ge=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(U.prefix)?2:1;this.quill.deleteText(P.index-ge,ge,d.default.sources.USER),Object.keys(te).length>0&&this.quill.formatLine(P.index-ge,ge,te,d.default.sources.USER),this.quill.focus()}}function D(P,U){var G=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(U.suffix)?2:1;if(!(P.index>=this.quill.getLength()-G)){var K={},J=0,te=this.quill.getLine(P.index),ie=g(te,1),oe=ie[0];if(U.offset>=oe.length()-1){var le=this.quill.getLine(P.index+1),he=g(le,1),Oe=he[0];if(Oe){var ge=oe.formats(),Z=this.quill.getFormat(P.index,1);K=n.default.attributes.diff(ge,Z)||{},J=Oe.length()}}this.quill.deleteText(P.index,G,d.default.sources.USER),Object.keys(K).length>0&&this.quill.formatLine(P.index+J-1,G,K,d.default.sources.USER)}}function N(P){var U=this.quill.getLines(P),G={};if(U.length>1){var K=U[0].formats(),J=U[U.length-1].formats();G=n.default.attributes.diff(J,K)||{}}this.quill.deleteText(P,d.default.sources.USER),Object.keys(G).length>0&&this.quill.formatLine(P.index,1,G,d.default.sources.USER),this.quill.setSelection(P.index,d.default.sources.SILENT),this.quill.focus()}function L(P,U){var G=this;P.length>0&&this.quill.scroll.deleteAt(P.index,P.length);var K=Object.keys(U.format).reduce(function(J,te){return f.default.query(te,f.default.Scope.BLOCK)&&!Array.isArray(U.format[te])&&(J[te]=U.format[te]),J},{});this.quill.insertText(P.index,`
`,K,d.default.sources.USER),this.quill.setSelection(P.index+1,d.default.sources.SILENT),this.quill.focus(),Object.keys(U.format).forEach(function(J){K[J]==null&&(Array.isArray(U.format[J])||J!=="link"&&G.quill.format(J,U.format[J],d.default.sources.USER))})}function B(P){return{key:M.keys.TAB,shiftKey:!P,format:{"code-block":!0},handler:function(G){var K=f.default.query("code-block"),J=G.index,te=G.length,ie=this.quill.scroll.descendant(K,J),oe=g(ie,2),le=oe[0],he=oe[1];if(le!=null){var Oe=this.quill.getIndex(le),ge=le.newlineIndex(he,!0)+1,Z=le.newlineIndex(Oe+he+te),Y=le.domNode.textContent.slice(ge,Z).split(`
`);he=0,Y.forEach(function(ee,re){P?(le.insertAt(ge+he,K.TAB),he+=K.TAB.length,re===0?J+=K.TAB.length:te+=K.TAB.length):ee.startsWith(K.TAB)&&(le.deleteAt(ge+he,K.TAB.length),he-=K.TAB.length,re===0?J-=K.TAB.length:te-=K.TAB.length),he+=ee.length+1}),this.quill.update(d.default.sources.USER),this.quill.setSelection(J,te,d.default.sources.SILENT)}}}}function z(P){return{key:P[0].toUpperCase(),shortKey:!0,handler:function(G,K){this.quill.format(P,!K.format[P],d.default.sources.USER)}}}function F(P){if(typeof P=="string"||typeof P=="number")return F({key:P});if((typeof P=="undefined"?"undefined":E(P))==="object"&&(P=(0,m.default)(P,!1)),typeof P.key=="string")if(M.keys[P.key.toUpperCase()]!=null)P.key=M.keys[P.key.toUpperCase()];else if(P.key.length===1)P.key=P.key.toUpperCase().charCodeAt(0);else return null;return P.shortKey&&(P[R]=P.shortKey,delete P.shortKey),P}c.default=M,c.SHORTKEY=R},function(v,c,h){Object.defineProperty(c,"__esModule",{value:!0});var E=function(){function n(a,f){var i=[],d=!0,O=!1,x=void 0;try{for(var T=a[Symbol.iterator](),q;!(d=(q=T.next()).done)&&(i.push(q.value),!(f&&i.length===f));d=!0);}catch(j){O=!0,x=j}finally{try{!d&&T.return&&T.return()}finally{if(O)throw x}}return i}return function(a,f){if(Array.isArray(a))return a;if(Symbol.iterator in Object(a))return n(a,f);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),g=function n(a,f,i){a===null&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,f);if(d===void 0){var O=Object.getPrototypeOf(a);return O===null?void 0:n(O,f,i)}else{if("value"in d)return d.value;var x=d.get;return x===void 0?void 0:x.call(i)}},_=function(){function n(a,f){for(var i=0;i<f.length;i++){var d=f[i];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(a,f,i){return f&&n(a.prototype,f),i&&n(a,i),a}}(),y=h(0),m=t(y),p=h(7),o=t(p);function t(n){return n&&n.__esModule?n:{default:n}}function r(n,a){if(!(n instanceof a))throw new TypeError("Cannot call a class as a function")}function u(n,a){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a&&(typeof a=="object"||typeof a=="function")?a:n}function s(n,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);n.prototype=Object.create(a&&a.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(n,a):n.__proto__=a)}var l=function(n){s(a,n),_(a,null,[{key:"value",value:function(){}}]);function a(f,i){r(this,a);var d=u(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,f));return d.selection=i,d.textNode=document.createTextNode(a.CONTENTS),d.domNode.appendChild(d.textNode),d._length=0,d}return _(a,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(i,d){if(this._length!==0)return g(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"format",this).call(this,i,d);for(var O=this,x=0;O!=null&&O.statics.scope!==m.default.Scope.BLOCK_BLOT;)x+=O.offset(O.parent),O=O.parent;O!=null&&(this._length=a.CONTENTS.length,O.optimize(),O.formatAt(x,a.CONTENTS.length,i,d),this._length=0)}},{key:"index",value:function(i,d){return i===this.textNode?0:g(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"index",this).call(this,i,d)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){g(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var i=this.textNode,d=this.selection.getNativeRange(),O=void 0,x=void 0,T=void 0;if(d!=null&&d.start.node===i&&d.end.node===i){var q=[i,d.start.offset,d.end.offset];O=q[0],x=q[1],T=q[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==a.CONTENTS){var j=this.textNode.data.split(a.CONTENTS).join("");this.next instanceof o.default?(O=this.next.domNode,this.next.insertAt(0,j),this.textNode.data=a.CONTENTS):(this.textNode.data=j,this.parent.insertBefore(m.default.create(this.textNode),this),this.textNode=document.createTextNode(a.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),x!=null){var b=[x,T].map(function(C){return Math.max(0,Math.min(O.data.length,C-1))}),w=E(b,2);return x=w[0],T=w[1],{startNode:O,startOffset:x,endNode:O,endOffset:T}}}}},{key:"update",value:function(i,d){var O=this;if(i.some(function(T){return T.type==="characterData"&&T.target===O.textNode})){var x=this.restore();x&&(d.range=x)}}},{key:"value",value:function(){return""}}]),a}(m.default.Embed);l.blotName="cursor",l.className="ql-cursor",l.tagName="span",l.CONTENTS="\uFEFF",c.default=l},function(v,c,h){Object.defineProperty(c,"__esModule",{value:!0});var E=h(0),g=m(E),_=h(4),y=m(_);function m(u){return u&&u.__esModule?u:{default:u}}function p(u,s){if(!(u instanceof s))throw new TypeError("Cannot call a class as a function")}function o(u,s){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s&&(typeof s=="object"||typeof s=="function")?s:u}function t(u,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof s);u.prototype=Object.create(s&&s.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),s&&(Object.setPrototypeOf?Object.setPrototypeOf(u,s):u.__proto__=s)}var r=function(u){t(s,u);function s(){return p(this,s),o(this,(s.__proto__||Object.getPrototypeOf(s)).apply(this,arguments))}return s}(g.default.Container);r.allowedChildren=[y.default,_.BlockEmbed,r],c.default=r},function(v,c,h){Object.defineProperty(c,"__esModule",{value:!0}),c.ColorStyle=c.ColorClass=c.ColorAttributor=void 0;var E=function(){function l(n,a){for(var f=0;f<a.length;f++){var i=a[f];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(n,a,f){return a&&l(n.prototype,a),f&&l(n,f),n}}(),g=function l(n,a,f){n===null&&(n=Function.prototype);var i=Object.getOwnPropertyDescriptor(n,a);if(i===void 0){var d=Object.getPrototypeOf(n);return d===null?void 0:l(d,a,f)}else{if("value"in i)return i.value;var O=i.get;return O===void 0?void 0:O.call(f)}},_=h(0),y=m(_);function m(l){return l&&l.__esModule?l:{default:l}}function p(l,n){if(!(l instanceof n))throw new TypeError("Cannot call a class as a function")}function o(l,n){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:l}function t(l,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);l.prototype=Object.create(n&&n.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(l,n):l.__proto__=n)}var r=function(l){t(n,l);function n(){return p(this,n),o(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return E(n,[{key:"value",value:function(f){var i=g(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"value",this).call(this,f);return i.startsWith("rgb(")?(i=i.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+i.split(",").map(function(d){return("00"+parseInt(d).toString(16)).slice(-2)}).join("")):i}}]),n}(y.default.Attributor.Style),u=new y.default.Attributor.Class("color","ql-color",{scope:y.default.Scope.INLINE}),s=new r("color","color",{scope:y.default.Scope.INLINE});c.ColorAttributor=r,c.ColorClass=u,c.ColorStyle=s},function(v,c,h){Object.defineProperty(c,"__esModule",{value:!0}),c.sanitize=c.default=void 0;var E=function(){function s(l,n){for(var a=0;a<n.length;a++){var f=n[a];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(l,f.key,f)}}return function(l,n,a){return n&&s(l.prototype,n),a&&s(l,a),l}}(),g=function s(l,n,a){l===null&&(l=Function.prototype);var f=Object.getOwnPropertyDescriptor(l,n);if(f===void 0){var i=Object.getPrototypeOf(l);return i===null?void 0:s(i,n,a)}else{if("value"in f)return f.value;var d=f.get;return d===void 0?void 0:d.call(a)}},_=h(6),y=m(_);function m(s){return s&&s.__esModule?s:{default:s}}function p(s,l){if(!(s instanceof l))throw new TypeError("Cannot call a class as a function")}function o(s,l){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l&&(typeof l=="object"||typeof l=="function")?l:s}function t(s,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof l);s.prototype=Object.create(l&&l.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(s,l):s.__proto__=l)}var r=function(s){t(l,s);function l(){return p(this,l),o(this,(l.__proto__||Object.getPrototypeOf(l)).apply(this,arguments))}return E(l,[{key:"format",value:function(a,f){if(a!==this.statics.blotName||!f)return g(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"format",this).call(this,a,f);f=this.constructor.sanitize(f),this.domNode.setAttribute("href",f)}}],[{key:"create",value:function(a){var f=g(l.__proto__||Object.getPrototypeOf(l),"create",this).call(this,a);return a=this.sanitize(a),f.setAttribute("href",a),f.setAttribute("rel","noopener noreferrer"),f.setAttribute("target","_blank"),f}},{key:"formats",value:function(a){return a.getAttribute("href")}},{key:"sanitize",value:function(a){return u(a,this.PROTOCOL_WHITELIST)?a:this.SANITIZED_URL}}]),l}(y.default);r.blotName="link",r.tagName="A",r.SANITIZED_URL="about:blank",r.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function u(s,l){var n=document.createElement("a");n.href=s;var a=n.href.slice(0,n.href.indexOf(":"));return l.indexOf(a)>-1}c.default=r,c.sanitize=u},function(v,c,h){Object.defineProperty(c,"__esModule",{value:!0});var E=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},g=function(){function l(n,a){for(var f=0;f<a.length;f++){var i=a[f];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(n,a,f){return a&&l(n.prototype,a),f&&l(n,f),n}}(),_=h(23),y=o(_),m=h(107),p=o(m);function o(l){return l&&l.__esModule?l:{default:l}}function t(l,n){if(!(l instanceof n))throw new TypeError("Cannot call a class as a function")}var r=0;function u(l,n){l.setAttribute(n,l.getAttribute(n)!=="true")}var s=function(){function l(n){var a=this;t(this,l),this.select=n,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){a.togglePicker()}),this.label.addEventListener("keydown",function(f){switch(f.keyCode){case y.default.keys.ENTER:a.togglePicker();break;case y.default.keys.ESCAPE:a.escape(),f.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return g(l,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),u(this.label,"aria-expanded"),u(this.options,"aria-hidden")}},{key:"buildItem",value:function(a){var f=this,i=document.createElement("span");return i.tabIndex="0",i.setAttribute("role","button"),i.classList.add("ql-picker-item"),a.hasAttribute("value")&&i.setAttribute("data-value",a.getAttribute("value")),a.textContent&&i.setAttribute("data-label",a.textContent),i.addEventListener("click",function(){f.selectItem(i,!0)}),i.addEventListener("keydown",function(d){switch(d.keyCode){case y.default.keys.ENTER:f.selectItem(i,!0),d.preventDefault();break;case y.default.keys.ESCAPE:f.escape(),d.preventDefault();break}}),i}},{key:"buildLabel",value:function(){var a=document.createElement("span");return a.classList.add("ql-picker-label"),a.innerHTML=p.default,a.tabIndex="0",a.setAttribute("role","button"),a.setAttribute("aria-expanded","false"),this.container.appendChild(a),a}},{key:"buildOptions",value:function(){var a=this,f=document.createElement("span");f.classList.add("ql-picker-options"),f.setAttribute("aria-hidden","true"),f.tabIndex="-1",f.id="ql-picker-options-"+r,r+=1,this.label.setAttribute("aria-controls",f.id),this.options=f,[].slice.call(this.select.options).forEach(function(i){var d=a.buildItem(i);f.appendChild(d),i.selected===!0&&a.selectItem(d)}),this.container.appendChild(f)}},{key:"buildPicker",value:function(){var a=this;[].slice.call(this.select.attributes).forEach(function(f){a.container.setAttribute(f.name,f.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var a=this;this.close(),setTimeout(function(){return a.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(a){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=this.container.querySelector(".ql-selected");if(a!==i&&(i!=null&&i.classList.remove("ql-selected"),a!=null&&(a.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(a.parentNode.children,a),a.hasAttribute("data-value")?this.label.setAttribute("data-value",a.getAttribute("data-value")):this.label.removeAttribute("data-value"),a.hasAttribute("data-label")?this.label.setAttribute("data-label",a.getAttribute("data-label")):this.label.removeAttribute("data-label"),f))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event=="undefined"?"undefined":E(Event))==="object"){var d=document.createEvent("Event");d.initEvent("change",!0,!0),this.select.dispatchEvent(d)}this.close()}}},{key:"update",value:function(){var a=void 0;if(this.select.selectedIndex>-1){var f=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];a=this.select.options[this.select.selectedIndex],this.selectItem(f)}else this.selectItem(null);var i=a!=null&&a!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",i)}}]),l}();c.default=s},function(v,c,h){Object.defineProperty(c,"__esModule",{value:!0});var E=h(0),g=k(E),_=h(5),y=k(_),m=h(4),p=k(m),o=h(16),t=k(o),r=h(25),u=k(r),s=h(24),l=k(s),n=h(35),a=k(n),f=h(6),i=k(f),d=h(22),O=k(d),x=h(7),T=k(x),q=h(55),j=k(q),b=h(42),w=k(b),C=h(23),I=k(C);function k(R){return R&&R.__esModule?R:{default:R}}y.default.register({"blots/block":p.default,"blots/block/embed":m.BlockEmbed,"blots/break":t.default,"blots/container":u.default,"blots/cursor":l.default,"blots/embed":a.default,"blots/inline":i.default,"blots/scroll":O.default,"blots/text":T.default,"modules/clipboard":j.default,"modules/history":w.default,"modules/keyboard":I.default}),g.default.register(p.default,t.default,l.default,i.default,O.default,T.default),c.default=y.default},function(v,c,h){Object.defineProperty(c,"__esModule",{value:!0});var E=h(1),g=function(){function _(y){this.domNode=y,this.domNode[E.DATA_KEY]={blot:this}}return Object.defineProperty(_.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),_.create=function(y){if(this.tagName==null)throw new E.ParchmentError("Blot definition missing tagName");var m;return Array.isArray(this.tagName)?(typeof y=="string"&&(y=y.toUpperCase(),parseInt(y).toString()===y&&(y=parseInt(y))),typeof y=="number"?m=document.createElement(this.tagName[y-1]):this.tagName.indexOf(y)>-1?m=document.createElement(y):m=document.createElement(this.tagName[0])):m=document.createElement(this.tagName),this.className&&m.classList.add(this.className),m},_.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},_.prototype.clone=function(){var y=this.domNode.cloneNode(!1);return E.create(y)},_.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[E.DATA_KEY]},_.prototype.deleteAt=function(y,m){var p=this.isolate(y,m);p.remove()},_.prototype.formatAt=function(y,m,p,o){var t=this.isolate(y,m);if(E.query(p,E.Scope.BLOT)!=null&&o)t.wrap(p,o);else if(E.query(p,E.Scope.ATTRIBUTE)!=null){var r=E.create(this.statics.scope);t.wrap(r),r.format(p,o)}},_.prototype.insertAt=function(y,m,p){var o=p==null?E.create("text",m):E.create(m,p),t=this.split(y);this.parent.insertBefore(o,t)},_.prototype.insertInto=function(y,m){m===void 0&&(m=null),this.parent!=null&&this.parent.children.remove(this);var p=null;y.children.insertBefore(this,m),m!=null&&(p=m.domNode),(this.domNode.parentNode!=y.domNode||this.domNode.nextSibling!=p)&&y.domNode.insertBefore(this.domNode,p),this.parent=y,this.attach()},_.prototype.isolate=function(y,m){var p=this.split(y);return p.split(m),p},_.prototype.length=function(){return 1},_.prototype.offset=function(y){return y===void 0&&(y=this.parent),this.parent==null||this==y?0:this.parent.children.offset(this)+this.parent.offset(y)},_.prototype.optimize=function(y){this.domNode[E.DATA_KEY]!=null&&delete this.domNode[E.DATA_KEY].mutations},_.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},_.prototype.replace=function(y){y.parent!=null&&(y.parent.insertBefore(this,y.next),y.remove())},_.prototype.replaceWith=function(y,m){var p=typeof y=="string"?E.create(y,m):y;return p.replace(this),p},_.prototype.split=function(y,m){return y===0?this:this.next},_.prototype.update=function(y,m){},_.prototype.wrap=function(y,m){var p=typeof y=="string"?E.create(y,m):y;return this.parent!=null&&this.parent.insertBefore(p,this.next),p.appendChild(this),p},_.blotName="abstract",_}();c.default=g},function(v,c,h){Object.defineProperty(c,"__esModule",{value:!0});var E=h(12),g=h(32),_=h(33),y=h(1),m=function(){function p(o){this.attributes={},this.domNode=o,this.build()}return p.prototype.attribute=function(o,t){t?o.add(this.domNode,t)&&(o.value(this.domNode)!=null?this.attributes[o.attrName]=o:delete this.attributes[o.attrName]):(o.remove(this.domNode),delete this.attributes[o.attrName])},p.prototype.build=function(){var o=this;this.attributes={};var t=E.default.keys(this.domNode),r=g.default.keys(this.domNode),u=_.default.keys(this.domNode);t.concat(r).concat(u).forEach(function(s){var l=y.query(s,y.Scope.ATTRIBUTE);l instanceof E.default&&(o.attributes[l.attrName]=l)})},p.prototype.copy=function(o){var t=this;Object.keys(this.attributes).forEach(function(r){var u=t.attributes[r].value(t.domNode);o.format(r,u)})},p.prototype.move=function(o){var t=this;this.copy(o),Object.keys(this.attributes).forEach(function(r){t.attributes[r].remove(t.domNode)}),this.attributes={}},p.prototype.values=function(){var o=this;return Object.keys(this.attributes).reduce(function(t,r){return t[r]=o.attributes[r].value(o.domNode),t},{})},p}();c.default=m},function(v,c,h){var E=this&&this.__extends||function(){var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,o){p.__proto__=o}||function(p,o){for(var t in o)o.hasOwnProperty(t)&&(p[t]=o[t])};return function(p,o){m(p,o);function t(){this.constructor=p}p.prototype=o===null?Object.create(o):(t.prototype=o.prototype,new t)}}();Object.defineProperty(c,"__esModule",{value:!0});var g=h(12);function _(m,p){var o=m.getAttribute("class")||"";return o.split(/\s+/).filter(function(t){return t.indexOf(p+"-")===0})}var y=function(m){E(p,m);function p(){return m!==null&&m.apply(this,arguments)||this}return p.keys=function(o){return(o.getAttribute("class")||"").split(/\s+/).map(function(t){return t.split("-").slice(0,-1).join("-")})},p.prototype.add=function(o,t){return this.canAdd(o,t)?(this.remove(o),o.classList.add(this.keyName+"-"+t),!0):!1},p.prototype.remove=function(o){var t=_(o,this.keyName);t.forEach(function(r){o.classList.remove(r)}),o.classList.length===0&&o.removeAttribute("class")},p.prototype.value=function(o){var t=_(o,this.keyName)[0]||"",r=t.slice(this.keyName.length+1);return this.canAdd(o,r)?r:""},p}(g.default);c.default=y},function(v,c,h){var E=this&&this.__extends||function(){var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,o){p.__proto__=o}||function(p,o){for(var t in o)o.hasOwnProperty(t)&&(p[t]=o[t])};return function(p,o){m(p,o);function t(){this.constructor=p}p.prototype=o===null?Object.create(o):(t.prototype=o.prototype,new t)}}();Object.defineProperty(c,"__esModule",{value:!0});var g=h(12);function _(m){var p=m.split("-"),o=p.slice(1).map(function(t){return t[0].toUpperCase()+t.slice(1)}).join("");return p[0]+o}var y=function(m){E(p,m);function p(){return m!==null&&m.apply(this,arguments)||this}return p.keys=function(o){return(o.getAttribute("style")||"").split(";").map(function(t){var r=t.split(":");return r[0].trim()})},p.prototype.add=function(o,t){return this.canAdd(o,t)?(o.style[_(this.keyName)]=t,!0):!1},p.prototype.remove=function(o){o.style[_(this.keyName)]="",o.getAttribute("style")||o.removeAttribute("style")},p.prototype.value=function(o){var t=o.style[_(this.keyName)];return this.canAdd(o,t)?t:""},p}(g.default);c.default=y},function(v,c,h){Object.defineProperty(c,"__esModule",{value:!0});var E=function(){function y(m,p){for(var o=0;o<p.length;o++){var t=p[o];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(m,t.key,t)}}return function(m,p,o){return p&&y(m.prototype,p),o&&y(m,o),m}}();function g(y,m){if(!(y instanceof m))throw new TypeError("Cannot call a class as a function")}var _=function(){function y(m,p){g(this,y),this.quill=m,this.options=p,this.modules={}}return E(y,[{key:"init",value:function(){var p=this;Object.keys(this.options.modules).forEach(function(o){p.modules[o]==null&&p.addModule(o)})}},{key:"addModule",value:function(p){var o=this.quill.constructor.import("modules/"+p);return this.modules[p]=new o(this.quill,this.options.modules[p]||{}),this.modules[p]}}]),y}();_.DEFAULTS={modules:{}},_.themes={default:_},c.default=_},function(v,c,h){Object.defineProperty(c,"__esModule",{value:!0});var E=function(){function n(a,f){for(var i=0;i<f.length;i++){var d=f[i];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(a,f,i){return f&&n(a.prototype,f),i&&n(a,i),a}}(),g=function n(a,f,i){a===null&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,f);if(d===void 0){var O=Object.getPrototypeOf(a);return O===null?void 0:n(O,f,i)}else{if("value"in d)return d.value;var x=d.get;return x===void 0?void 0:x.call(i)}},_=h(0),y=o(_),m=h(7),p=o(m);function o(n){return n&&n.__esModule?n:{default:n}}function t(n,a){if(!(n instanceof a))throw new TypeError("Cannot call a class as a function")}function r(n,a){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a&&(typeof a=="object"||typeof a=="function")?a:n}function u(n,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);n.prototype=Object.create(a&&a.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(n,a):n.__proto__=a)}var s="\uFEFF",l=function(n){u(a,n);function a(f){t(this,a);var i=r(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,f));return i.contentNode=document.createElement("span"),i.contentNode.setAttribute("contenteditable",!1),[].slice.call(i.domNode.childNodes).forEach(function(d){i.contentNode.appendChild(d)}),i.leftGuard=document.createTextNode(s),i.rightGuard=document.createTextNode(s),i.domNode.appendChild(i.leftGuard),i.domNode.appendChild(i.contentNode),i.domNode.appendChild(i.rightGuard),i}return E(a,[{key:"index",value:function(i,d){return i===this.leftGuard?0:i===this.rightGuard?1:g(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"index",this).call(this,i,d)}},{key:"restore",value:function(i){var d=void 0,O=void 0,x=i.data.split(s).join("");if(i===this.leftGuard)if(this.prev instanceof p.default){var T=this.prev.length();this.prev.insertAt(T,x),d={startNode:this.prev.domNode,startOffset:T+x.length}}else O=document.createTextNode(x),this.parent.insertBefore(y.default.create(O),this),d={startNode:O,startOffset:x.length};else i===this.rightGuard&&(this.next instanceof p.default?(this.next.insertAt(0,x),d={startNode:this.next.domNode,startOffset:x.length}):(O=document.createTextNode(x),this.parent.insertBefore(y.default.create(O),this.next),d={startNode:O,startOffset:x.length}));return i.data=s,d}},{key:"update",value:function(i,d){var O=this;i.forEach(function(x){if(x.type==="characterData"&&(x.target===O.leftGuard||x.target===O.rightGuard)){var T=O.restore(x.target);T&&(d.range=T)}})}}]),a}(y.default.Embed);c.default=l},function(v,c,h){Object.defineProperty(c,"__esModule",{value:!0}),c.AlignStyle=c.AlignClass=c.AlignAttribute=void 0;var E=h(0),g=_(E);function _(t){return t&&t.__esModule?t:{default:t}}var y={scope:g.default.Scope.BLOCK,whitelist:["right","center","justify"]},m=new g.default.Attributor.Attribute("align","align",y),p=new g.default.Attributor.Class("align","ql-align",y),o=new g.default.Attributor.Style("align","text-align",y);c.AlignAttribute=m,c.AlignClass=p,c.AlignStyle=o},function(v,c,h){Object.defineProperty(c,"__esModule",{value:!0}),c.BackgroundStyle=c.BackgroundClass=void 0;var E=h(0),g=y(E),_=h(26);function y(o){return o&&o.__esModule?o:{default:o}}var m=new g.default.Attributor.Class("background","ql-bg",{scope:g.default.Scope.INLINE}),p=new _.ColorAttributor("background","background-color",{scope:g.default.Scope.INLINE});c.BackgroundClass=m,c.BackgroundStyle=p},function(v,c,h){Object.defineProperty(c,"__esModule",{value:!0}),c.DirectionStyle=c.DirectionClass=c.DirectionAttribute=void 0;var E=h(0),g=_(E);function _(t){return t&&t.__esModule?t:{default:t}}var y={scope:g.default.Scope.BLOCK,whitelist:["rtl"]},m=new g.default.Attributor.Attribute("direction","dir",y),p=new g.default.Attributor.Class("direction","ql-direction",y),o=new g.default.Attributor.Style("direction","direction",y);c.DirectionAttribute=m,c.DirectionClass=p,c.DirectionStyle=o},function(v,c,h){Object.defineProperty(c,"__esModule",{value:!0}),c.FontClass=c.FontStyle=void 0;var E=function(){function n(a,f){for(var i=0;i<f.length;i++){var d=f[i];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(a,f,i){return f&&n(a.prototype,f),i&&n(a,i),a}}(),g=function n(a,f,i){a===null&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,f);if(d===void 0){var O=Object.getPrototypeOf(a);return O===null?void 0:n(O,f,i)}else{if("value"in d)return d.value;var x=d.get;return x===void 0?void 0:x.call(i)}},_=h(0),y=m(_);function m(n){return n&&n.__esModule?n:{default:n}}function p(n,a){if(!(n instanceof a))throw new TypeError("Cannot call a class as a function")}function o(n,a){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a&&(typeof a=="object"||typeof a=="function")?a:n}function t(n,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);n.prototype=Object.create(a&&a.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(n,a):n.__proto__=a)}var r={scope:y.default.Scope.INLINE,whitelist:["serif","monospace"]},u=new y.default.Attributor.Class("font","ql-font",r),s=function(n){t(a,n);function a(){return p(this,a),o(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return E(a,[{key:"value",value:function(i){return g(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"value",this).call(this,i).replace(/["']/g,"")}}]),a}(y.default.Attributor.Style),l=new s("font","font-family",r);c.FontStyle=l,c.FontClass=u},function(v,c,h){Object.defineProperty(c,"__esModule",{value:!0}),c.SizeStyle=c.SizeClass=void 0;var E=h(0),g=_(E);function _(p){return p&&p.__esModule?p:{default:p}}var y=new g.default.Attributor.Class("size","ql-size",{scope:g.default.Scope.INLINE,whitelist:["small","large","huge"]}),m=new g.default.Attributor.Style("size","font-size",{scope:g.default.Scope.INLINE,whitelist:["10px","18px","32px"]});c.SizeClass=y,c.SizeStyle=m},function(v,c,h){v.exports={align:{"":h(76),center:h(77),right:h(78),justify:h(79)},background:h(80),blockquote:h(81),bold:h(82),clean:h(83),code:h(58),"code-block":h(58),color:h(84),direction:{"":h(85),rtl:h(86)},float:{center:h(87),full:h(88),left:h(89),right:h(90)},formula:h(91),header:{1:h(92),2:h(93)},italic:h(94),image:h(95),indent:{"+1":h(96),"-1":h(97)},link:h(98),list:{ordered:h(99),bullet:h(100),check:h(101)},script:{sub:h(102),super:h(103)},strike:h(104),underline:h(105),video:h(106)}},function(v,c,h){Object.defineProperty(c,"__esModule",{value:!0}),c.getLastChangeIndex=c.default=void 0;var E=function(){function f(i,d){for(var O=0;O<d.length;O++){var x=d[O];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(i,x.key,x)}}return function(i,d,O){return d&&f(i.prototype,d),O&&f(i,O),i}}(),g=h(0),_=t(g),y=h(5),m=t(y),p=h(9),o=t(p);function t(f){return f&&f.__esModule?f:{default:f}}function r(f,i){if(!(f instanceof i))throw new TypeError("Cannot call a class as a function")}function u(f,i){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i&&(typeof i=="object"||typeof i=="function")?i:f}function s(f,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof i);f.prototype=Object.create(i&&i.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(f,i):f.__proto__=i)}var l=function(f){s(i,f);function i(d,O){r(this,i);var x=u(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,d,O));return x.lastRecorded=0,x.ignoreChange=!1,x.clear(),x.quill.on(m.default.events.EDITOR_CHANGE,function(T,q,j,b){T!==m.default.events.TEXT_CHANGE||x.ignoreChange||(!x.options.userOnly||b===m.default.sources.USER?x.record(q,j):x.transform(q))}),x.quill.keyboard.addBinding({key:"Z",shortKey:!0},x.undo.bind(x)),x.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},x.redo.bind(x)),/Win/i.test(navigator.platform)&&x.quill.keyboard.addBinding({key:"Y",shortKey:!0},x.redo.bind(x)),x}return E(i,[{key:"change",value:function(O,x){if(this.stack[O].length!==0){var T=this.stack[O].pop();this.stack[x].push(T),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(T[O],m.default.sources.USER),this.ignoreChange=!1;var q=a(T[O]);this.quill.setSelection(q)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(O,x){if(O.ops.length!==0){this.stack.redo=[];var T=this.quill.getContents().diff(x),q=Date.now();if(this.lastRecorded+this.options.delay>q&&this.stack.undo.length>0){var j=this.stack.undo.pop();T=T.compose(j.undo),O=j.redo.compose(O)}else this.lastRecorded=q;this.stack.undo.push({redo:O,undo:T}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(O){this.stack.undo.forEach(function(x){x.undo=O.transform(x.undo,!0),x.redo=O.transform(x.redo,!0)}),this.stack.redo.forEach(function(x){x.undo=O.transform(x.undo,!0),x.redo=O.transform(x.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),i}(o.default);l.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function n(f){var i=f.ops[f.ops.length-1];return i==null?!1:i.insert!=null?typeof i.insert=="string"&&i.insert.endsWith(`
`):i.attributes!=null?Object.keys(i.attributes).some(function(d){return _.default.query(d,_.default.Scope.BLOCK)!=null}):!1}function a(f){var i=f.reduce(function(O,x){return O+=x.delete||0,O},0),d=f.length()-i;return n(f)&&(d-=1),d}c.default=l,c.getLastChangeIndex=a},function(v,c,h){Object.defineProperty(c,"__esModule",{value:!0}),c.default=c.BaseTooltip=void 0;var E=function(){function L(B,z){for(var F=0;F<z.length;F++){var P=z[F];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(B,P.key,P)}}return function(B,z,F){return z&&L(B.prototype,z),F&&L(B,F),B}}(),g=function L(B,z,F){B===null&&(B=Function.prototype);var P=Object.getOwnPropertyDescriptor(B,z);if(P===void 0){var U=Object.getPrototypeOf(B);return U===null?void 0:L(U,z,F)}else{if("value"in P)return P.value;var G=P.get;return G===void 0?void 0:G.call(F)}},_=h(3),y=q(_),m=h(2),p=q(m),o=h(8),t=q(o),r=h(23),u=q(r),s=h(34),l=q(s),n=h(59),a=q(n),f=h(60),i=q(f),d=h(28),O=q(d),x=h(61),T=q(x);function q(L){return L&&L.__esModule?L:{default:L}}function j(L,B){if(!(L instanceof B))throw new TypeError("Cannot call a class as a function")}function b(L,B){if(!L)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return B&&(typeof B=="object"||typeof B=="function")?B:L}function w(L,B){if(typeof B!="function"&&B!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof B);L.prototype=Object.create(B&&B.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}),B&&(Object.setPrototypeOf?Object.setPrototypeOf(L,B):L.__proto__=B)}var C=[!1,"center","right","justify"],I=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],k=[!1,"serif","monospace"],R=["1","2","3",!1],M=["small",!1,"large","huge"],W=function(L){w(B,L);function B(z,F){j(this,B);var P=b(this,(B.__proto__||Object.getPrototypeOf(B)).call(this,z,F)),U=function G(K){if(!document.body.contains(z.root))return document.body.removeEventListener("click",G);P.tooltip!=null&&!P.tooltip.root.contains(K.target)&&document.activeElement!==P.tooltip.textbox&&!P.quill.hasFocus()&&P.tooltip.hide(),P.pickers!=null&&P.pickers.forEach(function(J){J.container.contains(K.target)||J.close()})};return z.emitter.listenDOM("click",document.body,U),P}return E(B,[{key:"addModule",value:function(F){var P=g(B.prototype.__proto__||Object.getPrototypeOf(B.prototype),"addModule",this).call(this,F);return F==="toolbar"&&this.extendToolbar(P),P}},{key:"buildButtons",value:function(F,P){F.forEach(function(U){var G=U.getAttribute("class")||"";G.split(/\s+/).forEach(function(K){if(K.startsWith("ql-")&&(K=K.slice(3),P[K]!=null))if(K==="direction")U.innerHTML=P[K][""]+P[K].rtl;else if(typeof P[K]=="string")U.innerHTML=P[K];else{var J=U.value||"";J!=null&&P[K][J]&&(U.innerHTML=P[K][J])}})})}},{key:"buildPickers",value:function(F,P){var U=this;this.pickers=F.map(function(K){if(K.classList.contains("ql-align"))return K.querySelector("option")==null&&N(K,C),new i.default(K,P.align);if(K.classList.contains("ql-background")||K.classList.contains("ql-color")){var J=K.classList.contains("ql-background")?"background":"color";return K.querySelector("option")==null&&N(K,I,J==="background"?"#ffffff":"#000000"),new a.default(K,P[J])}else return K.querySelector("option")==null&&(K.classList.contains("ql-font")?N(K,k):K.classList.contains("ql-header")?N(K,R):K.classList.contains("ql-size")&&N(K,M)),new O.default(K)});var G=function(){U.pickers.forEach(function(J){J.update()})};this.quill.on(t.default.events.EDITOR_CHANGE,G)}}]),B}(l.default);W.DEFAULTS=(0,y.default)(!0,{},l.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var B=this,z=this.container.querySelector("input.ql-image[type=file]");z==null&&(z=document.createElement("input"),z.setAttribute("type","file"),z.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),z.classList.add("ql-image"),z.addEventListener("change",function(){if(z.files!=null&&z.files[0]!=null){var F=new FileReader;F.onload=function(P){var U=B.quill.getSelection(!0);B.quill.updateContents(new p.default().retain(U.index).delete(U.length).insert({image:P.target.result}),t.default.sources.USER),B.quill.setSelection(U.index+1,t.default.sources.SILENT),z.value=""},F.readAsDataURL(z.files[0])}}),this.container.appendChild(z)),z.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var H=function(L){w(B,L);function B(z,F){j(this,B);var P=b(this,(B.__proto__||Object.getPrototypeOf(B)).call(this,z,F));return P.textbox=P.root.querySelector('input[type="text"]'),P.listen(),P}return E(B,[{key:"listen",value:function(){var F=this;this.textbox.addEventListener("keydown",function(P){u.default.match(P,"enter")?(F.save(),P.preventDefault()):u.default.match(P,"escape")&&(F.cancel(),P.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),P!=null?this.textbox.value=P:F!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+F)||""),this.root.setAttribute("data-mode",F)}},{key:"restoreFocus",value:function(){var F=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=F}},{key:"save",value:function(){var F=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var P=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",F,t.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",F,t.default.sources.USER)),this.quill.root.scrollTop=P;break}case"video":F=D(F);case"formula":{if(!F)break;var U=this.quill.getSelection(!0);if(U!=null){var G=U.index+U.length;this.quill.insertEmbed(G,this.root.getAttribute("data-mode"),F,t.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(G+1," ",t.default.sources.USER),this.quill.setSelection(G+2,t.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),B}(T.default);function D(L){var B=L.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||L.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return B?(B[1]||"https")+"://www.youtube.com/embed/"+B[2]+"?showinfo=0":(B=L.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(B[1]||"https")+"://player.vimeo.com/video/"+B[2]+"/":L}function N(L,B){var z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;B.forEach(function(F){var P=document.createElement("option");F===z?P.setAttribute("selected","selected"):P.setAttribute("value",F),L.appendChild(P)})}c.BaseTooltip=H,c.default=W},function(v,c,h){Object.defineProperty(c,"__esModule",{value:!0});var E=function(){function g(){this.head=this.tail=null,this.length=0}return g.prototype.append=function(){for(var _=[],y=0;y<arguments.length;y++)_[y]=arguments[y];this.insertBefore(_[0],null),_.length>1&&this.append.apply(this,_.slice(1))},g.prototype.contains=function(_){for(var y,m=this.iterator();y=m();)if(y===_)return!0;return!1},g.prototype.insertBefore=function(_,y){_&&(_.next=y,y!=null?(_.prev=y.prev,y.prev!=null&&(y.prev.next=_),y.prev=_,y===this.head&&(this.head=_)):this.tail!=null?(this.tail.next=_,_.prev=this.tail,this.tail=_):(_.prev=null,this.head=this.tail=_),this.length+=1)},g.prototype.offset=function(_){for(var y=0,m=this.head;m!=null;){if(m===_)return y;y+=m.length(),m=m.next}return-1},g.prototype.remove=function(_){this.contains(_)&&(_.prev!=null&&(_.prev.next=_.next),_.next!=null&&(_.next.prev=_.prev),_===this.head&&(this.head=_.next),_===this.tail&&(this.tail=_.prev),this.length-=1)},g.prototype.iterator=function(_){return _===void 0&&(_=this.head),function(){var y=_;return _!=null&&(_=_.next),y}},g.prototype.find=function(_,y){y===void 0&&(y=!1);for(var m,p=this.iterator();m=p();){var o=m.length();if(_<o||y&&_===o&&(m.next==null||m.next.length()!==0))return[m,_];_-=o}return[null,0]},g.prototype.forEach=function(_){for(var y,m=this.iterator();y=m();)_(y)},g.prototype.forEachAt=function(_,y,m){if(!(y<=0))for(var p=this.find(_),o=p[0],t=p[1],r,u=_-t,s=this.iterator(o);(r=s())&&u<_+y;){var l=r.length();_>u?m(r,_-u,Math.min(y,u+l-_)):m(r,0,Math.min(l,_+y-u)),u+=l}},g.prototype.map=function(_){return this.reduce(function(y,m){return y.push(_(m)),y},[])},g.prototype.reduce=function(_,y){for(var m,p=this.iterator();m=p();)y=_(y,m);return y},g}();c.default=E},function(v,c,h){var E=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var u in r)r.hasOwnProperty(u)&&(t[u]=r[u])};return function(t,r){o(t,r);function u(){this.constructor=t}t.prototype=r===null?Object.create(r):(u.prototype=r.prototype,new u)}}();Object.defineProperty(c,"__esModule",{value:!0});var g=h(17),_=h(1),y={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},m=100,p=function(o){E(t,o);function t(r){var u=o.call(this,r)||this;return u.scroll=u,u.observer=new MutationObserver(function(s){u.update(s)}),u.observer.observe(u.domNode,y),u.attach(),u}return t.prototype.detach=function(){o.prototype.detach.call(this),this.observer.disconnect()},t.prototype.deleteAt=function(r,u){this.update(),r===0&&u===this.length()?this.children.forEach(function(s){s.remove()}):o.prototype.deleteAt.call(this,r,u)},t.prototype.formatAt=function(r,u,s,l){this.update(),o.prototype.formatAt.call(this,r,u,s,l)},t.prototype.insertAt=function(r,u,s){this.update(),o.prototype.insertAt.call(this,r,u,s)},t.prototype.optimize=function(r,u){var s=this;r===void 0&&(r=[]),u===void 0&&(u={}),o.prototype.optimize.call(this,u);for(var l=[].slice.call(this.observer.takeRecords());l.length>0;)r.push(l.pop());for(var n=function(d,O){O===void 0&&(O=!0),!(d==null||d===s)&&d.domNode.parentNode!=null&&(d.domNode[_.DATA_KEY].mutations==null&&(d.domNode[_.DATA_KEY].mutations=[]),O&&n(d.parent))},a=function(d){d.domNode[_.DATA_KEY]==null||d.domNode[_.DATA_KEY].mutations==null||(d instanceof g.default&&d.children.forEach(a),d.optimize(u))},f=r,i=0;f.length>0;i+=1){if(i>=m)throw new Error("[Parchment] Maximum optimize iterations reached");for(f.forEach(function(d){var O=_.find(d.target,!0);O!=null&&(O.domNode===d.target&&(d.type==="childList"?(n(_.find(d.previousSibling,!1)),[].forEach.call(d.addedNodes,function(x){var T=_.find(x,!1);n(T,!1),T instanceof g.default&&T.children.forEach(function(q){n(q,!1)})})):d.type==="attributes"&&n(O.prev)),n(O))}),this.children.forEach(a),f=[].slice.call(this.observer.takeRecords()),l=f.slice();l.length>0;)r.push(l.pop())}},t.prototype.update=function(r,u){var s=this;u===void 0&&(u={}),r=r||this.observer.takeRecords(),r.map(function(l){var n=_.find(l.target,!0);return n==null?null:n.domNode[_.DATA_KEY].mutations==null?(n.domNode[_.DATA_KEY].mutations=[l],n):(n.domNode[_.DATA_KEY].mutations.push(l),null)}).forEach(function(l){l==null||l===s||l.domNode[_.DATA_KEY]==null||l.update(l.domNode[_.DATA_KEY].mutations||[],u)}),this.domNode[_.DATA_KEY].mutations!=null&&o.prototype.update.call(this,this.domNode[_.DATA_KEY].mutations,u),this.optimize(r,u)},t.blotName="scroll",t.defaultChild="block",t.scope=_.Scope.BLOCK_BLOT,t.tagName="DIV",t}(g.default);c.default=p},function(v,c,h){var E=this&&this.__extends||function(){var p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,t){o.__proto__=t}||function(o,t){for(var r in t)t.hasOwnProperty(r)&&(o[r]=t[r])};return function(o,t){p(o,t);function r(){this.constructor=o}o.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();Object.defineProperty(c,"__esModule",{value:!0});var g=h(18),_=h(1);function y(p,o){if(Object.keys(p).length!==Object.keys(o).length)return!1;for(var t in p)if(p[t]!==o[t])return!1;return!0}var m=function(p){E(o,p);function o(){return p!==null&&p.apply(this,arguments)||this}return o.formats=function(t){if(t.tagName!==o.tagName)return p.formats.call(this,t)},o.prototype.format=function(t,r){var u=this;t===this.statics.blotName&&!r?(this.children.forEach(function(s){s instanceof g.default||(s=s.wrap(o.blotName,!0)),u.attributes.copy(s)}),this.unwrap()):p.prototype.format.call(this,t,r)},o.prototype.formatAt=function(t,r,u,s){if(this.formats()[u]!=null||_.query(u,_.Scope.ATTRIBUTE)){var l=this.isolate(t,r);l.format(u,s)}else p.prototype.formatAt.call(this,t,r,u,s)},o.prototype.optimize=function(t){p.prototype.optimize.call(this,t);var r=this.formats();if(Object.keys(r).length===0)return this.unwrap();var u=this.next;u instanceof o&&u.prev===this&&y(r,u.formats())&&(u.moveChildren(this),u.remove())},o.blotName="inline",o.scope=_.Scope.INLINE_BLOT,o.tagName="SPAN",o}(g.default);c.default=m},function(v,c,h){var E=this&&this.__extends||function(){var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,o){p.__proto__=o}||function(p,o){for(var t in o)o.hasOwnProperty(t)&&(p[t]=o[t])};return function(p,o){m(p,o);function t(){this.constructor=p}p.prototype=o===null?Object.create(o):(t.prototype=o.prototype,new t)}}();Object.defineProperty(c,"__esModule",{value:!0});var g=h(18),_=h(1),y=function(m){E(p,m);function p(){return m!==null&&m.apply(this,arguments)||this}return p.formats=function(o){var t=_.query(p.blotName).tagName;if(o.tagName!==t)return m.formats.call(this,o)},p.prototype.format=function(o,t){_.query(o,_.Scope.BLOCK)!=null&&(o===this.statics.blotName&&!t?this.replaceWith(p.blotName):m.prototype.format.call(this,o,t))},p.prototype.formatAt=function(o,t,r,u){_.query(r,_.Scope.BLOCK)!=null?this.format(r,u):m.prototype.formatAt.call(this,o,t,r,u)},p.prototype.insertAt=function(o,t,r){if(r==null||_.query(t,_.Scope.INLINE)!=null)m.prototype.insertAt.call(this,o,t,r);else{var u=this.split(o),s=_.create(t,r);u.parent.insertBefore(s,u)}},p.prototype.update=function(o,t){navigator.userAgent.match(/Trident/)?this.build():m.prototype.update.call(this,o,t)},p.blotName="block",p.scope=_.Scope.BLOCK_BLOT,p.tagName="P",p}(g.default);c.default=y},function(v,c,h){var E=this&&this.__extends||function(){var y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,p){m.__proto__=p}||function(m,p){for(var o in p)p.hasOwnProperty(o)&&(m[o]=p[o])};return function(m,p){y(m,p);function o(){this.constructor=m}m.prototype=p===null?Object.create(p):(o.prototype=p.prototype,new o)}}();Object.defineProperty(c,"__esModule",{value:!0});var g=h(19),_=function(y){E(m,y);function m(){return y!==null&&y.apply(this,arguments)||this}return m.formats=function(p){},m.prototype.format=function(p,o){y.prototype.formatAt.call(this,0,this.length(),p,o)},m.prototype.formatAt=function(p,o,t,r){p===0&&o===this.length()?this.format(t,r):y.prototype.formatAt.call(this,p,o,t,r)},m.prototype.formats=function(){return this.statics.formats(this.domNode)},m}(g.default);c.default=_},function(v,c,h){var E=this&&this.__extends||function(){var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,o){p.__proto__=o}||function(p,o){for(var t in o)o.hasOwnProperty(t)&&(p[t]=o[t])};return function(p,o){m(p,o);function t(){this.constructor=p}p.prototype=o===null?Object.create(o):(t.prototype=o.prototype,new t)}}();Object.defineProperty(c,"__esModule",{value:!0});var g=h(19),_=h(1),y=function(m){E(p,m);function p(o){var t=m.call(this,o)||this;return t.text=t.statics.value(t.domNode),t}return p.create=function(o){return document.createTextNode(o)},p.value=function(o){var t=o.data;return t.normalize&&(t=t.normalize()),t},p.prototype.deleteAt=function(o,t){this.domNode.data=this.text=this.text.slice(0,o)+this.text.slice(o+t)},p.prototype.index=function(o,t){return this.domNode===o?t:-1},p.prototype.insertAt=function(o,t,r){r==null?(this.text=this.text.slice(0,o)+t+this.text.slice(o),this.domNode.data=this.text):m.prototype.insertAt.call(this,o,t,r)},p.prototype.length=function(){return this.text.length},p.prototype.optimize=function(o){m.prototype.optimize.call(this,o),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof p&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},p.prototype.position=function(o,t){return[this.domNode,o]},p.prototype.split=function(o,t){if(t===void 0&&(t=!1),!t){if(o===0)return this;if(o===this.length())return this.next}var r=_.create(this.domNode.splitText(o));return this.parent.insertBefore(r,this.next),this.text=this.statics.value(this.domNode),r},p.prototype.update=function(o,t){var r=this;o.some(function(u){return u.type==="characterData"&&u.target===r.domNode})&&(this.text=this.statics.value(this.domNode))},p.prototype.value=function(){return this.text},p.blotName="text",p.scope=_.Scope.INLINE_BLOT,p}(g.default);c.default=y},function(v,c,h){var E=document.createElement("div");if(E.classList.toggle("test-class",!1),E.classList.contains("test-class")){var g=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(_,y){return arguments.length>1&&!this.contains(_)==!y?y:g.call(this,_)}}String.prototype.startsWith||(String.prototype.startsWith=function(_,y){return y=y||0,this.substr(y,_.length)===_}),String.prototype.endsWith||(String.prototype.endsWith=function(_,y){var m=this.toString();(typeof y!="number"||!isFinite(y)||Math.floor(y)!==y||y>m.length)&&(y=m.length),y-=_.length;var p=m.indexOf(_,y);return p!==-1&&p===y}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(y){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof y!="function")throw new TypeError("predicate must be a function");for(var m=Object(this),p=m.length>>>0,o=arguments[1],t,r=0;r<p;r++)if(t=m[r],y.call(o,t,r,m))return t}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(v,c){var h=-1,E=1,g=0;function _(i,d,O){if(i==d)return i?[[g,i]]:[];(O<0||i.length<O)&&(O=null);var x=o(i,d),T=i.substring(0,x);i=i.substring(x),d=d.substring(x),x=t(i,d);var q=i.substring(i.length-x);i=i.substring(0,i.length-x),d=d.substring(0,d.length-x);var j=y(i,d);return T&&j.unshift([g,T]),q&&j.push([g,q]),u(j),O!=null&&(j=n(j,O)),j=a(j),j}function y(i,d){var O;if(!i)return[[E,d]];if(!d)return[[h,i]];var x=i.length>d.length?i:d,T=i.length>d.length?d:i,q=x.indexOf(T);if(q!=-1)return O=[[E,x.substring(0,q)],[g,T],[E,x.substring(q+T.length)]],i.length>d.length&&(O[0][0]=O[2][0]=h),O;if(T.length==1)return[[h,i],[E,d]];var j=r(i,d);if(j){var b=j[0],w=j[1],C=j[2],I=j[3],k=j[4],R=_(b,C),M=_(w,I);return R.concat([[g,k]],M)}return m(i,d)}function m(i,d){for(var O=i.length,x=d.length,T=Math.ceil((O+x)/2),q=T,j=2*T,b=new Array(j),w=new Array(j),C=0;C<j;C++)b[C]=-1,w[C]=-1;b[q+1]=0,w[q+1]=0;for(var I=O-x,k=I%2!=0,R=0,M=0,W=0,H=0,D=0;D<T;D++){for(var N=-D+R;N<=D-M;N+=2){var L=q+N,B;N==-D||N!=D&&b[L-1]<b[L+1]?B=b[L+1]:B=b[L-1]+1;for(var z=B-N;B<O&&z<x&&i.charAt(B)==d.charAt(z);)B++,z++;if(b[L]=B,B>O)M+=2;else if(z>x)R+=2;else if(k){var F=q+I-N;if(F>=0&&F<j&&w[F]!=-1){var P=O-w[F];if(B>=P)return p(i,d,B,z)}}}for(var U=-D+W;U<=D-H;U+=2){var F=q+U,P;U==-D||U!=D&&w[F-1]<w[F+1]?P=w[F+1]:P=w[F-1]+1;for(var G=P-U;P<O&&G<x&&i.charAt(O-P-1)==d.charAt(x-G-1);)P++,G++;if(w[F]=P,P>O)H+=2;else if(G>x)W+=2;else if(!k){var L=q+I-U;if(L>=0&&L<j&&b[L]!=-1){var B=b[L],z=q+B-L;if(P=O-P,B>=P)return p(i,d,B,z)}}}}return[[h,i],[E,d]]}function p(i,d,O,x){var T=i.substring(0,O),q=d.substring(0,x),j=i.substring(O),b=d.substring(x),w=_(T,q),C=_(j,b);return w.concat(C)}function o(i,d){if(!i||!d||i.charAt(0)!=d.charAt(0))return 0;for(var O=0,x=Math.min(i.length,d.length),T=x,q=0;O<T;)i.substring(q,T)==d.substring(q,T)?(O=T,q=O):x=T,T=Math.floor((x-O)/2+O);return T}function t(i,d){if(!i||!d||i.charAt(i.length-1)!=d.charAt(d.length-1))return 0;for(var O=0,x=Math.min(i.length,d.length),T=x,q=0;O<T;)i.substring(i.length-T,i.length-q)==d.substring(d.length-T,d.length-q)?(O=T,q=O):x=T,T=Math.floor((x-O)/2+O);return T}function r(i,d){var O=i.length>d.length?i:d,x=i.length>d.length?d:i;if(O.length<4||x.length*2<O.length)return null;function T(M,W,H){for(var D=M.substring(H,H+Math.floor(M.length/4)),N=-1,L="",B,z,F,P;(N=W.indexOf(D,N+1))!=-1;){var U=o(M.substring(H),W.substring(N)),G=t(M.substring(0,H),W.substring(0,N));L.length<G+U&&(L=W.substring(N-G,N)+W.substring(N,N+U),B=M.substring(0,H-G),z=M.substring(H+U),F=W.substring(0,N-G),P=W.substring(N+U))}return L.length*2>=M.length?[B,z,F,P,L]:null}var q=T(O,x,Math.ceil(O.length/4)),j=T(O,x,Math.ceil(O.length/2)),b;if(!q&&!j)return null;j?q?b=q[4].length>j[4].length?q:j:b=j:b=q;var w,C,I,k;i.length>d.length?(w=b[0],C=b[1],I=b[2],k=b[3]):(I=b[0],k=b[1],w=b[2],C=b[3]);var R=b[4];return[w,C,I,k,R]}function u(i){i.push([g,""]);for(var d=0,O=0,x=0,T="",q="",j;d<i.length;)switch(i[d][0]){case E:x++,q+=i[d][1],d++;break;case h:O++,T+=i[d][1],d++;break;case g:O+x>1?(O!==0&&x!==0&&(j=o(q,T),j!==0&&(d-O-x>0&&i[d-O-x-1][0]==g?i[d-O-x-1][1]+=q.substring(0,j):(i.splice(0,0,[g,q.substring(0,j)]),d++),q=q.substring(j),T=T.substring(j)),j=t(q,T),j!==0&&(i[d][1]=q.substring(q.length-j)+i[d][1],q=q.substring(0,q.length-j),T=T.substring(0,T.length-j))),O===0?i.splice(d-x,O+x,[E,q]):x===0?i.splice(d-O,O+x,[h,T]):i.splice(d-O-x,O+x,[h,T],[E,q]),d=d-O-x+(O?1:0)+(x?1:0)+1):d!==0&&i[d-1][0]==g?(i[d-1][1]+=i[d][1],i.splice(d,1)):d++,x=0,O=0,T="",q="";break}i[i.length-1][1]===""&&i.pop();var b=!1;for(d=1;d<i.length-1;)i[d-1][0]==g&&i[d+1][0]==g&&(i[d][1].substring(i[d][1].length-i[d-1][1].length)==i[d-1][1]?(i[d][1]=i[d-1][1]+i[d][1].substring(0,i[d][1].length-i[d-1][1].length),i[d+1][1]=i[d-1][1]+i[d+1][1],i.splice(d-1,1),b=!0):i[d][1].substring(0,i[d+1][1].length)==i[d+1][1]&&(i[d-1][1]+=i[d+1][1],i[d][1]=i[d][1].substring(i[d+1][1].length)+i[d+1][1],i.splice(d+1,1),b=!0)),d++;b&&u(i)}var s=_;s.INSERT=E,s.DELETE=h,s.EQUAL=g,v.exports=s;function l(i,d){if(d===0)return[g,i];for(var O=0,x=0;x<i.length;x++){var T=i[x];if(T[0]===h||T[0]===g){var q=O+T[1].length;if(d===q)return[x+1,i];if(d<q){i=i.slice();var j=d-O,b=[T[0],T[1].slice(0,j)],w=[T[0],T[1].slice(j)];return i.splice(x,1,b,w),[x+1,i]}else O=q}}throw new Error("cursor_pos is out of bounds!")}function n(i,d){var O=l(i,d),x=O[1],T=O[0],q=x[T],j=x[T+1];if(q==null)return i;if(q[0]!==g)return i;if(j!=null&&q[1]+j[1]===j[1]+q[1])return x.splice(T,2,j,q),f(x,T,2);if(j!=null&&j[1].indexOf(q[1])===0){x.splice(T,2,[j[0],q[1]],[0,q[1]]);var b=j[1].slice(q[1].length);return b.length>0&&x.splice(T+2,0,[j[0],b]),f(x,T,3)}else return i}function a(i){for(var d=!1,O=function(j){return j.charCodeAt(0)>=56320&&j.charCodeAt(0)<=57343},x=function(j){return j.charCodeAt(j.length-1)>=55296&&j.charCodeAt(j.length-1)<=56319},T=2;T<i.length;T+=1)i[T-2][0]===g&&x(i[T-2][1])&&i[T-1][0]===h&&O(i[T-1][1])&&i[T][0]===E&&O(i[T][1])&&(d=!0,i[T-1][1]=i[T-2][1].slice(-1)+i[T-1][1],i[T][1]=i[T-2][1].slice(-1)+i[T][1],i[T-2][1]=i[T-2][1].slice(0,-1));if(!d)return i;for(var q=[],T=0;T<i.length;T+=1)i[T][1].length>0&&q.push(i[T]);return q}function f(i,d,O){for(var x=d+O-1;x>=0&&x>=d-1;x--)if(x+1<i.length){var T=i[x],q=i[x+1];T[0]===q[1]&&i.splice(x,2,[T[0],T[1]+q[1]])}return i}},function(v,c){c=v.exports=typeof Object.keys=="function"?Object.keys:h,c.shim=h;function h(E){var g=[];for(var _ in E)g.push(_);return g}},function(v,c){var h=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";c=v.exports=h?E:g,c.supported=E;function E(_){return Object.prototype.toString.call(_)=="[object Arguments]"}c.unsupported=g;function g(_){return _&&typeof _=="object"&&typeof _.length=="number"&&Object.prototype.hasOwnProperty.call(_,"callee")&&!Object.prototype.propertyIsEnumerable.call(_,"callee")||!1}},function(v,c){var h=Object.prototype.hasOwnProperty,E="~";function g(){}Object.create&&(g.prototype=Object.create(null),new g().__proto__||(E=!1));function _(m,p,o){this.fn=m,this.context=p,this.once=o||!1}function y(){this._events=new g,this._eventsCount=0}y.prototype.eventNames=function(){var p=[],o,t;if(this._eventsCount===0)return p;for(t in o=this._events)h.call(o,t)&&p.push(E?t.slice(1):t);return Object.getOwnPropertySymbols?p.concat(Object.getOwnPropertySymbols(o)):p},y.prototype.listeners=function(p,o){var t=E?E+p:p,r=this._events[t];if(o)return!!r;if(!r)return[];if(r.fn)return[r.fn];for(var u=0,s=r.length,l=new Array(s);u<s;u++)l[u]=r[u].fn;return l},y.prototype.emit=function(p,o,t,r,u,s){var l=E?E+p:p;if(!this._events[l])return!1;var n=this._events[l],a=arguments.length,f,i;if(n.fn){switch(n.once&&this.removeListener(p,n.fn,void 0,!0),a){case 1:return n.fn.call(n.context),!0;case 2:return n.fn.call(n.context,o),!0;case 3:return n.fn.call(n.context,o,t),!0;case 4:return n.fn.call(n.context,o,t,r),!0;case 5:return n.fn.call(n.context,o,t,r,u),!0;case 6:return n.fn.call(n.context,o,t,r,u,s),!0}for(i=1,f=new Array(a-1);i<a;i++)f[i-1]=arguments[i];n.fn.apply(n.context,f)}else{var d=n.length,O;for(i=0;i<d;i++)switch(n[i].once&&this.removeListener(p,n[i].fn,void 0,!0),a){case 1:n[i].fn.call(n[i].context);break;case 2:n[i].fn.call(n[i].context,o);break;case 3:n[i].fn.call(n[i].context,o,t);break;case 4:n[i].fn.call(n[i].context,o,t,r);break;default:if(!f)for(O=1,f=new Array(a-1);O<a;O++)f[O-1]=arguments[O];n[i].fn.apply(n[i].context,f)}}return!0},y.prototype.on=function(p,o,t){var r=new _(o,t||this),u=E?E+p:p;return this._events[u]?this._events[u].fn?this._events[u]=[this._events[u],r]:this._events[u].push(r):(this._events[u]=r,this._eventsCount++),this},y.prototype.once=function(p,o,t){var r=new _(o,t||this,!0),u=E?E+p:p;return this._events[u]?this._events[u].fn?this._events[u]=[this._events[u],r]:this._events[u].push(r):(this._events[u]=r,this._eventsCount++),this},y.prototype.removeListener=function(p,o,t,r){var u=E?E+p:p;if(!this._events[u])return this;if(!o)return--this._eventsCount===0?this._events=new g:delete this._events[u],this;var s=this._events[u];if(s.fn)s.fn===o&&(!r||s.once)&&(!t||s.context===t)&&(--this._eventsCount===0?this._events=new g:delete this._events[u]);else{for(var l=0,n=[],a=s.length;l<a;l++)(s[l].fn!==o||r&&!s[l].once||t&&s[l].context!==t)&&n.push(s[l]);n.length?this._events[u]=n.length===1?n[0]:n:--this._eventsCount===0?this._events=new g:delete this._events[u]}return this},y.prototype.removeAllListeners=function(p){var o;return p?(o=E?E+p:p,this._events[o]&&(--this._eventsCount===0?this._events=new g:delete this._events[o])):(this._events=new g,this._eventsCount=0),this},y.prototype.off=y.prototype.removeListener,y.prototype.addListener=y.prototype.on,y.prototype.setMaxListeners=function(){return this},y.prefixed=E,y.EventEmitter=y,typeof v!="undefined"&&(v.exports=y)},function(v,c,h){Object.defineProperty(c,"__esModule",{value:!0}),c.matchText=c.matchSpacing=c.matchNewline=c.matchBlot=c.matchAttributor=c.default=void 0;var E=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Z){return typeof Z}:function(Z){return Z&&typeof Symbol=="function"&&Z.constructor===Symbol&&Z!==Symbol.prototype?"symbol":typeof Z},g=function(){function Z(Y,ee){var re=[],X=!0,se=!1,ue=void 0;try{for(var ce=Y[Symbol.iterator](),we;!(X=(we=ce.next()).done)&&(re.push(we.value),!(ee&&re.length===ee));X=!0);}catch(Se){se=!0,ue=Se}finally{try{!X&&ce.return&&ce.return()}finally{if(se)throw ue}}return re}return function(Y,ee){if(Array.isArray(Y))return Y;if(Symbol.iterator in Object(Y))return Z(Y,ee);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_=function(){function Z(Y,ee){for(var re=0;re<ee.length;re++){var X=ee[re];X.enumerable=X.enumerable||!1,X.configurable=!0,"value"in X&&(X.writable=!0),Object.defineProperty(Y,X.key,X)}}return function(Y,ee,re){return ee&&Z(Y.prototype,ee),re&&Z(Y,re),Y}}(),y=h(3),m=w(y),p=h(2),o=w(p),t=h(0),r=w(t),u=h(5),s=w(u),l=h(10),n=w(l),a=h(9),f=w(a),i=h(36),d=h(37),O=h(13),x=w(O),T=h(26),q=h(38),j=h(39),b=h(40);function w(Z){return Z&&Z.__esModule?Z:{default:Z}}function C(Z,Y,ee){return Y in Z?Object.defineProperty(Z,Y,{value:ee,enumerable:!0,configurable:!0,writable:!0}):Z[Y]=ee,Z}function I(Z,Y){if(!(Z instanceof Y))throw new TypeError("Cannot call a class as a function")}function k(Z,Y){if(!Z)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Y&&(typeof Y=="object"||typeof Y=="function")?Y:Z}function R(Z,Y){if(typeof Y!="function"&&Y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Y);Z.prototype=Object.create(Y&&Y.prototype,{constructor:{value:Z,enumerable:!1,writable:!0,configurable:!0}}),Y&&(Object.setPrototypeOf?Object.setPrototypeOf(Z,Y):Z.__proto__=Y)}var M=(0,n.default)("quill:clipboard"),W="__ql-matcher",H=[[Node.TEXT_NODE,ge],[Node.TEXT_NODE,le],["br",te],[Node.ELEMENT_NODE,le],[Node.ELEMENT_NODE,J],[Node.ELEMENT_NODE,he],[Node.ELEMENT_NODE,K],[Node.ELEMENT_NODE,Oe],["li",oe],["b",G.bind(G,"bold")],["i",G.bind(G,"italic")],["style",ie]],D=[i.AlignAttribute,q.DirectionAttribute].reduce(function(Z,Y){return Z[Y.keyName]=Y,Z},{}),N=[i.AlignStyle,d.BackgroundStyle,T.ColorStyle,q.DirectionStyle,j.FontStyle,b.SizeStyle].reduce(function(Z,Y){return Z[Y.keyName]=Y,Z},{}),L=function(Z){R(Y,Z);function Y(ee,re){I(this,Y);var X=k(this,(Y.__proto__||Object.getPrototypeOf(Y)).call(this,ee,re));return X.quill.root.addEventListener("paste",X.onPaste.bind(X)),X.container=X.quill.addContainer("ql-clipboard"),X.container.setAttribute("contenteditable",!0),X.container.setAttribute("tabindex",-1),X.matchers=[],H.concat(X.options.matchers).forEach(function(se){var ue=g(se,2),ce=ue[0],we=ue[1];!re.matchVisual&&we===he||X.addMatcher(ce,we)}),X}return _(Y,[{key:"addMatcher",value:function(re,X){this.matchers.push([re,X])}},{key:"convert",value:function(re){if(typeof re=="string")return this.container.innerHTML=re.replace(/\>\r?\n +\</g,"><"),this.convert();var X=this.quill.getFormat(this.quill.selection.savedRange.index);if(X[x.default.blotName]){var se=this.container.innerText;return this.container.innerHTML="",new o.default().insert(se,C({},x.default.blotName,X[x.default.blotName]))}var ue=this.prepareMatching(),ce=g(ue,2),we=ce[0],Se=ce[1],pe=U(this.container,we,Se);return F(pe,`
`)&&pe.ops[pe.ops.length-1].attributes==null&&(pe=pe.compose(new o.default().retain(pe.length()-1).delete(1))),M.log("convert",this.container.innerHTML,pe),this.container.innerHTML="",pe}},{key:"dangerouslyPasteHTML",value:function(re,X){var se=arguments.length>2&&arguments[2]!==void 0?arguments[2]:s.default.sources.API;if(typeof re=="string")this.quill.setContents(this.convert(re),X),this.quill.setSelection(0,s.default.sources.SILENT);else{var ue=this.convert(X);this.quill.updateContents(new o.default().retain(re).concat(ue),se),this.quill.setSelection(re+ue.length(),s.default.sources.SILENT)}}},{key:"onPaste",value:function(re){var X=this;if(!(re.defaultPrevented||!this.quill.isEnabled())){var se=this.quill.getSelection(),ue=new o.default().retain(se.index),ce=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(s.default.sources.SILENT),setTimeout(function(){ue=ue.concat(X.convert()).delete(se.length),X.quill.updateContents(ue,s.default.sources.USER),X.quill.setSelection(ue.length()-se.length,s.default.sources.SILENT),X.quill.scrollingContainer.scrollTop=ce,X.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var re=this,X=[],se=[];return this.matchers.forEach(function(ue){var ce=g(ue,2),we=ce[0],Se=ce[1];switch(we){case Node.TEXT_NODE:se.push(Se);break;case Node.ELEMENT_NODE:X.push(Se);break;default:[].forEach.call(re.container.querySelectorAll(we),function(pe){pe[W]=pe[W]||[],pe[W].push(Se)});break}}),[X,se]}}]),Y}(f.default);L.DEFAULTS={matchers:[],matchVisual:!0};function B(Z,Y,ee){return(typeof Y=="undefined"?"undefined":E(Y))==="object"?Object.keys(Y).reduce(function(re,X){return B(re,X,Y[X])},Z):Z.reduce(function(re,X){return X.attributes&&X.attributes[Y]?re.push(X):re.insert(X.insert,(0,m.default)({},C({},Y,ee),X.attributes))},new o.default)}function z(Z){if(Z.nodeType!==Node.ELEMENT_NODE)return{};var Y="__ql-computed-style";return Z[Y]||(Z[Y]=window.getComputedStyle(Z))}function F(Z,Y){for(var ee="",re=Z.ops.length-1;re>=0&&ee.length<Y.length;--re){var X=Z.ops[re];if(typeof X.insert!="string")break;ee=X.insert+ee}return ee.slice(-1*Y.length)===Y}function P(Z){if(Z.childNodes.length===0)return!1;var Y=z(Z);return["block","list-item"].indexOf(Y.display)>-1}function U(Z,Y,ee){return Z.nodeType===Z.TEXT_NODE?ee.reduce(function(re,X){return X(Z,re)},new o.default):Z.nodeType===Z.ELEMENT_NODE?[].reduce.call(Z.childNodes||[],function(re,X){var se=U(X,Y,ee);return X.nodeType===Z.ELEMENT_NODE&&(se=Y.reduce(function(ue,ce){return ce(X,ue)},se),se=(X[W]||[]).reduce(function(ue,ce){return ce(X,ue)},se)),re.concat(se)},new o.default):new o.default}function G(Z,Y,ee){return B(ee,Z,!0)}function K(Z,Y){var ee=r.default.Attributor.Attribute.keys(Z),re=r.default.Attributor.Class.keys(Z),X=r.default.Attributor.Style.keys(Z),se={};return ee.concat(re).concat(X).forEach(function(ue){var ce=r.default.query(ue,r.default.Scope.ATTRIBUTE);ce!=null&&(se[ce.attrName]=ce.value(Z),se[ce.attrName])||(ce=D[ue],ce!=null&&(ce.attrName===ue||ce.keyName===ue)&&(se[ce.attrName]=ce.value(Z)||void 0),ce=N[ue],ce!=null&&(ce.attrName===ue||ce.keyName===ue)&&(ce=N[ue],se[ce.attrName]=ce.value(Z)||void 0))}),Object.keys(se).length>0&&(Y=B(Y,se)),Y}function J(Z,Y){var ee=r.default.query(Z);if(ee==null)return Y;if(ee.prototype instanceof r.default.Embed){var re={},X=ee.value(Z);X!=null&&(re[ee.blotName]=X,Y=new o.default().insert(re,ee.formats(Z)))}else typeof ee.formats=="function"&&(Y=B(Y,ee.blotName,ee.formats(Z)));return Y}function te(Z,Y){return F(Y,`
`)||Y.insert(`
`),Y}function ie(){return new o.default}function oe(Z,Y){var ee=r.default.query(Z);if(ee==null||ee.blotName!=="list-item"||!F(Y,`
`))return Y;for(var re=-1,X=Z.parentNode;!X.classList.contains("ql-clipboard");)(r.default.query(X)||{}).blotName==="list"&&(re+=1),X=X.parentNode;return re<=0?Y:Y.compose(new o.default().retain(Y.length()-1).retain(1,{indent:re}))}function le(Z,Y){return F(Y,`
`)||(P(Z)||Y.length()>0&&Z.nextSibling&&P(Z.nextSibling))&&Y.insert(`
`),Y}function he(Z,Y){if(P(Z)&&Z.nextElementSibling!=null&&!F(Y,`

`)){var ee=Z.offsetHeight+parseFloat(z(Z).marginTop)+parseFloat(z(Z).marginBottom);Z.nextElementSibling.offsetTop>Z.offsetTop+ee*1.5&&Y.insert(`
`)}return Y}function Oe(Z,Y){var ee={},re=Z.style||{};return re.fontStyle&&z(Z).fontStyle==="italic"&&(ee.italic=!0),re.fontWeight&&(z(Z).fontWeight.startsWith("bold")||parseInt(z(Z).fontWeight)>=700)&&(ee.bold=!0),Object.keys(ee).length>0&&(Y=B(Y,ee)),parseFloat(re.textIndent||0)>0&&(Y=new o.default().insert("	").concat(Y)),Y}function ge(Z,Y){var ee=Z.data;if(Z.parentNode.tagName==="O:P")return Y.insert(ee.trim());if(ee.trim().length===0&&Z.parentNode.classList.contains("ql-clipboard"))return Y;if(!z(Z.parentNode).whiteSpace.startsWith("pre")){var re=function(se,ue){return ue=ue.replace(/[^\u00a0]/g,""),ue.length<1&&se?" ":ue};ee=ee.replace(/\r\n/g," ").replace(/\n/g," "),ee=ee.replace(/\s\s+/g,re.bind(re,!0)),(Z.previousSibling==null&&P(Z.parentNode)||Z.previousSibling!=null&&P(Z.previousSibling))&&(ee=ee.replace(/^\s+/,re.bind(re,!1))),(Z.nextSibling==null&&P(Z.parentNode)||Z.nextSibling!=null&&P(Z.nextSibling))&&(ee=ee.replace(/\s+$/,re.bind(re,!1)))}return Y.insert(ee)}c.default=L,c.matchAttributor=K,c.matchBlot=J,c.matchNewline=le,c.matchSpacing=he,c.matchText=ge},function(v,c,h){Object.defineProperty(c,"__esModule",{value:!0});var E=function(){function u(s,l){for(var n=0;n<l.length;n++){var a=l[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(s,a.key,a)}}return function(s,l,n){return l&&u(s.prototype,l),n&&u(s,n),s}}(),g=function u(s,l,n){s===null&&(s=Function.prototype);var a=Object.getOwnPropertyDescriptor(s,l);if(a===void 0){var f=Object.getPrototypeOf(s);return f===null?void 0:u(f,l,n)}else{if("value"in a)return a.value;var i=a.get;return i===void 0?void 0:i.call(n)}},_=h(6),y=m(_);function m(u){return u&&u.__esModule?u:{default:u}}function p(u,s){if(!(u instanceof s))throw new TypeError("Cannot call a class as a function")}function o(u,s){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s&&(typeof s=="object"||typeof s=="function")?s:u}function t(u,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof s);u.prototype=Object.create(s&&s.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),s&&(Object.setPrototypeOf?Object.setPrototypeOf(u,s):u.__proto__=s)}var r=function(u){t(s,u);function s(){return p(this,s),o(this,(s.__proto__||Object.getPrototypeOf(s)).apply(this,arguments))}return E(s,[{key:"optimize",value:function(n){g(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"optimize",this).call(this,n),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return g(s.__proto__||Object.getPrototypeOf(s),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),s}(y.default);r.blotName="bold",r.tagName=["STRONG","B"],c.default=r},function(v,c,h){Object.defineProperty(c,"__esModule",{value:!0}),c.addControls=c.default=void 0;var E=function(){function b(w,C){var I=[],k=!0,R=!1,M=void 0;try{for(var W=w[Symbol.iterator](),H;!(k=(H=W.next()).done)&&(I.push(H.value),!(C&&I.length===C));k=!0);}catch(D){R=!0,M=D}finally{try{!k&&W.return&&W.return()}finally{if(R)throw M}}return I}return function(w,C){if(Array.isArray(w))return w;if(Symbol.iterator in Object(w))return b(w,C);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),g=function(){function b(w,C){for(var I=0;I<C.length;I++){var k=C[I];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(w,k.key,k)}}return function(w,C,I){return C&&b(w.prototype,C),I&&b(w,I),w}}(),_=h(2),y=n(_),m=h(0),p=n(m),o=h(5),t=n(o),r=h(10),u=n(r),s=h(9),l=n(s);function n(b){return b&&b.__esModule?b:{default:b}}function a(b,w,C){return w in b?Object.defineProperty(b,w,{value:C,enumerable:!0,configurable:!0,writable:!0}):b[w]=C,b}function f(b,w){if(!(b instanceof w))throw new TypeError("Cannot call a class as a function")}function i(b,w){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:b}function d(b,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);b.prototype=Object.create(w&&w.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(b,w):b.__proto__=w)}var O=(0,u.default)("quill:toolbar"),x=function(b){d(w,b);function w(C,I){f(this,w);var k=i(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,C,I));if(Array.isArray(k.options.container)){var R=document.createElement("div");q(R,k.options.container),C.container.parentNode.insertBefore(R,C.container),k.container=R}else typeof k.options.container=="string"?k.container=document.querySelector(k.options.container):k.container=k.options.container;if(!(k.container instanceof HTMLElement)){var M;return M=O.error("Container required for toolbar",k.options),i(k,M)}return k.container.classList.add("ql-toolbar"),k.controls=[],k.handlers={},Object.keys(k.options.handlers).forEach(function(W){k.addHandler(W,k.options.handlers[W])}),[].forEach.call(k.container.querySelectorAll("button, select"),function(W){k.attach(W)}),k.quill.on(t.default.events.EDITOR_CHANGE,function(W,H){W===t.default.events.SELECTION_CHANGE&&k.update(H)}),k.quill.on(t.default.events.SCROLL_OPTIMIZE,function(){var W=k.quill.selection.getRange(),H=E(W,1),D=H[0];k.update(D)}),k}return g(w,[{key:"addHandler",value:function(I,k){this.handlers[I]=k}},{key:"attach",value:function(I){var k=this,R=[].find.call(I.classList,function(W){return W.indexOf("ql-")===0});if(R){if(R=R.slice(3),I.tagName==="BUTTON"&&I.setAttribute("type","button"),this.handlers[R]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[R]==null){O.warn("ignoring attaching to disabled format",R,I);return}if(p.default.query(R)==null){O.warn("ignoring attaching to nonexistent format",R,I);return}}var M=I.tagName==="SELECT"?"change":"click";I.addEventListener(M,function(W){var H=void 0;if(I.tagName==="SELECT"){if(I.selectedIndex<0)return;var D=I.options[I.selectedIndex];D.hasAttribute("selected")?H=!1:H=D.value||!1}else I.classList.contains("ql-active")?H=!1:H=I.value||!I.hasAttribute("value"),W.preventDefault();k.quill.focus();var N=k.quill.selection.getRange(),L=E(N,1),B=L[0];if(k.handlers[R]!=null)k.handlers[R].call(k,H);else if(p.default.query(R).prototype instanceof p.default.Embed){if(H=prompt("Enter "+R),!H)return;k.quill.updateContents(new y.default().retain(B.index).delete(B.length).insert(a({},R,H)),t.default.sources.USER)}else k.quill.format(R,H,t.default.sources.USER);k.update(B)}),this.controls.push([R,I])}}},{key:"update",value:function(I){var k=I==null?{}:this.quill.getFormat(I);this.controls.forEach(function(R){var M=E(R,2),W=M[0],H=M[1];if(H.tagName==="SELECT"){var D=void 0;if(I==null)D=null;else if(k[W]==null)D=H.querySelector("option[selected]");else if(!Array.isArray(k[W])){var N=k[W];typeof N=="string"&&(N=N.replace(/\"/g,'\\"')),D=H.querySelector('option[value="'+N+'"]')}D==null?(H.value="",H.selectedIndex=-1):D.selected=!0}else if(I==null)H.classList.remove("ql-active");else if(H.hasAttribute("value")){var L=k[W]===H.getAttribute("value")||k[W]!=null&&k[W].toString()===H.getAttribute("value")||k[W]==null&&!H.getAttribute("value");H.classList.toggle("ql-active",L)}else H.classList.toggle("ql-active",k[W]!=null)})}}]),w}(l.default);x.DEFAULTS={};function T(b,w,C){var I=document.createElement("button");I.setAttribute("type","button"),I.classList.add("ql-"+w),C!=null&&(I.value=C),b.appendChild(I)}function q(b,w){Array.isArray(w[0])||(w=[w]),w.forEach(function(C){var I=document.createElement("span");I.classList.add("ql-formats"),C.forEach(function(k){if(typeof k=="string")T(I,k);else{var R=Object.keys(k)[0],M=k[R];Array.isArray(M)?j(I,R,M):T(I,R,M)}}),b.appendChild(I)})}function j(b,w,C){var I=document.createElement("select");I.classList.add("ql-"+w),C.forEach(function(k){var R=document.createElement("option");k!==!1?R.setAttribute("value",k):R.setAttribute("selected","selected"),I.appendChild(R)}),b.appendChild(I)}x.DEFAULTS={container:null,handlers:{clean:function(){var w=this,C=this.quill.getSelection();if(C!=null)if(C.length==0){var I=this.quill.getFormat();Object.keys(I).forEach(function(k){p.default.query(k,p.default.Scope.INLINE)!=null&&w.quill.format(k,!1)})}else this.quill.removeFormat(C,t.default.sources.USER)},direction:function(w){var C=this.quill.getFormat().align;w==="rtl"&&C==null?this.quill.format("align","right",t.default.sources.USER):!w&&C==="right"&&this.quill.format("align",!1,t.default.sources.USER),this.quill.format("direction",w,t.default.sources.USER)},indent:function(w){var C=this.quill.getSelection(),I=this.quill.getFormat(C),k=parseInt(I.indent||0);if(w==="+1"||w==="-1"){var R=w==="+1"?1:-1;I.direction==="rtl"&&(R*=-1),this.quill.format("indent",k+R,t.default.sources.USER)}},link:function(w){w===!0&&(w=prompt("Enter link URL:")),this.quill.format("link",w,t.default.sources.USER)},list:function(w){var C=this.quill.getSelection(),I=this.quill.getFormat(C);w==="check"?I.list==="checked"||I.list==="unchecked"?this.quill.format("list",!1,t.default.sources.USER):this.quill.format("list","unchecked",t.default.sources.USER):this.quill.format("list",w,t.default.sources.USER)}}},c.default=x,c.addControls=q},function(v,c){v.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(v,c,h){Object.defineProperty(c,"__esModule",{value:!0});var E=function(){function u(s,l){for(var n=0;n<l.length;n++){var a=l[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(s,a.key,a)}}return function(s,l,n){return l&&u(s.prototype,l),n&&u(s,n),s}}(),g=function u(s,l,n){s===null&&(s=Function.prototype);var a=Object.getOwnPropertyDescriptor(s,l);if(a===void 0){var f=Object.getPrototypeOf(s);return f===null?void 0:u(f,l,n)}else{if("value"in a)return a.value;var i=a.get;return i===void 0?void 0:i.call(n)}},_=h(28),y=m(_);function m(u){return u&&u.__esModule?u:{default:u}}function p(u,s){if(!(u instanceof s))throw new TypeError("Cannot call a class as a function")}function o(u,s){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s&&(typeof s=="object"||typeof s=="function")?s:u}function t(u,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof s);u.prototype=Object.create(s&&s.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),s&&(Object.setPrototypeOf?Object.setPrototypeOf(u,s):u.__proto__=s)}var r=function(u){t(s,u);function s(l,n){p(this,s);var a=o(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,l));return a.label.innerHTML=n,a.container.classList.add("ql-color-picker"),[].slice.call(a.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(f){f.classList.add("ql-primary")}),a}return E(s,[{key:"buildItem",value:function(n){var a=g(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"buildItem",this).call(this,n);return a.style.backgroundColor=n.getAttribute("value")||"",a}},{key:"selectItem",value:function(n,a){g(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"selectItem",this).call(this,n,a);var f=this.label.querySelector(".ql-color-label"),i=n&&n.getAttribute("data-value")||"";f&&(f.tagName==="line"?f.style.stroke=i:f.style.fill=i)}}]),s}(y.default);c.default=r},function(v,c,h){Object.defineProperty(c,"__esModule",{value:!0});var E=function(){function u(s,l){for(var n=0;n<l.length;n++){var a=l[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(s,a.key,a)}}return function(s,l,n){return l&&u(s.prototype,l),n&&u(s,n),s}}(),g=function u(s,l,n){s===null&&(s=Function.prototype);var a=Object.getOwnPropertyDescriptor(s,l);if(a===void 0){var f=Object.getPrototypeOf(s);return f===null?void 0:u(f,l,n)}else{if("value"in a)return a.value;var i=a.get;return i===void 0?void 0:i.call(n)}},_=h(28),y=m(_);function m(u){return u&&u.__esModule?u:{default:u}}function p(u,s){if(!(u instanceof s))throw new TypeError("Cannot call a class as a function")}function o(u,s){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s&&(typeof s=="object"||typeof s=="function")?s:u}function t(u,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof s);u.prototype=Object.create(s&&s.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),s&&(Object.setPrototypeOf?Object.setPrototypeOf(u,s):u.__proto__=s)}var r=function(u){t(s,u);function s(l,n){p(this,s);var a=o(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,l));return a.container.classList.add("ql-icon-picker"),[].forEach.call(a.container.querySelectorAll(".ql-picker-item"),function(f){f.innerHTML=n[f.getAttribute("data-value")||""]}),a.defaultItem=a.container.querySelector(".ql-selected"),a.selectItem(a.defaultItem),a}return E(s,[{key:"selectItem",value:function(n,a){g(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"selectItem",this).call(this,n,a),n=n||this.defaultItem,this.label.innerHTML=n.innerHTML}}]),s}(y.default);c.default=r},function(v,c,h){Object.defineProperty(c,"__esModule",{value:!0});var E=function(){function y(m,p){for(var o=0;o<p.length;o++){var t=p[o];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(m,t.key,t)}}return function(m,p,o){return p&&y(m.prototype,p),o&&y(m,o),m}}();function g(y,m){if(!(y instanceof m))throw new TypeError("Cannot call a class as a function")}var _=function(){function y(m,p){var o=this;g(this,y),this.quill=m,this.boundsContainer=p||document.body,this.root=m.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){o.root.style.marginTop=-1*o.quill.root.scrollTop+"px"}),this.hide()}return E(y,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(p){var o=p.left+p.width/2-this.root.offsetWidth/2,t=p.bottom+this.quill.root.scrollTop;this.root.style.left=o+"px",this.root.style.top=t+"px",this.root.classList.remove("ql-flip");var r=this.boundsContainer.getBoundingClientRect(),u=this.root.getBoundingClientRect(),s=0;if(u.right>r.right&&(s=r.right-u.right,this.root.style.left=o+s+"px"),u.left<r.left&&(s=r.left-u.left,this.root.style.left=o+s+"px"),u.bottom>r.bottom){var l=u.bottom-u.top,n=p.bottom-p.top+l;this.root.style.top=t-n+"px",this.root.classList.add("ql-flip")}return s}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),y}();c.default=_},function(v,c,h){Object.defineProperty(c,"__esModule",{value:!0});var E=function(){function j(b,w){var C=[],I=!0,k=!1,R=void 0;try{for(var M=b[Symbol.iterator](),W;!(I=(W=M.next()).done)&&(C.push(W.value),!(w&&C.length===w));I=!0);}catch(H){k=!0,R=H}finally{try{!I&&M.return&&M.return()}finally{if(k)throw R}}return C}return function(b,w){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return j(b,w);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),g=function j(b,w,C){b===null&&(b=Function.prototype);var I=Object.getOwnPropertyDescriptor(b,w);if(I===void 0){var k=Object.getPrototypeOf(b);return k===null?void 0:j(k,w,C)}else{if("value"in I)return I.value;var R=I.get;return R===void 0?void 0:R.call(C)}},_=function(){function j(b,w){for(var C=0;C<w.length;C++){var I=w[C];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(b,I.key,I)}}return function(b,w,C){return w&&j(b.prototype,w),C&&j(b,C),b}}(),y=h(3),m=f(y),p=h(8),o=f(p),t=h(43),r=f(t),u=h(27),s=f(u),l=h(15),n=h(41),a=f(n);function f(j){return j&&j.__esModule?j:{default:j}}function i(j,b){if(!(j instanceof b))throw new TypeError("Cannot call a class as a function")}function d(j,b){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:j}function O(j,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);j.prototype=Object.create(b&&b.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(j,b):j.__proto__=b)}var x=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],T=function(j){O(b,j);function b(w,C){i(this,b),C.modules.toolbar!=null&&C.modules.toolbar.container==null&&(C.modules.toolbar.container=x);var I=d(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,w,C));return I.quill.container.classList.add("ql-snow"),I}return _(b,[{key:"extendToolbar",value:function(C){C.container.classList.add("ql-snow"),this.buildButtons([].slice.call(C.container.querySelectorAll("button")),a.default),this.buildPickers([].slice.call(C.container.querySelectorAll("select")),a.default),this.tooltip=new q(this.quill,this.options.bounds),C.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(I,k){C.handlers.link.call(C,!k.format.link)})}}]),b}(r.default);T.DEFAULTS=(0,m.default)(!0,{},r.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(b){if(b){var w=this.quill.getSelection();if(w==null||w.length==0)return;var C=this.quill.getText(w);/^\S+@\S+\.\S+$/.test(C)&&C.indexOf("mailto:")!==0&&(C="mailto:"+C);var I=this.quill.theme.tooltip;I.edit("link",C)}else this.quill.format("link",!1)}}}}});var q=function(j){O(b,j);function b(w,C){i(this,b);var I=d(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,w,C));return I.preview=I.root.querySelector("a.ql-preview"),I}return _(b,[{key:"listen",value:function(){var C=this;g(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(I){C.root.classList.contains("ql-editing")?C.save():C.edit("link",C.preview.textContent),I.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(I){if(C.linkRange!=null){var k=C.linkRange;C.restoreFocus(),C.quill.formatText(k,"link",!1,o.default.sources.USER),delete C.linkRange}I.preventDefault(),C.hide()}),this.quill.on(o.default.events.SELECTION_CHANGE,function(I,k,R){if(I!=null){if(I.length===0&&R===o.default.sources.USER){var M=C.quill.scroll.descendant(s.default,I.index),W=E(M,2),H=W[0],D=W[1];if(H!=null){C.linkRange=new l.Range(I.index-D,H.length());var N=s.default.formats(H.domNode);C.preview.textContent=N,C.preview.setAttribute("href",N),C.show(),C.position(C.quill.getBounds(C.linkRange));return}}else delete C.linkRange;C.hide()}})}},{key:"show",value:function(){g(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),b}(t.BaseTooltip);q.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),c.default=T},function(v,c,h){Object.defineProperty(c,"__esModule",{value:!0});var E=h(29),g=X(E),_=h(36),y=h(38),m=h(64),p=h(65),o=X(p),t=h(66),r=X(t),u=h(67),s=X(u),l=h(37),n=h(26),a=h(39),f=h(40),i=h(56),d=X(i),O=h(68),x=X(O),T=h(27),q=X(T),j=h(69),b=X(j),w=h(70),C=X(w),I=h(71),k=X(I),R=h(72),M=X(R),W=h(73),H=X(W),D=h(13),N=X(D),L=h(74),B=X(L),z=h(75),F=X(z),P=h(57),U=X(P),G=h(41),K=X(G),J=h(28),te=X(J),ie=h(59),oe=X(ie),le=h(60),he=X(le),Oe=h(61),ge=X(Oe),Z=h(108),Y=X(Z),ee=h(62),re=X(ee);function X(se){return se&&se.__esModule?se:{default:se}}g.default.register({"attributors/attribute/direction":y.DirectionAttribute,"attributors/class/align":_.AlignClass,"attributors/class/background":l.BackgroundClass,"attributors/class/color":n.ColorClass,"attributors/class/direction":y.DirectionClass,"attributors/class/font":a.FontClass,"attributors/class/size":f.SizeClass,"attributors/style/align":_.AlignStyle,"attributors/style/background":l.BackgroundStyle,"attributors/style/color":n.ColorStyle,"attributors/style/direction":y.DirectionStyle,"attributors/style/font":a.FontStyle,"attributors/style/size":f.SizeStyle},!0),g.default.register({"formats/align":_.AlignClass,"formats/direction":y.DirectionClass,"formats/indent":m.IndentClass,"formats/background":l.BackgroundStyle,"formats/color":n.ColorStyle,"formats/font":a.FontClass,"formats/size":f.SizeClass,"formats/blockquote":o.default,"formats/code-block":N.default,"formats/header":r.default,"formats/list":s.default,"formats/bold":d.default,"formats/code":D.Code,"formats/italic":x.default,"formats/link":q.default,"formats/script":b.default,"formats/strike":C.default,"formats/underline":k.default,"formats/image":M.default,"formats/video":H.default,"formats/list/item":u.ListItem,"modules/formula":B.default,"modules/syntax":F.default,"modules/toolbar":U.default,"themes/bubble":Y.default,"themes/snow":re.default,"ui/icons":K.default,"ui/picker":te.default,"ui/icon-picker":he.default,"ui/color-picker":oe.default,"ui/tooltip":ge.default},!0),c.default=g.default},function(v,c,h){Object.defineProperty(c,"__esModule",{value:!0}),c.IndentClass=void 0;var E=function(){function s(l,n){for(var a=0;a<n.length;a++){var f=n[a];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(l,f.key,f)}}return function(l,n,a){return n&&s(l.prototype,n),a&&s(l,a),l}}(),g=function s(l,n,a){l===null&&(l=Function.prototype);var f=Object.getOwnPropertyDescriptor(l,n);if(f===void 0){var i=Object.getPrototypeOf(l);return i===null?void 0:s(i,n,a)}else{if("value"in f)return f.value;var d=f.get;return d===void 0?void 0:d.call(a)}},_=h(0),y=m(_);function m(s){return s&&s.__esModule?s:{default:s}}function p(s,l){if(!(s instanceof l))throw new TypeError("Cannot call a class as a function")}function o(s,l){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l&&(typeof l=="object"||typeof l=="function")?l:s}function t(s,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof l);s.prototype=Object.create(l&&l.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(s,l):s.__proto__=l)}var r=function(s){t(l,s);function l(){return p(this,l),o(this,(l.__proto__||Object.getPrototypeOf(l)).apply(this,arguments))}return E(l,[{key:"add",value:function(a,f){if(f==="+1"||f==="-1"){var i=this.value(a)||0;f=f==="+1"?i+1:i-1}return f===0?(this.remove(a),!0):g(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"add",this).call(this,a,f)}},{key:"canAdd",value:function(a,f){return g(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"canAdd",this).call(this,a,f)||g(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"canAdd",this).call(this,a,parseInt(f))}},{key:"value",value:function(a){return parseInt(g(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"value",this).call(this,a))||void 0}}]),l}(y.default.Attributor.Class),u=new r("indent","ql-indent",{scope:y.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});c.IndentClass=u},function(v,c,h){Object.defineProperty(c,"__esModule",{value:!0});var E=h(4),g=_(E);function _(t){return t&&t.__esModule?t:{default:t}}function y(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function m(t,r){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:t}function p(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(t,r):t.__proto__=r)}var o=function(t){p(r,t);function r(){return y(this,r),m(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return r}(g.default);o.blotName="blockquote",o.tagName="blockquote",c.default=o},function(v,c,h){Object.defineProperty(c,"__esModule",{value:!0});var E=function(){function r(u,s){for(var l=0;l<s.length;l++){var n=s[l];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(u,n.key,n)}}return function(u,s,l){return s&&r(u.prototype,s),l&&r(u,l),u}}(),g=h(4),_=y(g);function y(r){return r&&r.__esModule?r:{default:r}}function m(r,u){if(!(r instanceof u))throw new TypeError("Cannot call a class as a function")}function p(r,u){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:r}function o(r,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);r.prototype=Object.create(u&&u.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(r,u):r.__proto__=u)}var t=function(r){o(u,r);function u(){return m(this,u),p(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}return E(u,null,[{key:"formats",value:function(l){return this.tagName.indexOf(l.tagName)+1}}]),u}(_.default);t.blotName="header",t.tagName=["H1","H2","H3","H4","H5","H6"],c.default=t},function(v,c,h){Object.defineProperty(c,"__esModule",{value:!0}),c.default=c.ListItem=void 0;var E=function(){function i(d,O){for(var x=0;x<O.length;x++){var T=O[x];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(d,T.key,T)}}return function(d,O,x){return O&&i(d.prototype,O),x&&i(d,x),d}}(),g=function i(d,O,x){d===null&&(d=Function.prototype);var T=Object.getOwnPropertyDescriptor(d,O);if(T===void 0){var q=Object.getPrototypeOf(d);return q===null?void 0:i(q,O,x)}else{if("value"in T)return T.value;var j=T.get;return j===void 0?void 0:j.call(x)}},_=h(0),y=r(_),m=h(4),p=r(m),o=h(25),t=r(o);function r(i){return i&&i.__esModule?i:{default:i}}function u(i,d,O){return d in i?Object.defineProperty(i,d,{value:O,enumerable:!0,configurable:!0,writable:!0}):i[d]=O,i}function s(i,d){if(!(i instanceof d))throw new TypeError("Cannot call a class as a function")}function l(i,d){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:i}function n(i,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);i.prototype=Object.create(d&&d.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(i,d):i.__proto__=d)}var a=function(i){n(d,i);function d(){return s(this,d),l(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return E(d,[{key:"format",value:function(x,T){x===f.blotName&&!T?this.replaceWith(y.default.create(this.statics.scope)):g(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"format",this).call(this,x,T)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():g(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(x,T){return this.parent.isolate(this.offset(this.parent),this.length()),x===this.parent.statics.blotName?(this.parent.replaceWith(x,T),this):(this.parent.unwrap(),g(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"replaceWith",this).call(this,x,T))}}],[{key:"formats",value:function(x){return x.tagName===this.tagName?void 0:g(d.__proto__||Object.getPrototypeOf(d),"formats",this).call(this,x)}}]),d}(p.default);a.blotName="list-item",a.tagName="LI";var f=function(i){n(d,i),E(d,null,[{key:"create",value:function(x){var T=x==="ordered"?"OL":"UL",q=g(d.__proto__||Object.getPrototypeOf(d),"create",this).call(this,T);return(x==="checked"||x==="unchecked")&&q.setAttribute("data-checked",x==="checked"),q}},{key:"formats",value:function(x){if(x.tagName==="OL")return"ordered";if(x.tagName==="UL")return x.hasAttribute("data-checked")?x.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function d(O){s(this,d);var x=l(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,O)),T=function(j){if(j.target.parentNode===O){var b=x.statics.formats(O),w=y.default.find(j.target);b==="checked"?w.format("list","unchecked"):b==="unchecked"&&w.format("list","checked")}};return O.addEventListener("touchstart",T),O.addEventListener("mousedown",T),x}return E(d,[{key:"format",value:function(x,T){this.children.length>0&&this.children.tail.format(x,T)}},{key:"formats",value:function(){return u({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(x,T){if(x instanceof a)g(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"insertBefore",this).call(this,x,T);else{var q=T==null?this.length():T.offset(this),j=this.split(q);j.parent.insertBefore(x,j)}}},{key:"optimize",value:function(x){g(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"optimize",this).call(this,x);var T=this.next;T!=null&&T.prev===this&&T.statics.blotName===this.statics.blotName&&T.domNode.tagName===this.domNode.tagName&&T.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(T.moveChildren(this),T.remove())}},{key:"replace",value:function(x){if(x.statics.blotName!==this.statics.blotName){var T=y.default.create(this.statics.defaultChild);x.moveChildren(T),this.appendChild(T)}g(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"replace",this).call(this,x)}}]),d}(t.default);f.blotName="list",f.scope=y.default.Scope.BLOCK_BLOT,f.tagName=["OL","UL"],f.defaultChild="list-item",f.allowedChildren=[a],c.ListItem=a,c.default=f},function(v,c,h){Object.defineProperty(c,"__esModule",{value:!0});var E=h(56),g=_(E);function _(t){return t&&t.__esModule?t:{default:t}}function y(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function m(t,r){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:t}function p(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(t,r):t.__proto__=r)}var o=function(t){p(r,t);function r(){return y(this,r),m(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return r}(g.default);o.blotName="italic",o.tagName=["EM","I"],c.default=o},function(v,c,h){Object.defineProperty(c,"__esModule",{value:!0});var E=function(){function u(s,l){for(var n=0;n<l.length;n++){var a=l[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(s,a.key,a)}}return function(s,l,n){return l&&u(s.prototype,l),n&&u(s,n),s}}(),g=function u(s,l,n){s===null&&(s=Function.prototype);var a=Object.getOwnPropertyDescriptor(s,l);if(a===void 0){var f=Object.getPrototypeOf(s);return f===null?void 0:u(f,l,n)}else{if("value"in a)return a.value;var i=a.get;return i===void 0?void 0:i.call(n)}},_=h(6),y=m(_);function m(u){return u&&u.__esModule?u:{default:u}}function p(u,s){if(!(u instanceof s))throw new TypeError("Cannot call a class as a function")}function o(u,s){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s&&(typeof s=="object"||typeof s=="function")?s:u}function t(u,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof s);u.prototype=Object.create(s&&s.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),s&&(Object.setPrototypeOf?Object.setPrototypeOf(u,s):u.__proto__=s)}var r=function(u){t(s,u);function s(){return p(this,s),o(this,(s.__proto__||Object.getPrototypeOf(s)).apply(this,arguments))}return E(s,null,[{key:"create",value:function(n){return n==="super"?document.createElement("sup"):n==="sub"?document.createElement("sub"):g(s.__proto__||Object.getPrototypeOf(s),"create",this).call(this,n)}},{key:"formats",value:function(n){if(n.tagName==="SUB")return"sub";if(n.tagName==="SUP")return"super"}}]),s}(y.default);r.blotName="script",r.tagName=["SUB","SUP"],c.default=r},function(v,c,h){Object.defineProperty(c,"__esModule",{value:!0});var E=h(6),g=_(E);function _(t){return t&&t.__esModule?t:{default:t}}function y(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function m(t,r){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:t}function p(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(t,r):t.__proto__=r)}var o=function(t){p(r,t);function r(){return y(this,r),m(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return r}(g.default);o.blotName="strike",o.tagName="S",c.default=o},function(v,c,h){Object.defineProperty(c,"__esModule",{value:!0});var E=h(6),g=_(E);function _(t){return t&&t.__esModule?t:{default:t}}function y(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function m(t,r){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:t}function p(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(t,r):t.__proto__=r)}var o=function(t){p(r,t);function r(){return y(this,r),m(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return r}(g.default);o.blotName="underline",o.tagName="U",c.default=o},function(v,c,h){Object.defineProperty(c,"__esModule",{value:!0});var E=function(){function l(n,a){for(var f=0;f<a.length;f++){var i=a[f];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(n,a,f){return a&&l(n.prototype,a),f&&l(n,f),n}}(),g=function l(n,a,f){n===null&&(n=Function.prototype);var i=Object.getOwnPropertyDescriptor(n,a);if(i===void 0){var d=Object.getPrototypeOf(n);return d===null?void 0:l(d,a,f)}else{if("value"in i)return i.value;var O=i.get;return O===void 0?void 0:O.call(f)}},_=h(0),y=p(_),m=h(27);function p(l){return l&&l.__esModule?l:{default:l}}function o(l,n){if(!(l instanceof n))throw new TypeError("Cannot call a class as a function")}function t(l,n){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:l}function r(l,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);l.prototype=Object.create(n&&n.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(l,n):l.__proto__=n)}var u=["alt","height","width"],s=function(l){r(n,l);function n(){return o(this,n),t(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return E(n,[{key:"format",value:function(f,i){u.indexOf(f)>-1?i?this.domNode.setAttribute(f,i):this.domNode.removeAttribute(f):g(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"format",this).call(this,f,i)}}],[{key:"create",value:function(f){var i=g(n.__proto__||Object.getPrototypeOf(n),"create",this).call(this,f);return typeof f=="string"&&i.setAttribute("src",this.sanitize(f)),i}},{key:"formats",value:function(f){return u.reduce(function(i,d){return f.hasAttribute(d)&&(i[d]=f.getAttribute(d)),i},{})}},{key:"match",value:function(f){return/\.(jpe?g|gif|png)$/.test(f)||/^data:image\/.+;base64/.test(f)}},{key:"sanitize",value:function(f){return(0,m.sanitize)(f,["http","https","data"])?f:"//:0"}},{key:"value",value:function(f){return f.getAttribute("src")}}]),n}(y.default.Embed);s.blotName="image",s.tagName="IMG",c.default=s},function(v,c,h){Object.defineProperty(c,"__esModule",{value:!0});var E=function(){function l(n,a){for(var f=0;f<a.length;f++){var i=a[f];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(n,a,f){return a&&l(n.prototype,a),f&&l(n,f),n}}(),g=function l(n,a,f){n===null&&(n=Function.prototype);var i=Object.getOwnPropertyDescriptor(n,a);if(i===void 0){var d=Object.getPrototypeOf(n);return d===null?void 0:l(d,a,f)}else{if("value"in i)return i.value;var O=i.get;return O===void 0?void 0:O.call(f)}},_=h(4),y=h(27),m=p(y);function p(l){return l&&l.__esModule?l:{default:l}}function o(l,n){if(!(l instanceof n))throw new TypeError("Cannot call a class as a function")}function t(l,n){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:l}function r(l,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);l.prototype=Object.create(n&&n.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(l,n):l.__proto__=n)}var u=["height","width"],s=function(l){r(n,l);function n(){return o(this,n),t(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return E(n,[{key:"format",value:function(f,i){u.indexOf(f)>-1?i?this.domNode.setAttribute(f,i):this.domNode.removeAttribute(f):g(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"format",this).call(this,f,i)}}],[{key:"create",value:function(f){var i=g(n.__proto__||Object.getPrototypeOf(n),"create",this).call(this,f);return i.setAttribute("frameborder","0"),i.setAttribute("allowfullscreen",!0),i.setAttribute("src",this.sanitize(f)),i}},{key:"formats",value:function(f){return u.reduce(function(i,d){return f.hasAttribute(d)&&(i[d]=f.getAttribute(d)),i},{})}},{key:"sanitize",value:function(f){return m.default.sanitize(f)}},{key:"value",value:function(f){return f.getAttribute("src")}}]),n}(_.BlockEmbed);s.blotName="video",s.className="ql-video",s.tagName="IFRAME",c.default=s},function(v,c,h){Object.defineProperty(c,"__esModule",{value:!0}),c.default=c.FormulaBlot=void 0;var E=function(){function f(i,d){for(var O=0;O<d.length;O++){var x=d[O];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(i,x.key,x)}}return function(i,d,O){return d&&f(i.prototype,d),O&&f(i,O),i}}(),g=function f(i,d,O){i===null&&(i=Function.prototype);var x=Object.getOwnPropertyDescriptor(i,d);if(x===void 0){var T=Object.getPrototypeOf(i);return T===null?void 0:f(T,d,O)}else{if("value"in x)return x.value;var q=x.get;return q===void 0?void 0:q.call(O)}},_=h(35),y=r(_),m=h(5),p=r(m),o=h(9),t=r(o);function r(f){return f&&f.__esModule?f:{default:f}}function u(f,i){if(!(f instanceof i))throw new TypeError("Cannot call a class as a function")}function s(f,i){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i&&(typeof i=="object"||typeof i=="function")?i:f}function l(f,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof i);f.prototype=Object.create(i&&i.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(f,i):f.__proto__=i)}var n=function(f){l(i,f);function i(){return u(this,i),s(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return E(i,null,[{key:"create",value:function(O){var x=g(i.__proto__||Object.getPrototypeOf(i),"create",this).call(this,O);return typeof O=="string"&&(window.katex.render(O,x,{throwOnError:!1,errorColor:"#f00"}),x.setAttribute("data-value",O)),x}},{key:"value",value:function(O){return O.getAttribute("data-value")}}]),i}(y.default);n.blotName="formula",n.className="ql-formula",n.tagName="SPAN";var a=function(f){l(i,f),E(i,null,[{key:"register",value:function(){p.default.register(n,!0)}}]);function i(){u(this,i);var d=s(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return d}return i}(t.default);c.FormulaBlot=n,c.default=a},function(v,c,h){Object.defineProperty(c,"__esModule",{value:!0}),c.default=c.CodeToken=c.CodeBlock=void 0;var E=function(){function O(x,T){for(var q=0;q<T.length;q++){var j=T[q];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(x,j.key,j)}}return function(x,T,q){return T&&O(x.prototype,T),q&&O(x,q),x}}(),g=function O(x,T,q){x===null&&(x=Function.prototype);var j=Object.getOwnPropertyDescriptor(x,T);if(j===void 0){var b=Object.getPrototypeOf(x);return b===null?void 0:O(b,T,q)}else{if("value"in j)return j.value;var w=j.get;return w===void 0?void 0:w.call(q)}},_=h(0),y=s(_),m=h(5),p=s(m),o=h(9),t=s(o),r=h(13),u=s(r);function s(O){return O&&O.__esModule?O:{default:O}}function l(O,x){if(!(O instanceof x))throw new TypeError("Cannot call a class as a function")}function n(O,x){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:O}function a(O,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);O.prototype=Object.create(x&&x.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(O,x):O.__proto__=x)}var f=function(O){a(x,O);function x(){return l(this,x),n(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return E(x,[{key:"replaceWith",value:function(q){this.domNode.textContent=this.domNode.textContent,this.attach(),g(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"replaceWith",this).call(this,q)}},{key:"highlight",value:function(q){var j=this.domNode.textContent;this.cachedText!==j&&((j.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=q(j),this.domNode.normalize(),this.attach()),this.cachedText=j)}}]),x}(u.default);f.className="ql-syntax";var i=new y.default.Attributor.Class("token","hljs",{scope:y.default.Scope.INLINE}),d=function(O){a(x,O),E(x,null,[{key:"register",value:function(){p.default.register(i,!0),p.default.register(f,!0)}}]);function x(T,q){l(this,x);var j=n(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,T,q));if(typeof j.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var b=null;return j.quill.on(p.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(b),b=setTimeout(function(){j.highlight(),b=null},j.options.interval)}),j.highlight(),j}return E(x,[{key:"highlight",value:function(){var q=this;if(!this.quill.selection.composing){this.quill.update(p.default.sources.USER);var j=this.quill.getSelection();this.quill.scroll.descendants(f).forEach(function(b){b.highlight(q.options.highlight)}),this.quill.update(p.default.sources.SILENT),j!=null&&this.quill.setSelection(j,p.default.sources.SILENT)}}}]),x}(t.default);d.DEFAULTS={highlight:function(){return window.hljs==null?null:function(O){var x=window.hljs.highlightAuto(O);return x.value}}(),interval:1e3},c.CodeBlock=f,c.CodeToken=i,c.default=d},function(v,c){v.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(v,c){v.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(v,c){v.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(v,c){v.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(v,c){v.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(v,c){v.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(v,c){v.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(v,c){v.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(v,c){v.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(v,c){v.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(v,c){v.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(v,c){v.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(v,c){v.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(v,c){v.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(v,c){v.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(v,c){v.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(v,c){v.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(v,c){v.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(v,c){v.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(v,c){v.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(v,c){v.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(v,c){v.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(v,c){v.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(v,c){v.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(v,c){v.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(v,c){v.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(v,c){v.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(v,c){v.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(v,c){v.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(v,c){v.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(v,c){v.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(v,c){v.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(v,c,h){Object.defineProperty(c,"__esModule",{value:!0}),c.default=c.BubbleTooltip=void 0;var E=function x(T,q,j){T===null&&(T=Function.prototype);var b=Object.getOwnPropertyDescriptor(T,q);if(b===void 0){var w=Object.getPrototypeOf(T);return w===null?void 0:x(w,q,j)}else{if("value"in b)return b.value;var C=b.get;return C===void 0?void 0:C.call(j)}},g=function(){function x(T,q){for(var j=0;j<q.length;j++){var b=q[j];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(T,b.key,b)}}return function(T,q,j){return q&&x(T.prototype,q),j&&x(T,j),T}}(),_=h(3),y=l(_),m=h(8),p=l(m),o=h(43),t=l(o),r=h(15),u=h(41),s=l(u);function l(x){return x&&x.__esModule?x:{default:x}}function n(x,T){if(!(x instanceof T))throw new TypeError("Cannot call a class as a function")}function a(x,T){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:x}function f(x,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);x.prototype=Object.create(T&&T.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(x,T):x.__proto__=T)}var i=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],d=function(x){f(T,x);function T(q,j){n(this,T),j.modules.toolbar!=null&&j.modules.toolbar.container==null&&(j.modules.toolbar.container=i);var b=a(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,q,j));return b.quill.container.classList.add("ql-bubble"),b}return g(T,[{key:"extendToolbar",value:function(j){this.tooltip=new O(this.quill,this.options.bounds),this.tooltip.root.appendChild(j.container),this.buildButtons([].slice.call(j.container.querySelectorAll("button")),s.default),this.buildPickers([].slice.call(j.container.querySelectorAll("select")),s.default)}}]),T}(t.default);d.DEFAULTS=(0,y.default)(!0,{},t.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(T){T?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var O=function(x){f(T,x);function T(q,j){n(this,T);var b=a(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,q,j));return b.quill.on(p.default.events.EDITOR_CHANGE,function(w,C,I,k){if(w===p.default.events.SELECTION_CHANGE)if(C!=null&&C.length>0&&k===p.default.sources.USER){b.show(),b.root.style.left="0px",b.root.style.width="",b.root.style.width=b.root.offsetWidth+"px";var R=b.quill.getLines(C.index,C.length);if(R.length===1)b.position(b.quill.getBounds(C));else{var M=R[R.length-1],W=b.quill.getIndex(M),H=Math.min(M.length()-1,C.index+C.length-W),D=b.quill.getBounds(new r.Range(W,H));b.position(D)}}else document.activeElement!==b.textbox&&b.quill.hasFocus()&&b.hide()}),b}return g(T,[{key:"listen",value:function(){var j=this;E(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){j.root.classList.remove("ql-editing")}),this.quill.on(p.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!j.root.classList.contains("ql-hidden")){var b=j.quill.getSelection();b!=null&&j.position(j.quill.getBounds(b))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(j){var b=E(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"position",this).call(this,j),w=this.root.querySelector(".ql-tooltip-arrow");if(w.style.marginLeft="",b===0)return b;w.style.marginLeft=-1*b-w.offsetWidth/2+"px"}}]),T}(o.BaseTooltip);O.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),c.BubbleTooltip=O,c.default=d},function(v,c,h){v.exports=h(63)}]).default})}(yt)),yt.exports}var Ce,ka;function wu(){if(ka)return Ce;ka=1;var S=Ce&&Ce.__extends||function(){var p=function(o,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,u){r.__proto__=u}||function(r,u){for(var s in u)u.hasOwnProperty(s)&&(r[s]=u[s])},p(o,t)};return function(o,t){p(o,t);function r(){this.constructor=o}o.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),A=Ce&&Ce.__assign||function(){return A=Object.assign||function(p){for(var o,t=1,r=arguments.length;t<r;t++){o=arguments[t];for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(p[u]=o[u])}return p},A.apply(this,arguments)},v=Ce&&Ce.__spreadArrays||function(){for(var p=0,o=0,t=arguments.length;o<t;o++)p+=arguments[o].length;for(var r=Array(p),u=0,o=0;o<t;o++)for(var s=arguments[o],l=0,n=s.length;l<n;l++,u++)r[u]=s[l];return r},c=Ce&&Ce.__importDefault||function(p){return p&&p.__esModule?p:{default:p}},h=c(lo()),E=c(so()),g=c(_u()),_=c(Ou()),y=function(p){S(o,p);function o(t){var r=p.call(this,t)||this;r.dirtyProps=["modules","formats","bounds","theme","children"],r.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],r.state={generation:0},r.selection=null,r.onEditorChange=function(s,l,n,a){var f,i,d,O;s==="text-change"?(i=(f=r).onEditorChangeText)===null||i===void 0||i.call(f,r.editor.root.innerHTML,l,a,r.unprivilegedEditor):s==="selection-change"&&((O=(d=r).onEditorChangeSelection)===null||O===void 0||O.call(d,l,a,r.unprivilegedEditor))};var u=r.isControlled()?t.value:t.defaultValue;return r.value=u!=null?u:"",r}return o.prototype.validateProps=function(t){var r;if(h.default.Children.count(t.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(h.default.Children.count(t.children)){var u=h.default.Children.only(t.children);if(((r=u)===null||r===void 0?void 0:r.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&t.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},o.prototype.shouldComponentUpdate=function(t,r){var u=this,s;if(this.validateProps(t),!this.editor||this.state.generation!==r.generation)return!0;if("value"in t){var l=this.getEditorContents(),n=(s=t.value,s!=null?s:"");this.isEqualValue(n,l)||this.setEditorContents(this.editor,n)}return t.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,t.readOnly),v(this.cleanProps,this.dirtyProps).some(function(a){return!g.default(t[a],u.props[a])})},o.prototype.shouldComponentRegenerate=function(t){var r=this;return this.dirtyProps.some(function(u){return!g.default(t[u],r.props[u])})},o.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},o.prototype.componentWillUnmount=function(){this.destroyEditor()},o.prototype.componentDidUpdate=function(t,r){var u=this;if(this.editor&&this.shouldComponentRegenerate(t)){var s=this.editor.getContents(),l=this.editor.getSelection();this.regenerationSnapshot={delta:s,selection:l},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==r.generation){var n=this.regenerationSnapshot,s=n.delta,a=n.selection;delete this.regenerationSnapshot,this.instantiateEditor();var f=this.editor;f.setContents(s),m(function(){return u.setEditorSelection(f,a)})}},o.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},o.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},o.prototype.isControlled=function(){return"value"in this.props},o.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},o.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},o.prototype.createEditor=function(t,r){var u=new _.default(t,r);return r.tabIndex!=null&&this.setEditorTabIndex(u,r.tabIndex),this.hookEditor(u),u},o.prototype.hookEditor=function(t){this.unprivilegedEditor=this.makeUnprivilegedEditor(t),t.on("editor-change",this.onEditorChange)},o.prototype.unhookEditor=function(t){t.off("editor-change",this.onEditorChange)},o.prototype.getEditorContents=function(){return this.value},o.prototype.getEditorSelection=function(){return this.selection},o.prototype.isDelta=function(t){return t&&t.ops},o.prototype.isEqualValue=function(t,r){return this.isDelta(t)&&this.isDelta(r)?g.default(t.ops,r.ops):g.default(t,r)},o.prototype.setEditorContents=function(t,r){var u=this;this.value=r;var s=this.getEditorSelection();typeof r=="string"?t.setContents(t.clipboard.convert(r)):t.setContents(r),m(function(){return u.setEditorSelection(t,s)})},o.prototype.setEditorSelection=function(t,r){if(this.selection=r,r){var u=t.getLength();r.index=Math.max(0,Math.min(r.index,u-1)),r.length=Math.max(0,Math.min(r.length,u-1-r.index)),t.setSelection(r)}},o.prototype.setEditorTabIndex=function(t,r){var u,s;!((s=(u=t)===null||u===void 0?void 0:u.scroll)===null||s===void 0)&&s.domNode&&(t.scroll.domNode.tabIndex=r)},o.prototype.setEditorReadOnly=function(t,r){r?t.disable():t.enable()},o.prototype.makeUnprivilegedEditor=function(t){var r=t;return{getHTML:function(){return r.root.innerHTML},getLength:r.getLength.bind(r),getText:r.getText.bind(r),getContents:r.getContents.bind(r),getSelection:r.getSelection.bind(r),getBounds:r.getBounds.bind(r)}},o.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var t=E.default.findDOMNode(this.editingArea);if(!t)throw new Error("Cannot find element for editing area");if(t.nodeType===3)throw new Error("Editing area cannot be a text node");return t},o.prototype.renderEditingArea=function(){var t=this,r=this.props,u=r.children,s=r.preserveWhitespace,l=this.state.generation,n={key:l,ref:function(a){t.editingArea=a}};return h.default.Children.count(u)?h.default.cloneElement(h.default.Children.only(u),n):s?h.default.createElement("pre",A({},n)):h.default.createElement("div",A({},n))},o.prototype.render=function(){var t;return h.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(t=this.props.className,t!=null?t:""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},o.prototype.onEditorChangeText=function(t,r,u,s){var l,n;if(this.editor){var a=this.isDelta(this.value)?s.getContents():s.getHTML();a!==this.getEditorContents()&&(this.lastDeltaChangeSet=r,this.value=a,(n=(l=this.props).onChange)===null||n===void 0||n.call(l,t,r,u,s))}},o.prototype.onEditorChangeSelection=function(t,r,u){var s,l,n,a,f,i;if(this.editor){var d=this.getEditorSelection(),O=!d&&t,x=d&&!t;g.default(t,d)||(this.selection=t,(l=(s=this.props).onChangeSelection)===null||l===void 0||l.call(s,t,r,u),O?(a=(n=this.props).onFocus)===null||a===void 0||a.call(n,t,r,u):x&&((i=(f=this.props).onBlur)===null||i===void 0||i.call(f,d,r,u)))}},o.prototype.focus=function(){this.editor&&this.editor.focus()},o.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},o.displayName="React Quill",o.Quill=_.default,o.defaultProps={theme:"snow",modules:{},readOnly:!1},o}(h.default.Component);function m(p){Promise.resolve().then(p)}return Ce=y,Ce}wu();const Su=()=>{var u,s;const{shineSection:S,updateShineSection:A}=Ge(),[v,c]=$.useState(!1),[h,E]=$.useState(!1),[g,_]=$.useState({heading:S==null?void 0:S.heading,description:S==null?void 0:S.description,features:S==null?void 0:S.features});$.useEffect(()=>{_(S)},[S]);const y=l=>{_(n=>Q(V({},n),{heading:l.target.value}))},m=l=>{_(n=>Q(V({},n),{description:l.target.value}))},p=(l,n,a)=>{const f=[...g.features];f[l][n]=a,_(i=>Q(V({},i),{features:f}))},o=()=>{_(l=>Q(V({},l),{features:[...l.features,{title:"",description:"",image:""}]}))},t=l=>{const n=g.features.filter((a,f)=>f!==l);_(a=>Q(V({},a),{features:n}))},r=()=>xe(void 0,null,function*(){var a,f;if(!(g!=null&&g.heading)||!(g!=null&&g.description)){alert("Heading and description are required.");return}if(!(g!=null&&g.features)||g.features.length===0){alert("At least one feature is required.");return}const l=((a=g==null?void 0:g.description)==null?void 0:a.trim().split(/\s+/).length)||0,n=(f=g==null?void 0:g.features)==null?void 0:f.some(i=>{var O;return(((O=i==null?void 0:i.description)==null?void 0:O.trim().split(/\s+/).length)||0)>130});if(l>130||n){alert("Descriptions should not exceed 130 words");return}try{const i=g.features.filter(O=>O.title||O.description||O.image).map(O=>({title:O.title||"",description:O.description||"",image:O.image||""})),d={heading:g.heading,description:g.description,features:i};yield A(d)}catch(i){console.error("Error updating shine section:",i)}});return e.jsxs("div",{children:[e.jsx("div",{onClick:()=>c(!0),className:"myGlobalButton",children:"Shine Section"}),e.jsxs(qe,{open:v,onClose:()=>c(!1),maxWidth:"md",fullWidth:!0,children:[e.jsx(Re,{children:"Shine Section"}),e.jsx(Le,{dividers:!0,children:e.jsxs("div",{style:{padding:20},children:[e.jsx(ne,{label:"Heading",variant:"outlined",fullWidth:!0,value:g==null?void 0:g.heading,onChange:y,style:{marginBottom:20}}),e.jsx(ne,{label:"Description",variant:"outlined",fullWidth:!0,multiline:!0,rows:4,value:g==null?void 0:g.description,onChange:m,style:{marginBottom:20},helperText:`${((u=g==null?void 0:g.description)==null?void 0:u.trim().split(/\s+/).length)||0}/130 words`,error:(((s=g==null?void 0:g.description)==null?void 0:s.trim().split(/\s+/).length)||0)>130}),e.jsx(_e,{container:!0,spacing:3,children:g!=null&&g.features&&(g==null?void 0:g.features.length)>0?g==null?void 0:g.features.map((l,n)=>e.jsx(_e,{item:!0,xs:12,sm:6,md:4,children:e.jsxs(_t,{elevation:3,style:{padding:16,marginBottom:20},children:[e.jsx(Fe,{color:"error",onClick:()=>t(n),style:{marginBottom:10},children:e.jsx(De,{})}),e.jsx(ne,{label:"Feature Title",variant:"outlined",fullWidth:!0,value:l.title,onChange:a=>p(n,"title",a.target.value),style:{marginBottom:10}}),e.jsx(ne,{label:"Feature Description",variant:"outlined",fullWidth:!0,multiline:!0,rows:3,value:l.description,onChange:a=>p(n,"description",a.target.value),style:{marginBottom:10},helperText:`${l.description.trim().split(/\s+/).length}/130 words`,error:l.description.trim().split(/\s+/).length>130}),e.jsx(Me,{feature:l,handleFeatureChange:(a,f)=>p(n,a,f),setImageUpload:E,index:n}),l.image&&e.jsx("img",{src:l.image,alt:`Feature ${n}`,style:{width:"100%",marginBottom:10}})]})},l._id)):e.jsx(ye,{variant:"body1",color:"textSecondary",children:"No features available."})}),e.jsx(ae,{variant:"contained",color:"primary",startIcon:e.jsx(We,{}),onClick:o,style:{marginTop:20,marginRight:10},children:"Add Feature"})]})}),e.jsxs(ke,{children:[e.jsx(ae,{onClick:()=>c(!1),color:"secondary",children:"Cancel"}),e.jsx(ae,{variant:"contained",onClick:()=>{r(),c(!1)},color:"primary",disabled:h,children:"Update Shine Section"})]})]})]})},Eu=["","home","whysunstar","coorporatebooking","developera and owners","event and conference","social event","Weddings & Special Occasions","Corporate Events","career","travel-agent","tours and travel"],ku=()=>{const[S,A]=$.useState(""),{data:v=[],isLoading:c,error:h}=bl({page:S});xl();const E=_l(),g=jl(),_=Ol(),[y,m]=$.useState({clientHeading:"",clients:[]}),[p,o]=$.useState([]),[t,r]=$.useState(!1);$.useEffect(()=>{m({clientHeading:"",clients:v.map(d=>({_id:d._id,name:d.name,location:d.location,heading:d.heading,description:d.description}))}),o([])},[v]);const u=d=>{A(d.target.value)},s=()=>r(!0),l=()=>r(!1),n=(d,O,x)=>{const T=[...y.clients];T[d]=Q(V({},T[d]),{[O]:x}),m(Q(V({},y),{clients:T}))},a=()=>{m(Q(V({},y),{clients:[...y.clients,{name:"",location:"",heading:"",description:""}]}))},f=d=>{const O=y.clients[d];O._id&&o(x=>[...x,O._id]),m(Q(V({},y),{clients:y.clients.filter((x,T)=>T!==d)}))},i=()=>{if(y.clients.some(x=>x.description.trim().split(/\s+/).length>100)){ve.error("Each description must be 100 words or fewer.");return}y.clients.filter(x=>x._id).forEach(x=>{E.mutate({id:x._id,updateData:{name:x.name,location:x.location,heading:x.heading,description:x.description,page:S}})});const O=y.clients.filter(x=>!x._id).map(x=>({name:x.name,location:x.location,heading:x.heading,description:x.description,page:S}));O.length&&g.mutate(O),p.forEach(x=>_.mutate(x)),r(!1),ve.success("Testimonials saved successfully")};return e.jsxs("div",{children:[e.jsx("div",{className:"myGlobalButton",onClick:s,children:"Edit Testimonials"}),e.jsxs(qe,{open:t,onClose:l,fullWidth:!0,maxWidth:"md",children:[e.jsxs(Re,{children:['Edit Testimonials for "',S||"Default",'"']}),e.jsxs(Le,{dividers:!0,children:[e.jsxs(wt,{fullWidth:!0,margin:"normal",children:[e.jsx(St,{children:"Choose Page"}),e.jsx(Et,{labelId:"page-select-label",value:S,label:"Choose Page",onChange:u,displayEmpty:!0,renderValue:d=>d===""?"Default Testimonials":d,children:Eu.map(d=>e.jsx(nt,{value:d,className:"capitalize",children:d===""?"Default Testimonials":d},d))})]}),y.clients.map((d,O)=>e.jsx(Pe,{sx:{p:2,mb:2},children:e.jsxs(de,{display:"flex",flexDirection:"column",gap:2,children:[e.jsx(ne,{label:"Name",value:d.name,onChange:x=>n(O,"name",x.target.value)}),e.jsx(ne,{label:"Location",value:d.location,onChange:x=>n(O,"location",x.target.value)}),e.jsx(ne,{label:"Heading",value:d.heading,onChange:x=>n(O,"heading",x.target.value)}),e.jsx(ne,{label:"Description",multiline:!0,rows:3,value:d.description,onChange:x=>n(O,"description",x.target.value),helperText:`${d.description.trim().split(/\s+/).length}/100 words`,error:d.description.trim().split(/\s+/).length>100}),e.jsx(ae,{variant:"outlined",color:"error",startIcon:e.jsx(De,{}),onClick:()=>f(O),children:"Delete"})]})},d._id||O)),e.jsx(ae,{variant:"contained",startIcon:e.jsx(We,{}),onClick:a,children:"Add Testimonial"})]}),e.jsxs(ke,{children:[e.jsx(ae,{onClick:l,children:"Cancel"}),e.jsx(ae,{variant:"contained",onClick:i,children:"Save Changes"})]})]})]})},gt={hero:{title:"",desc:""},advantages:[]};function Tu(S,A){return JSON.stringify(S)===JSON.stringify(A)}const Nu=()=>{const[S,A]=$.useState(!1),[v,c]=$.useState(gt),[h,E]=$.useState(null),g=$.useRef(null),{data:_,isLoading:y,isFetching:m,refetch:p}=wl(),o=Sl();$.useEffect(()=>{S&&p()},[S,p]),$.useEffect(()=>{var f,i,d,O;if(_){const x={hero:{title:(i=(f=_.hero)==null?void 0:f.title)!=null?i:"",desc:(O=(d=_.hero)==null?void 0:d.desc)!=null?O:""},advantages:Array.isArray(_.advantages)?_.advantages.map(T=>{var q,j;return{title:(q=T.title)!=null?q:"",desc:(j=T.desc)!=null?j:"",types:Array.isArray(T.types)?T.types.map(b=>{var w,C;return{title:(w=b.title)!=null?w:"",desc:(C=b.desc)!=null?C:""}}):[]}}):[]};c(x),E(x)}else!y&&!_&&(c(gt),E(gt))},[_,y]),$.useEffect(()=>{function f(i){i.key==="Escape"&&A(!1)}return S&&window.addEventListener("keydown",f),()=>window.removeEventListener("keydown",f)},[S]);function t(f){g.current&&!g.current.contains(f.target)&&A(!1)}const r=(f,i)=>{c(d=>Q(V({},d),{hero:Q(V({},d.hero),{[f]:i})}))},u=(f,i,d)=>{c(O=>{const x=[...O.advantages||[]];return x[f]=Q(V({},x[f]),{[i]:d}),Q(V({},O),{advantages:x})})},s=(f,i,d,O)=>{c(x=>{const T=[...x.advantages||[]],q=[...T[f].types||[]];return q[i]=Q(V({},q[i]),{[d]:O}),T[f]=Q(V({},T[f]),{types:q}),Q(V({},x),{advantages:T})})},l=()=>{if(!v.hero.title||v.hero.title.trim()==="")return ve.error("Hero title is required"),!1;for(let f=0;f<(v.advantages||[]).length;f++){const i=v.advantages[f];if(!i.title||i.title.trim()==="")return ve.error(`Section #${f+1} title is required`),!1;for(let d=0;d<(i.types||[]).length;d++){const O=i.types[d];if(!O.title||O.title.trim()==="")return ve.error(`Type #${d+1} in section #${f+1} needs a title`),!1}}return!0},n=()=>xe(void 0,null,function*(){var f,i;if(l())try{yield o.mutateAsync(v),ve.success("Tour & Travel content saved"),E(v),A(!1)}catch(d){console.error(d),ve.error(((i=(f=d==null?void 0:d.response)==null?void 0:f.data)==null?void 0:i.message)||"Failed to save")}}),a=!Tu(v,h);return e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"myGlobalButton",onClick:()=>A(!0),"aria-haspopup":"dialog","aria-expanded":S,children:"Tours & Travel"}),S&&e.jsx("div",{className:"tt-modal-overlay",onMouseDown:t,style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:2e3},"aria-modal":"true",role:"dialog","aria-label":"Edit Tours and Travel content",children:e.jsxs("div",{ref:g,className:"tt-modal",onMouseDown:f=>f.stopPropagation(),style:{background:"#fff",width:"min(1000px, 96%)",maxHeight:"90vh",overflowY:"auto",borderRadius:8,padding:20,boxShadow:"0 10px 30px rgba(0,0,0,0.2)"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12},children:[e.jsx("h2",{style:{margin:0},children:"Edit Tours & Travel"}),e.jsx("div",{children:e.jsx("button",{onClick:()=>A(!1),"aria-label":"Close",style:{background:"transparent",border:"none",fontSize:18,cursor:"pointer"},children:"✕"})})]}),y||m?e.jsx("div",{style:{padding:20},children:"Loading content…"}):e.jsxs("div",{children:[e.jsxs("section",{style:{marginBottom:18},children:[e.jsx("h3",{style:{marginBottom:8},children:"Hero"}),e.jsxs("label",{style:{display:"block",marginBottom:6},children:[e.jsxs("div",{style:{fontSize:13,marginBottom:4},children:["Title ",e.jsx("span",{style:{color:"red"},children:"*"})]}),e.jsx("input",{type:"text",value:v.hero.title,onChange:f=>r("title",f.target.value),placeholder:"Hero title",style:{width:"100%",padding:8,borderRadius:6,border:"1px solid #ddd"}})]}),e.jsxs("label",{style:{display:"block"},children:[e.jsx("div",{style:{fontSize:13,marginBottom:4},children:"Description"}),e.jsx("textarea",{value:v.hero.desc,onChange:f=>r("desc",f.target.value),placeholder:"Hero description",rows:3,style:{width:"100%",padding:8,borderRadius:6,border:"1px solid #ddd"}})]})]}),e.jsxs("section",{children:[e.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:e.jsx("h3",{style:{marginBottom:8},children:"Advantages"})}),(v.advantages||[]).length===0&&e.jsx("div",{style:{color:"#666",padding:"8px 0"},children:"No advantage sections yet. Add one to begin."}),(v.advantages||[]).map((f,i)=>e.jsxs("div",{style:{border:"1px solid #eee",padding:12,borderRadius:6,marginBottom:12},children:[e.jsx("div",{style:{display:"flex",justifyContent:"space-between",gap:8},children:e.jsxs("div",{style:{flex:1},children:[e.jsxs("label",{style:{display:"block",marginBottom:6},children:[e.jsxs("div",{style:{fontSize:13,marginBottom:4},children:["Section title ",e.jsx("span",{style:{color:"red"},children:"*"})]}),e.jsx("input",{type:"text",value:f.title,onChange:d=>u(i,"title",d.target.value),placeholder:"Section title",style:{width:"100%",padding:8,borderRadius:6,border:"1px solid #ddd"}})]}),e.jsxs("label",{style:{display:"block"},children:[e.jsx("div",{style:{fontSize:13,marginBottom:4},children:"Section description"}),e.jsx("textarea",{value:f.desc,onChange:d=>u(i,"desc",d.target.value),placeholder:"Section description",rows:2,style:{width:"100%",padding:8,borderRadius:6,border:"1px solid #ddd"}})]})]})}),e.jsxs("div",{style:{marginTop:10},children:[Array.isArray(f.types)&&f.types.length===0&&e.jsx("div",{style:{color:"#666",marginTop:8},children:"No types yet for this section."}),f.types&&f.types.map((d,O)=>e.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr auto",gap:8,marginTop:8,alignItems:"start"},children:e.jsxs("div",{children:[e.jsx("input",{type:"text",value:d.title,onChange:x=>s(i,O,"title",x.target.value),placeholder:"Type title",style:{width:"100%",padding:8,borderRadius:6,border:"1px solid #ddd",marginBottom:6}}),e.jsx("textarea",{value:d.desc,onChange:x=>s(i,O,"desc",x.target.value),placeholder:"Type description (optional)",rows:2,style:{width:"100%",padding:8,borderRadius:6,border:"1px solid #ddd"}})]})},O))]})]},i))]}),e.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:8,marginTop:12},children:[e.jsx("button",{onClick:()=>{c(h!=null?h:gt)},disabled:!a,style:{padding:"8px 12px",borderRadius:6,border:"1px solid #ccc",background:a?"#fff":"#f5f5f5",cursor:a?"pointer":"not-allowed"},children:"Reset"}),e.jsx("button",{onClick:n,disabled:o.isLoading||!a,style:{padding:"8px 14px",borderRadius:6,border:"none",background:o.isLoading||!a?"#aaa":"#0070f3",color:"#fff",cursor:o.isLoading||!a?"not-allowed":"pointer"},children:o.isLoading?"Saving…":"Save"})]})]})]})})]})},Ta=({open:S,onClose:A,children:v,title:c,footer:h})=>S?e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:A}),e.jsxs("div",{className:"relative z-10 w-full max-w-5xl max-h-[92vh] overflow-hidden rounded-2xl bg-white shadow-2xl animate-in fade-in zoom-in-95 duration-300",children:[e.jsxs("div",{className:"sticky top-0 z-20 flex items-center justify-between gap-4 border-b border-gray-200 bg-gradient-to-r from-slate-50 to-white px-6 py-4",children:[e.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-cyan-600 bg-clip-text text-transparent",children:c}),e.jsx("button",{className:"p-2 rounded-lg hover:bg-gray-100",onClick:A,children:e.jsx(Ot,{size:20,className:"text-gray-600"})})]}),e.jsx("div",{className:"overflow-y-auto p-6 max-h-[calc(92vh-60px)]",children:v}),h&&e.jsx("div",{className:"border-t border-gray-200 bg-white px-6 py-4",children:h})]})]}):null,Au=v=>{var c=v,{label:S}=c,A=Ne(c,["label"]);return e.jsxs("label",{className:"block group",children:[e.jsx("span",{className:"text-sm font-semibold text-gray-700 mb-2 block",children:S}),e.jsx("input",Q(V({},A),{className:`w-full rounded-lg border border-gray-300 px-4 py-2.5 outline-none transition-all duration-200 focus:border-blue-500 focus:ring-2 focus:ring-blue-100 hover:border-gray-400 ${A.className||""}`}))]})},Na=v=>{var c=v,{label:S}=c,A=Ne(c,["label"]);return e.jsxs("label",{className:"block",children:[e.jsx("span",{className:"text-sm font-semibold text-gray-700 mb-2 block",children:S}),e.jsx("textarea",Q(V({},A),{className:`w-full rounded-lg border border-gray-300 px-4 py-2.5 outline-none transition-all duration-200 focus:border-blue-500 focus:ring-2 focus:ring-blue-100 hover:border-gray-400 min-h-[90px] resize-none ${A.className||""}`}))]})},Cu=({title:S,children:A,onSave:v,saving:c,actions:h})=>e.jsxs("div",{className:"rounded-xl border border-gray-200 bg-gradient-to-br from-white to-gray-50 p-6 shadow-sm hover:shadow-md transition-shadow duration-300",children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:S}),e.jsxs("div",{className:"flex gap-2 items-center",children:[h,v&&e.jsx("button",{onClick:v,disabled:c,className:"inline-flex items-center gap-2 rounded-lg bg-gradient-to-r from-blue-600 to-blue-700 px-4 py-2 text-sm font-medium text-white shadow-md hover:shadow-lg disabled:opacity-60",children:c?e.jsxs(e.Fragment,{children:[e.jsx(Ie,{size:16,className:"animate-spin"}),"Saving…"]}):e.jsxs(e.Fragment,{children:[e.jsx(Ze,{size:16}),"Save"]})})]})]}),e.jsx("div",{className:"space-y-4",children:A})]}),Pu=()=>{const[S,A]=$.useState(!1),{data:v,isFetching:c}=El({enabled:S}),h=kl(),E=Tl(),g=Nl(),_=Al(),y=Cl(),[m,p]=$.useState({heading:"",description:""}),o=$.useMemo(()=>{var a,f;return(f=(a=v==null?void 0:v.partnerWithUs)==null?void 0:a.cards)!=null?f:[]},[v]),t=$.useMemo(()=>{var a,f;return(f=(a=v==null?void 0:v.howItWorks)==null?void 0:a.cards)!=null?f:[]},[v]);$.useEffect(()=>{var a,f,i,d;v&&p({heading:(f=(a=v==null?void 0:v.hero)==null?void 0:a.heading)!=null?f:"",description:(d=(i=v==null?void 0:v.hero)==null?void 0:i.description)!=null?d:""})},[v]);const[r,u]=$.useState(null),[s,l]=$.useState(""),n=()=>xe(void 0,null,function*(){const f=s.split(`
`).map(i=>i.trim()).filter(Boolean).map(i=>{const[d,...O]=i.split(":");return O.length?{title:d.trim(),description:O.join(":").trim()}:{title:i.split(" ").slice(0,3).join(" "),description:i}});yield g.mutateAsync({section:r,cards:f}),l(""),u(null)});return e.jsxs("div",{children:[e.jsx("button",{onClick:()=>A(!0),className:"myGlobalButton",children:"Manage Travel Agent"}),e.jsxs(Ta,{open:S,onClose:()=>A(!1),title:"Manage Travel Agent",children:[c&&e.jsxs("div",{className:"mb-6 rounded-lg border border-amber-200 bg-gradient-to-r from-amber-50 to-orange-50 p-4 flex items-center gap-3",children:[e.jsx(Ie,{size:18,className:"text-amber-600 animate-spin"}),e.jsx("p",{className:"text-sm font-medium text-amber-800",children:"Loading latest data…"})]}),e.jsx(Cu,{title:"Hero",onSave:()=>h.mutate(m),saving:h.isPending,children:e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsx(Au,{label:"Heading",value:m.heading,onChange:a=>p(f=>Q(V({},f),{heading:a.target.value}))}),e.jsx(Na,{label:"Description",value:m.description,onChange:a=>p(f=>Q(V({},f),{description:a.target.value}))})]})}),e.jsx(jt,{title:"Partner With Us — Cards",cards:o,onAdd:()=>E.mutate({section:"partner",title:"New Partner Benefit",description:"Describe the partner benefit…"}),adding:E.isPending,onUpdate:(a,f)=>_.mutate({section:"partner",cardId:a,update:f}),onDelete:a=>y.mutate({section:"partner",cardId:a}),emptyMessage:"No partner cards yet.",fields:[{name:"title",label:"Title",type:"text"},{name:"description",label:"Description",type:"textarea"}]}),e.jsx(jt,{title:"How It Works — Cards",cards:t,onAdd:()=>E.mutate({section:"howitworks",title:"Step title",description:"Explain the step…"}),adding:E.isPending,onUpdate:(a,f)=>_.mutate({section:"howitworks",cardId:a,update:f}),onDelete:a=>y.mutate({section:"howitworks",cardId:a}),emptyMessage:"No how-it-works cards yet.",fields:[{name:"title",label:"Title",type:"text"},{name:"description",label:"Description",type:"textarea"}]})]}),e.jsx(Ta,{open:!!r,onClose:()=>u(null),title:r==="partner"?"Bulk Add — Partner With Us":"Bulk Add — How It Works",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx(Na,{label:"Items",placeholder:`Sign Up: Create your partner account
Approve: Get verified and start
Earn: Send bookings & earn`,value:s,onChange:a=>l(a.target.value)}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx("button",{className:"rounded-lg px-4 py-2 bg-gray-100 hover:bg-gray-200",onClick:()=>u(null),children:"Cancel"}),e.jsx("button",{className:"rounded-lg px-4 py-2 bg-emerald-600 text-white hover:bg-emerald-700 disabled:opacity-60",disabled:!s.trim()||g.isPending,onClick:n,children:g.isPending?"Adding…":"Add Items"})]})]})})]})},qu=()=>{var T,q;const[S,A]=$.useState(!1),{offeringSection:v,updateOfferingSection:c}=Ge(),[h,E]=$.useState(!1),[g,_]=$.useState(!1),[y,m]=$.useState(null),[p,o]=$.useState(null),[t,r]=$.useState("home"),[u,s]=$.useState({heading:"",offers:[]}),l=[{value:"home",label:"Home Page"},{value:"whySunstar",label:"Why Sunstar"},{value:"corporate",label:"Corporate"},{value:"comeShineWithUs",label:"Come Shine With Us"}];$.useEffect(()=>{if(v){const j=v[t]||{heading:"",offers:[]},b=Q(V({},j),{offers:(j.offers||[]).map(w=>({title:w.title||"",description:w.description||"",image:w.image||"",link:w.link||"",buttonText:w.buttonText||""}))});s(b)}},[v,t]);const n=()=>{s(j=>Q(V({},j),{offers:[...j.offers,{title:"",description:"",image:"",link:"",buttonText:""}]}))},a=j=>{s(b=>Q(V({},b),{offers:b.offers.filter((w,C)=>C!==j)}))},f=(j,b,w)=>{s(C=>{const I=[...C.offers];return I[j]=Q(V({},I[j]),{[b]:w}),Q(V({},C),{offers:I})})},i=j=>{s(Q(V({},u),{heading:j.target.value}))},d=j=>xe(void 0,null,function*(){if(j.preventDefault(),_(!0),m(null),o(null),u.offers.some(w=>w.description.trim().split(/\s+/).length>60)){m("Description should not exceed 60 words"),_(!1);return}try{if(c){const w=yield c({whatWeOffers:u,page:t});o("Offerings updated successfully!")}else o("Offerings updated successfully! (dummy)")}catch(w){console.error(w),m("Failed to update offerings.")}finally{_(!1)}}),O=()=>A(!0),x=()=>A(!1);return e.jsxs("div",{children:[e.jsx("div",{onClick:O,className:"myGlobalButton",children:"What We Offers Section"}),e.jsx(qe,{open:S,onClose:x,fullWidth:!0,maxWidth:"md",children:e.jsxs(de,{component:"form",onSubmit:d,children:[e.jsx(Re,{children:"What We Offers Section"}),e.jsxs(Le,{children:[e.jsx(de,{sx:{mb:3,mt:1},children:e.jsxs(wt,{fullWidth:!0,children:[e.jsx(St,{children:"Select Page"}),e.jsx(Et,{value:t,label:"Select Page",onChange:j=>r(j.target.value),children:l.map(j=>e.jsx(nt,{value:j.value,children:j.label},j.value))})]})}),e.jsxs(ye,{variant:"h5",gutterBottom:!0,children:["Edit Content for: ",(T=l.find(j=>j.value===t))==null?void 0:T.label]}),e.jsx(ne,{label:"Heading",variant:"outlined",fullWidth:!0,value:u.heading||"",onChange:i,sx:{mb:3}}),(q=u==null?void 0:u.offers)==null?void 0:q.map((j,b)=>e.jsxs(de,{sx:{mb:4,p:2,border:"1px solid #ccc",borderRadius:2,position:"relative"},children:[e.jsxs(ye,{variant:"h6",children:["Offering ",b+1]}),e.jsx(ne,{label:"Title",variant:"outlined",fullWidth:!0,margin:"normal",value:j.title,onChange:w=>f(b,"title",w.target.value)}),e.jsx(ne,{label:"Description",variant:"outlined",fullWidth:!0,margin:"normal",multiline:!0,rows:4,value:j.description,onChange:w=>f(b,"description",w.target.value),helperText:`${j.description.trim().split(/\s+/).length}/60 words`,error:j.description.trim().split(/\s+/).length>60}),e.jsx(ne,{label:"Link (optional)",placeholder:"https://example.com/your-service",variant:"outlined",fullWidth:!0,margin:"normal",value:j.link||"",onChange:w=>f(b,"link",w.target.value)}),e.jsx(ne,{label:"Button Text (optional)",placeholder:"e.g. Read More, Book Now",variant:"outlined",fullWidth:!0,margin:"normal",value:j.buttonText||"",onChange:w=>f(b,"buttonText",w.target.value)}),j.image&&e.jsxs(de,{sx:{mt:2,display:"flex",alignItems:"center"},children:[e.jsx(ye,{variant:"caption",sx:{mr:1},children:"Image Preview:"}),e.jsx(de,{component:"img",src:j.image,alt:`Offering ${b+1} preview`,sx:{width:100,height:60,objectFit:"cover",border:"1px solid #ccc",borderRadius:"4px",marginBottom:"20px"}})]}),e.jsx(Me,{feature:j,handleFeatureChange:(w,C)=>f(b,w,C),setImageUpload:E,index:b}),e.jsx(ae,{variant:"outlined",color:"error",startIcon:e.jsx(De,{}),onClick:()=>a(b),sx:{mt:1},children:"Remove Offering"})]},`${b}`)),e.jsx(ae,{variant:"outlined",onClick:n,sx:{mt:2},children:"Add New Offering"}),y&&e.jsx(ye,{variant:"body2",color:"error",sx:{mt:2},children:y}),p&&e.jsx(ye,{variant:"body2",color:"primary",sx:{mt:2},children:p})]}),e.jsx(ke,{children:e.jsxs(de,{sx:{mt:2,mr:4,display:"flex",justifyContent:"flex-end"},children:[e.jsx(ae,{onClick:x,color:"primary",sx:{mx:4},children:"Close"}),e.jsx(ae,{type:"submit",variant:"contained",color:"primary",disabled:g||h,children:g?e.jsx(Ve,{size:24}):"Update Offerings"})]})})]})})]})},Nc=()=>e.jsxs("div",{className:"p-8 pt-24 flex flex-col gap-8 bg-gray-100 min-h-screen  ",children:[e.jsx("h1",{className:"text-desktop/h3",children:"Pages Sections"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-10",children:[e.jsx(rs,{}),e.jsx(os,{}),e.jsx(Kl,{}),e.jsx(Gl,{}),e.jsx(Zl,{}),e.jsx(is,{}),e.jsx(Wl,{}),e.jsx(Pu,{}),e.jsx(Vl,{}),e.jsx(Ql,{}),e.jsx(Nu,{})]}),e.jsx("h1",{className:"text-desktop/h3",children:"Common Sections"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-10",children:[e.jsx(ts,{}),e.jsx(Su,{}),e.jsx(qu,{}),e.jsx(ku,{}),e.jsx(Xl,{}),e.jsx(ls,{})]})]});export{Nc as default};
