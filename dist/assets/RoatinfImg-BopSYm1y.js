import{c as j,j as s,y as w,r as x,f as b,m as p}from"./index-CfYmzgbV.js";import{C as v}from"./Calendar-B3IL6KP7.js";const y=j(s.jsx("path",{d:"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star"),I={some:0,all:1};function N(e,r,{root:a,margin:m,amount:t="some"}={}){const i=w(e),n=new WeakMap,o=f=>{f.forEach(c=>{const u=n.get(c.target);if(c.isIntersecting!==!!u)if(c.isIntersecting){const d=r(c);typeof d=="function"?n.set(c.target,d):l.unobserve(c.target)}else u&&(u(c),n.delete(c.target))})},l=new IntersectionObserver(o,{root:a,rootMargin:m,threshold:typeof t=="number"?t:I[t]});return i.forEach(f=>l.observe(f)),()=>l.disconnect()}function C(e,{root:r,margin:a,amount:m,once:t=!1}={}){const[i,n]=x.useState(!1);return x.useEffect(()=>{if(!e.current||t&&i)return;const o=()=>(n(!0),t?void 0:()=>n(!1)),l={root:r&&r.current||void 0,margin:a,amount:m};return N(e.current,o,l)},[r,e,a,t,m]),i}const k=({hotel:e,close:r})=>{var c,u;const a={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:1.3,ease:"easeInOut"}}},[m,t]=x.useState(!1),[,i]=x.useState(null),[,n]=x.useState(null);x.useEffect(()=>{const d=localStorage.getItem("checkInDate"),g=localStorage.getItem("checkOutDate");d&&g&&(i(d),n(g))},[]);const o=((c=e==null?void 0:e.amenities)==null?void 0:c.slice(0,3))||[],l=(((u=e==null?void 0:e.amenities)==null?void 0:u.length)||0)-o.length,f=()=>{localStorage.setItem("hotelInfo",JSON.stringify(e)),t(!0).then(()=>{r()})};return s.jsxs(p.div,{className:"bg-primary-white rounded-2xl shadow-lg overflow-hidden w-full h-full transition-transform duration-300 hover:scale-105 flex flex-col",variants:a,initial:"hidden",animate:"visible",children:[s.jsx("img",{src:e==null?void 0:e.images[0],alt:e.name,className:"w-full h-48 object-cover"}),s.jsxs("div",{className:"p-4 flex flex-col flex-grow justify-between",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-start gap-4",children:[s.jsx("h1",{className:"text-xl font-bold text-black",children:e==null?void 0:e.name}),s.jsxs("span",{className:"bg-primary-green text-primary-white text-xs font-semibold px-2 py-1 rounded-full flex items-center",children:[s.jsx(y,{className:"text-primary-yellow text-sm mr-1"}),e.rating]})]}),s.jsxs("ul",{className:"flex items-center mt-2 flex-wrap",children:[o.length>0?o.map((d,g)=>{const h=typeof d=="object"?d.value:d;return s.jsx("li",{className:"bg-gradient-to-r from-primary-green to-primary-green text-primary-white text-xs px-3 py-1 rounded-full m-1",children:s.jsx("span",{children:h})},g)}):s.jsx("li",{children:"No amenities listed"}),l>0&&s.jsxs("li",{className:"text-gray-600 text-xs m-1",children:["+",l," more"]})]})]}),s.jsxs("div",{className:"mt-4 w-full",children:[s.jsxs("div",{className:"text-start",children:[s.jsxs("span",{className:"text-2xl leading-none font-bold text-primary-green",children:["â‚¹ ",e==null?void 0:e.price,s.jsx("span",{className:"text-gray-400 text-sm font-medium",children:" / night onwards"}),s.jsx("br",{}),s.jsx("span",{className:"text-gray-400 text-sm font-medium",children:"Incl. taxes"})]}),s.jsx("p",{className:"text-primary-green text-[12px] font-semibold",children:"Lowest Price, Guaranteed!"})]}),s.jsx("button",{onClick:f,className:"bg-primary-green cursor-pointer w-full text-primary-white px-4 py-2 rounded-lg shadow-md flex justify-center items-center transition duration-300 hover:bg-primary-dark-green mt-4",children:"Select Hotel"})]})]}),m&&s.jsx("div",{className:"fixed inset-0 flex justify-center items-center z-50",children:s.jsx(v,{setCheckInDate:i,setCheckOutDate:n,setOpenCalender:t,hotelCode:e.hotelCode})})]})},O=({data:e,close:r})=>{var n;const a=x.useRef(null),m=C(a,{once:!0}),{data:t}=b(),i=e||t;return s.jsx(p.div,{ref:a,className:"grid grid-cols-1 items-stretch bg-primary-white sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3 xl:grid-cols-3 gap-6 p-6",initial:{opacity:0},animate:m?{opacity:1}:{opacity:0},transition:{duration:1.3,ease:"easeInOut"},children:(n=i==null?void 0:i.hotels)==null?void 0:n.map((o,l)=>s.jsx(k,{hotel:o,close:r},l))})},H=({position:e,src:r="/images/HomepageImages/RoundPatternSection2.svg",divClass:a="relative"})=>s.jsx("div",{className:`${a} w-full h-full`,children:s.jsx("img",{src:r,alt:"Background Pattern",className:`absolute rotating-image top-0 ${e} lg:w-auto w-[10em] `})});export{O as H,H as R};
