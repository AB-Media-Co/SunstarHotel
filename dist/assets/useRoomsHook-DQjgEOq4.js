var g=(o,a,s)=>new Promise((e,n)=>{var r=t=>{try{c(s.next(t))}catch(m){n(m)}},u=t=>{try{c(s.throw(t))}catch(m){n(m)}},c=t=>t.done?e(t.value):Promise.resolve(t.value).then(r,u);c((s=s.apply(o,a)).next())});import{g as E,f as d,h as p,x as q,y as h}from"./index-CpVBVbB-.js";const T=(o,a,s,e,n={})=>{var u,c,t,m,l,w;const r=!!(o&&a&&s&&e)&&((u=n.enabled)!=null?u:!0);return E({queryKey:["rooms",o,a,s,e],enabled:r,queryFn:f=>g(void 0,[f],function*({signal:i}){try{return(yield d.get("/api/ezee/syncedRooms",{params:{hotelCode:o,authCode:a,fromDate:s,toDate:e},signal:i})).data}catch(y){throw y}}),staleTime:(c=n.staleTime)!=null?c:1e3*60*5,gcTime:(t=n.gcTime)!=null?t:1e3*60*30,refetchOnWindowFocus:(m=n.refetchOnWindowFocus)!=null?m:!1,keepPreviousData:(l=n.keepPreviousData)!=null?l:!0,retry:(w=n.retry)!=null?w:1,onError:i=>{var f,y;console.log(i),p.error("Error fetching rooms: "+(((y=(f=i==null?void 0:i.response)==null?void 0:f.data)==null?void 0:y.error)||i.message))}})},_=(o,a,s,e)=>{const n=q();return h({mutationFn:r=>g(void 0,null,function*(){if(!r._id)throw new Error("Room ID (_id) is required for updating a room");return(yield d.put(`/api/ezee/rooms/${r._id}`,r,{params:{hotelCode:o,authCode:a,fromDate:s,toDate:e}})).data}),onSuccess:()=>{n.invalidateQueries({queryKey:["rooms",o,a,s,e]}),p.success("Room updated successfully")},onError:r=>{var u,c;p.error("Error updating room: "+(((c=(u=r==null?void 0:r.response)==null?void 0:u.data)==null?void 0:c.error)||r.message))}})},v=o=>g(void 0,null,function*(){var a,s;try{return(yield d.get(`/api/ezee/room/${o}`)).data}catch(e){throw p.error("Error fetching room: "+(((s=(a=e==null?void 0:e.response)==null?void 0:a.data)==null?void 0:s.error)||e.message)),e}});export{_ as a,v as g,T as u};
