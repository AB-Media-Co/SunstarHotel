var Re=Object.defineProperty,Ye=Object.defineProperties;var Oe=Object.getOwnPropertyDescriptors;var ue=Object.getOwnPropertySymbols;var Qe=Object.prototype.hasOwnProperty,Ve=Object.prototype.propertyIsEnumerable;var me=(s,a,m)=>a in s?Re(s,a,{enumerable:!0,configurable:!0,writable:!0,value:m}):s[a]=m,r=(s,a)=>{for(var m in a||(a={}))Qe.call(a,m)&&me(s,m,a[m]);if(ue)for(var m of ue(a))Ve.call(a,m)&&me(s,m,a[m]);return s},c=(s,a)=>Ye(s,Oe(a));var z=(s,a,m)=>new Promise((y,N)=>{var w=d=>{try{t(m.next(d))}catch(j){N(j)}},g=d=>{try{t(m.throw(d))}catch(j){N(j)}},t=d=>d.done?y(d.value):Promise.resolve(d.value).then(w,g);t((m=m.apply(s,a)).next())});import{j as e,r as S,a as ze,h as A}from"./index-Kj3knSog.js";import{useAddHotel as _e,useEditHotel as Ke,uploadImagesAPIV2 as K}from"./useHotelHook2-CoeoE2sM.js";import{M as B}from"./MultipleImageUpload-DK0VJ4tu.js";import{u as Be}from"./useUpdatePagesHook-DSINXOom.js";import{I as Ge}from"./ImageUpload-GDMRwb_D.js";import{u as We}from"./useLocationHook-DVmwPRU3.js";import{F as ie}from"./FormControlLabel-0GoN7TSJ.js";import{S as Je}from"./Switch-CzRBhzRy.js";import{A as Xe}from"./Autocomplete-6o0xt6Mm.js";import{c as Ze}from"./TextField-7KJqB9OX.js";const De=({formData:s,handleAboutUsChange:a,handleAboutUsFeatureChange:m})=>e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"About Us Description:"}),e.jsx("textarea",{name:"description",value:s.aboutUs.description,onChange:a,placeholder:"Enter about us description",className:"w-full md:h-[180px] border rounded-md p-3 focus:ring focus:ring-blue-200"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"About Us Image:"}),e.jsx(Ge,{feature:s.aboutUs,handleFeatureChange:m,setImageUpload:()=>{},index:0})]})]}),es=({formData:s,setFormData:a,testimonialInput:m,setTestimonialInput:y,handleAddTestimonial:N,handleRemoveTestimonial:w})=>{const[g,t]=S.useState(null),[d,j]=S.useState({name:"",location:"",heading:"",description:""}),U=h=>{t(h),j(r({},s.testimonials[h]))},C=h=>{const{name:i,value:v}=h.target;j(F=>c(r({},F),{[i]:v}))},P=h=>{const i=[...s.testimonials];i[h]=d,a(v=>c(r({},v),{testimonials:i})),t(null)},x=()=>{t(null)};return e.jsxs("div",{className:"space-y-8",children:[e.jsx("div",{children:s.testimonials.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:s.testimonials.map((h,i)=>e.jsx("div",{className:"border rounded-lg p-6 shadow-md hover:shadow-xl transition-shadow bg-white",children:g===i?e.jsxs(e.Fragment,{children:[e.jsx("input",{type:"text",name:"heading",value:d.heading,onChange:C,placeholder:"Edit Heading",className:"text-xl font-bold text-blue-600 mb-2 border rounded p-2 w-full"}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"font-medium",children:"Name: "}),e.jsx("input",{type:"text",name:"name",value:d.name,onChange:C,className:"border rounded p-2 w-full"})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"font-medium",children:"Location: "}),e.jsx("input",{type:"text",name:"location",value:d.location,onChange:C,className:"border rounded p-2 w-full"})]}),e.jsx("textarea",{name:"description",value:d.description,onChange:C,placeholder:"Edit testimonial description",className:"border rounded p-2 w-full mb-2"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{type:"button",onClick:()=>P(i),className:"bg-green-500 hover:bg-green-600 text-white font-medium py-2 px-4 rounded",children:"Save"}),e.jsx("button",{type:"button",onClick:x,className:"bg-gray-500 hover:bg-gray-600 text-white font-medium py-2 px-4 rounded",children:"Cancel"})]})]}):e.jsxs(e.Fragment,{children:[e.jsx("h4",{className:"text-xl font-bold text-blue-600 mb-2",children:h.heading}),e.jsxs("p",{className:"text-gray-800 font-medium",children:["Name: ",e.jsx("span",{className:"font-normal",children:h.name})]}),e.jsxs("p",{className:"text-gray-800 font-medium",children:["Location: ",e.jsx("span",{className:"font-normal",children:h.location})]}),e.jsx("p",{className:"text-gray-700 mt-2",children:h.description}),e.jsxs("div",{className:"flex gap-4 mt-4",children:[e.jsx("button",{type:"button",onClick:()=>U(i),className:"inline-block text-blue-500 hover:underline font-medium",children:"Edit"}),e.jsx("button",{type:"button",onClick:()=>w(i),className:"inline-block text-red-500 hover:underline font-medium",children:"Remove"})]})]})},i))}):e.jsx("p",{className:"text-gray-600 text-center",children:"No testimonials added yet."})}),e.jsxs("div",{className:"border rounded-lg p-6 shadow-sm bg-gray-50",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"Add Testimonial"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Name:"}),e.jsx("input",{type:"text",name:"name",value:m.name,onChange:h=>{const{value:i}=h.target;y(v=>c(r({},v),{name:i}))},placeholder:"Enter name",className:"w-full border rounded-md p-2 focus:outline-none focus:ring-2 focus:ring-blue-200"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Location:"}),e.jsx("input",{type:"text",name:"location",value:m.location,onChange:h=>{const{value:i}=h.target;y(v=>c(r({},v),{location:i}))},placeholder:"Enter location",className:"w-full border rounded-md p-2 focus:outline-none focus:ring-2 focus:ring-blue-200"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Heading:"}),e.jsx("input",{type:"text",name:"heading",value:m.heading,onChange:h=>{const{value:i}=h.target;y(v=>c(r({},v),{heading:i}))},placeholder:"Enter heading",className:"w-full border rounded-md p-2 focus:outline-none focus:ring-2 focus:ring-blue-200"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Description:"}),e.jsx("textarea",{name:"description",value:m.description,onChange:h=>{const{value:i}=h.target;y(v=>c(r({},v),{description:i}))},placeholder:"Enter testimonial description",className:"w-full border rounded-md p-2 focus:outline-none focus:ring-2 focus:ring-blue-200"})]})]}),e.jsx("button",{type:"button",onClick:N,className:"mt-6 w-full bg-green-500 hover:bg-green-600 text-white font-medium py-3 rounded-md transition-colors",children:"Add Testimonial"})]})]})},ss=({formData:s,isUploading:a,handleImagesUpload:m,handleRemoveImageUrl:y})=>e.jsx("div",{className:"space-y-5",children:e.jsx(B,{onUploadSuccess:m,isUploading:a,imagesUrls:s.images,onRemoveImageUrl:y})}),os=({formData:s,handleHotelAddressChange:a,handleTransportChange:m,transportLocations:y,pointsOfInterest:N,locationInputs:w,handleLocationInputChange:g,addLocationItem:t,removeLocationItem:d,handleCityLocationChange:j})=>{const{data:U,isLoading:C,isError:P}=We();return e.jsxs("div",{className:"space-y-8",children:[e.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-yellow-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-yellow-700",children:"Please fill in the correct location information. Accuracy is important for guest experience."})})]})}),e.jsxs("div",{className:"flex gap-4 w-full",children:[e.jsxs("div",{className:"bg-white border  w-full rounded-lg p-6 shadow-md transition-shadow duration-300",children:[e.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Hotel Address"}),e.jsx("input",{type:"text",name:"hotelAddress",value:s.location.hotelAddress,onChange:a,required:!0,placeholder:"Enter hotel address",className:"w-full border rounded-lg p-3 focus:outline-none focus:ring-2 focus:ring-blue-200"})]}),e.jsxs("div",{className:"bg-white border  w-full rounded-lg p-6 shadow-md transition-shadow duration-300",children:[e.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Select City"}),C?e.jsx("p",{children:"Loading cities..."}):P?e.jsx("p",{children:"Error loading cities"}):e.jsxs("select",{value:s.cityLocation||"",onChange:j,className:"w-full border rounded-lg p-3 focus:outline-none focus:ring-2 focus:ring-blue-200",children:[e.jsx("option",{value:"",children:"Select a city"}),U&&U.map(x=>e.jsx("option",{value:x._id,children:x.name},x._id))]})]})]}),e.jsxs("div",{className:"flex flex-col gap-4 w-full",children:[e.jsx("h3",{className:"text-xl font-semibold mt-6",children:"Transportation Options"}),e.jsx("div",{className:"flex gap-6 w-full",children:y.map(x=>e.jsxs("div",{className:"bg-white border w-full rounded-lg p-6 shadow-md transition-shadow duration-300",children:[e.jsx("h3",{className:"text-xl font-semibold capitalize",children:x==="railwayStation"?"Railway Station":x}),e.jsx("input",{type:"text",placeholder:"Enter name",value:s.location[x]||"",onChange:h=>m(x,h.target.value),className:"w-full border rounded-md p-2 focus:outline-none focus:ring-2 focus:ring-blue-200"})]},x))})]}),e.jsx("h3",{className:"text-xl font-semibold mt-6",children:"Points of Interest"}),N.map(x=>e.jsxs("div",{className:"bg-white border rounded-lg p-6 shadow-md transition-shadow duration-300",children:[e.jsx("h3",{className:"text-xl font-semibold capitalize",children:x}),s.location[x]&&s.location[x].length>0&&e.jsx("ul",{className:"mb-4 space-y-2",children:s.location[x].map((h,i)=>e.jsxs("li",{className:"flex justify-between items-center bg-gray-100 rounded-md p-3",children:[e.jsx("span",{className:"text-gray-800",children:h.name}),e.jsx("button",{type:"button",onClick:()=>d(x,i),className:"text-red-500 hover:underline font-medium",children:"Remove"})]},i))}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4",children:[e.jsx("input",{type:"text",placeholder:"Name",value:w[x].name,onChange:h=>g(x,"name",h.target.value),className:"w-full border rounded-md p-2 focus:outline-none focus:ring-2 focus:ring-blue-200"}),e.jsx("button",{type:"button",onClick:()=>t(x),className:"bg-blue-500 text-white px-4 py-2 rounded-md",children:"Add"})]})]},x))]})},ns=({rating:s,onChange:a,maxRating:m=5})=>{const y=w=>{a(w)},N=w=>{a(w-.5)};return e.jsxs("div",{className:"flex relative",children:[Array.from({length:m},(w,g)=>{const t=g+1,d=s>=t,j=!d&&s>=t-.5;return e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 w-1/2 cursor-pointer z-10",onClick:()=>N(t)}),e.jsx("div",{className:"absolute inset-y-0 right-0 w-1/2 cursor-pointer z-10",onClick:()=>y(t)}),e.jsx("div",{className:"flex",children:d?e.jsx("span",{className:"text-4xl text-yellow-500",children:"★"}):j?e.jsxs("div",{className:"relative text-4xl",children:[e.jsx("span",{className:"text-gray-300",children:"★"}),e.jsx("div",{className:"absolute inset-0 overflow-hidden w-1/2",children:e.jsx("span",{className:"text-yellow-500",children:"★"})})]}):e.jsx("span",{className:"text-4xl text-gray-300",children:"★"})})]},g)}),e.jsx("span",{className:"ml-2 text-lg self-center",children:s.toFixed(1)})]})},he=({initialTime:s,onChange:a,name:m})=>{const[y,N]=S.useState(!1),[w,g]=S.useState(s||""),[t,d]=S.useState(12),[j,U]=S.useState(0),[C,P]=S.useState("AM"),[x,h]=S.useState("hour");S.useEffect(()=>{s&&i(s)},[s]);const i=p=>{if(p)try{if(p.includes("AM")||p.includes("PM")){const[H,M]=p.split(" "),[q,_]=H.split(":");d(parseInt(q,10)),U(parseInt(_,10)),P(M);return}const[k,I]=p.split(":"),E=parseInt(k,10);d(E>12?E-12:E===0?12:E),U(parseInt(I,10)),P(E>=12?"PM":"AM")}catch(k){}},v=()=>`${t}:${j.toString().padStart(2,"0")} ${C}`,F=()=>{h(x==="hour"?"minute":"hour")},Y=p=>{d(p),h("minute")},O=p=>{U(p);const k=`${t}:${p.toString().padStart(2,"0")} ${C}`;g(k),a&&a({target:{name:m,value:k,type:"text"}})},$=p=>{P(p);const k=`${t}:${j.toString().padStart(2,"0")} ${p}`;g(k),a&&a({target:{name:m,value:k,type:"text"}})},L=()=>{const p=v();g(p),N(!1),a&&a({target:{name:m,value:p,type:"text"}})},Q=()=>x==="hour"?Array.from({length:12},(p,k)=>{const I=k+1,E=I/12*2*Math.PI-Math.PI/2,H=80,M=Math.cos(E)*H+100,q=Math.sin(E)*H+100;return e.jsx("div",{className:`absolute rounded-full h-8 w-8 flex items-center justify-center cursor-pointer ${t===I?"bg-blue-500 text-white":"hover:bg-blue-100"}`,style:{left:`${M}px`,top:`${q}px`,transform:"translate(-50%, -50%)"},onClick:()=>Y(I),children:I},I)}):Array.from({length:12},(p,k)=>{const I=k*5,E=I/60*2*Math.PI-Math.PI/2,H=80,M=Math.cos(E)*H+100,q=Math.sin(E)*H+100;return e.jsx("div",{className:`absolute rounded-full h-8 w-8 flex items-center justify-center cursor-pointer ${j===I?"bg-blue-500 text-white":"hover:bg-blue-100"}`,style:{left:`${M}px`,top:`${q}px`,transform:"translate(-50%, -50%)"},onClick:()=>O(I),children:I},I)}),V=()=>x==="hour"?{transform:`translate(0, 0) rotate(${t%12/12*2*Math.PI-Math.PI/2+Math.PI/2}rad)`,transformOrigin:"bottom center",height:"60px"}:{transform:`translate(0, 0) rotate(${j/60*2*Math.PI-Math.PI/2+Math.PI/2}rad)`,transformOrigin:"bottom center",height:"70px"};return e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"w-full border rounded-md p-3 cursor-pointer flex justify-between items-center bg-white",onClick:()=>N(!y),children:[e.jsx("span",{children:w||"Select Time"}),e.jsx("svg",{className:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})]}),y&&e.jsxs("div",{className:"absolute z-20 mt-1 p-4 bg-white shadow-xl rounded-lg border",style:{width:"250px"},children:[e.jsxs("div",{className:"mb-4 text-center text-2xl font-bold cursor-pointer",onClick:F,children:[t,":",j.toString().padStart(2,"0"),e.jsx("span",{className:"ml-2",children:C})]}),e.jsxs("div",{className:"flex justify-center mb-4 space-x-4",children:[e.jsx("button",{className:`px-4 py-1 rounded ${C==="AM"?"bg-blue-500 text-white":"bg-gray-200"}`,onClick:()=>$("AM"),children:"AM"}),e.jsx("button",{className:`px-4 py-1 rounded ${C==="PM"?"bg-blue-500 text-white":"bg-gray-200"}`,onClick:()=>$("PM"),children:"PM"})]}),e.jsxs("div",{className:"relative w-48 h-48 mx-auto mb-4",children:[e.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-gray-200"}),e.jsx("div",{className:"absolute rounded-full bg-blue-500 h-3 w-3",style:{left:"100px",top:"100px",transform:"translate(-50%, -50%)"}}),e.jsx("div",{className:"absolute w-1 bg-blue-500 rounded-full",style:c(r({},V()),{left:"100px",bottom:"100px"})}),Q()]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("button",{className:"px-4 py-2 bg-gray-200 rounded-md hover:bg-gray-300",onClick:()=>N(!1),children:"Cancel"}),e.jsx("button",{className:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600",onClick:L,children:"Apply"})]})]})]})},ts=({formData:s,handleDetailsChange:a,amenities:m,handleAmenitiesChange:y,setFormData:N})=>{console.log("DetailsTab formData:",s);const w=g=>{g.target,a(g)};return e.jsxs("div",{className:"space-y-5",children:[e.jsx(ie,{control:e.jsx(ie,{control:e.jsx(Je,{checked:s.payAtHotel==="yes",onChange:g=>a({target:{name:"payAtHotel",value:g.target.checked?"yes":"no",checked:g.target.checked,type:"checkbox"}}),color:"primary"}),label:"Pay at Hotel"})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Name:"}),e.jsx("input",{type:"text",name:"name",value:s.name,onChange:a,required:!0,placeholder:"Enter hotel name",className:"w-full border rounded-md p-3 focus:ring focus:ring-blue-200"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Rating:"}),e.jsx(ns,{rating:s.rating,onChange:g=>a({target:{name:"rating",value:g,type:"number"}})})]})]}),e.jsx("div",{className:"border-t pt-6",children:e.jsxs("div",{className:"group",children:[e.jsx("summary",{className:"text-xl font-semibold cursor-pointer list-none flex justify-between items-center",children:"SEO & Meta Data"}),e.jsxs("div",{className:"mt-4 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Meta Title"}),e.jsx("input",{type:"text",name:"title",value:s.meta.title,onChange:a,placeholder:"Enter meta title",className:"w-full border rounded-md p-3 focus:outline-none focus:ring-2 focus:ring-blue-300"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Meta Description"}),e.jsx("input",{type:"text",name:"description",value:s.meta.description,onChange:a,placeholder:"Enter meta description",className:"w-full border rounded-md p-3 focus:outline-none focus:ring-2 focus:ring-blue-300"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Keywords"}),e.jsx("input",{type:"text",name:"keywords",value:s.meta.keywords.join(", "),onChange:a,placeholder:"e.g., hotel in Dehradun, best hotels, luxury stay",className:"w-full border rounded-md p-3 focus:outline-none focus:ring-2 focus:ring-blue-300"}),e.jsx("small",{className:"text-gray-500",children:"Use commas to separate keywords."})]})]})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Continental Plan (Breakfast)"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("input",{type:"number",name:"amount",value:s.continentalPlan.rate.amount,onChange:g=>N(c(r({},s),{continentalPlan:c(r({},s.continentalPlan),{rate:c(r({},s.continentalPlan.rate),{amount:Number(g.target.value)})})})),placeholder:"Rate Amount",className:"w-full border rounded-md p-2"}),e.jsxs("select",{name:"period",value:s.continentalPlan.rate.period,onChange:g=>N(c(r({},s),{continentalPlan:c(r({},s.continentalPlan),{rate:c(r({},s.continentalPlan.rate),{period:g.target.value})})})),className:"w-full border rounded-md p-2",children:[e.jsx("option",{value:"per person",children:"Per Person"}),e.jsx("option",{value:"per breakfast",children:"Per Breakfast"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Description:"}),e.jsx("textarea",{name:"description",value:s.description,onChange:a,required:!0,placeholder:"Enter description",className:"w-full border rounded-md p-3 focus:ring focus:ring-blue-200"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 items-center",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-medium ",children:"Price:"}),e.jsx("input",{type:"number",name:"price",value:s.price,onChange:a,min:"0",placeholder:"Price",className:"w-full border rounded-md p-3 focus:ring focus:ring-blue-200"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Phone Number:"}),e.jsx("input",{type:"number",name:"phoneNumber",value:s.phoneNumber,onChange:a,placeholder:"Phone Number",className:"w-full border rounded-md p-3 focus:ring focus:ring-blue-200"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Amenities:"}),e.jsx(Xe,{multiple:!0,id:"amenities-select",options:m==null?void 0:m.map(g=>({label:g.label,value:g.value})),value:s.amenities,onChange:y,isOptionEqualToValue:(g,t)=>g.label===t.label,getOptionLabel:g=>g.label,renderInput:g=>e.jsx(Ze,c(r({},g),{label:"Select amenities",placeholder:"Select amenities"}))})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Check In:"}),e.jsx(he,{initialTime:s.checkIn,onChange:w,name:"checkIn"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Check Out:"}),e.jsx(he,{initialTime:s.checkOut,onChange:w,name:"checkOut"})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",name:"soldOut",checked:s.soldOut,onChange:a,className:"mr-2"}),e.jsx("label",{className:"text-gray-700 font-medium",children:"Sold Out"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Hotel Code:"}),e.jsx("input",{type:"text",name:"hotelCode",value:s.hotelCode,onChange:a,required:!0,placeholder:"Enter hotel code",className:"w-full border rounded-md p-3 focus:ring focus:ring-blue-200"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Auth Key:"}),e.jsx("input",{type:"text",name:"authKey",value:s.authKey,onChange:a,required:!0,placeholder:"Enter authentication key",className:"w-full border rounded-md p-3 focus:ring focus:ring-blue-200"})]})]})]})},ls=({formData:s,isUploading:a,newSectionHeading:m,setNewSectionHeading:y,handleCarouselImagesUpload:N,handleRemoveCarouselImage:w,handleAddImageSection:g,handleSectionHeadingChange:t,handleRemoveImageSection:d,handleSectionImagesUpload:j,handleRemoveSectionImageUrl:U})=>{var C,P,x;return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"",children:[e.jsx("h3",{className:"text-xl font-bold mb-4",children:"Carousel Images"}),e.jsx(B,{onUploadSuccess:h=>N(h),isUploading:a,imagesUrls:(C=s==null?void 0:s.imageSections)==null?void 0:C.carouselImages,onRemoveImageUrl:w})]}),e.jsxs("div",{className:"",children:[e.jsx("h3",{className:"text-xl font-bold mb-4",children:"Image Sections"}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4 mb-6",children:[e.jsx("input",{type:"text",value:m,onChange:h=>y(h.target.value),placeholder:"Section Heading (e.g., Lobby, King Size Room)",className:"w-full border rounded-md p-2 focus:outline-none focus:ring-2 focus:ring-blue-200"}),e.jsx("button",{type:"button",onClick:g,className:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-md transition-colors",children:"Add Section"})]}),e.jsx("h1",{className:"text-2xl font-semibold",children:"Heading"}),((x=(P=s==null?void 0:s.imageSections)==null?void 0:P.sections)==null?void 0:x.length)>0?s.imageSections.sections.map((h,i)=>e.jsxs("div",{className:"p-6 mb-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-4",children:[e.jsx("input",{type:"text",value:h.heading,onChange:v=>t(i,v.target.value),placeholder:"Section Heading",className:"w-full border rounded-md p-2 focus:outline-none focus:ring-2 focus:ring-blue-200"}),e.jsx("button",{type:"button",onClick:()=>d(i),className:"mt-2 sm:mt-0 sm:ml-4 text-red-500 hover:underline",children:"Remove Section"})]}),e.jsx(B,{onUploadSuccess:v=>j(i,v),isUploading:a,imagesUrls:h.images,onRemoveImageUrl:v=>U(i,v)})]},i)):e.jsx("p",{className:"text-gray-600 italic",children:"No image sections added yet."})]})]})},bs=({initialData:s=null})=>{var J,X,Z,D,ee,se,oe,ne,te,le,re,ce,de,ae;console.log("Initial data: form",s);const a=!!s,m=ze(),{amenities:y}=Be(),N=o=>{var l;const n=(l=s==null?void 0:s.location)==null?void 0:l[o];return typeof n=="string"?n:Array.isArray(n)&&n.length>0&&n[0].name||""},g=(o=>o?Array.isArray(o.sections)&&Array.isArray(o.carouselImages)?o:o.images?{sections:[],carouselImages:o.images}:{sections:[],carouselImages:[]}:{sections:[],carouselImages:[]})(s==null?void 0:s.imageSections),[t,d]=S.useState({name:(s==null?void 0:s.name)||"",description:(s==null?void 0:s.description)||"",phoneNumber:(s==null?void 0:s.phoneNumber)||"",location:{hotelAddress:((J=s==null?void 0:s.location)==null?void 0:J.hotelAddress)||"",metro:N("metro"),airport:N("airport"),railwayStation:N("railwayStation"),attractions:((X=s==null?void 0:s.location)==null?void 0:X.attractions)||[],restaurants:((Z=s==null?void 0:s.location)==null?void 0:Z.restaurants)||[],activities:((D=s==null?void 0:s.location)==null?void 0:D.activities)||[],nightlife:((ee=s==null?void 0:s.location)==null?void 0:ee.nightlife)||[]},meta:{title:((se=s==null?void 0:s.meta)==null?void 0:se.title)||"",description:((oe=s==null?void 0:s.meta)==null?void 0:oe.description)||"",keywords:((ne=s==null?void 0:s.meta)==null?void 0:ne.keywords)||[],ogTitle:((te=s==null?void 0:s.meta)==null?void 0:te.ogTitle)||"",ogDescription:((le=s==null?void 0:s.meta)==null?void 0:le.ogDescription)||"",ogImage:((re=s==null?void 0:s.meta)==null?void 0:re.ogImage)||"",canonicalUrl:((ce=s==null?void 0:s.meta)==null?void 0:ce.canonicalUrl)||""},amenities:(s==null?void 0:s.amenities)||[],rating:(s==null?void 0:s.rating)||0,price:(s==null?void 0:s.price)||0,discountedPrice:(s==null?void 0:s.discountedPrice)||0,soldOut:(s==null?void 0:s.soldOut)||!1,payAtHotel:(s==null?void 0:s.payAtHotel)||"no",hotelCode:(s==null?void 0:s.hotelCode)||"",authKey:(s==null?void 0:s.authKey)||"",images:(s==null?void 0:s.images)||[],testimonials:(s==null?void 0:s.testimonials)||[],checkIn:(s==null?void 0:s.checkIn)||"",checkOut:(s==null?void 0:s.checkOut)||"",aboutUs:{description:((de=s==null?void 0:s.aboutUs)==null?void 0:de.description)||"",image:((ae=s==null?void 0:s.aboutUs)==null?void 0:ae.img)||""},imageSections:g,cityLocation:(s==null?void 0:s.cityLocation)||"",faqs:(s==null?void 0:s.faqs)||[],addToYourStay:(s==null?void 0:s.addToYourStay)||[],continentalPlan:(s==null?void 0:s.continentalPlan)||{rate:{amount:0,period:"per person"}}}),[j,U]=S.useState({question:"",answer:""}),[C,P]=S.useState(null),[x,h]=S.useState({question:"",answer:""}),[i,v]=S.useState("details"),[F,Y]=S.useState({attractions:{name:""},restaurants:{name:""},activities:{name:""},nightlife:{name:""}}),[O,$]=S.useState({name:"",location:"",heading:"",description:""}),[L,Q]=S.useState(""),[V,p]=S.useState(!1),{mutate:k}=_e(),{mutate:I}=Ke(),E=o=>v(o),H=o=>{const{name:n,value:l,type:u,checked:b}=o.target,f=n==="payAtHotel"?b?"yes":"no":u==="checkbox"?b:l;["title","description","keywords","ogTitle","ogDescription","ogImage","canonicalUrl"].includes(n)?d(T=>c(r({},T),{meta:c(r({},T.meta),{[n]:n==="keywords"?l.split(",").map(R=>R.trim()):f})})):d(n==="amount"||n==="period"?T=>c(r({},T),{continentalPlan:c(r({},T.continentalPlan),{rate:c(r({},T.continentalPlan.rate),{[n]:n==="amount"?Number(l):l})})}):T=>c(r({},T),{[n]:f}))},M=o=>{const{name:n,value:l}=o.target;d(u=>c(r({},u),{aboutUs:c(r({},u.aboutUs),{[n]:l})}))},q=(o,n)=>{d(l=>c(r({},l),{aboutUs:c(r({},l.aboutUs),{[o]:n})}))},_=()=>{const o=r({},O);d(n=>c(r({},n),{testimonials:[...n.testimonials,o]})),$({name:"",location:"",heading:"",description:""})};console.log(t);const ge=o=>{const n=t.testimonials.filter((l,u)=>u!==o);d(l=>c(r({},l),{testimonials:n}))},G=(o,n)=>{U(l=>c(r({},l),{[o]:n}))},xe=()=>{if(!j.question.trim()||!j.answer.trim())return A.error("Please fill in both question and answer for the FAQ.");d(o=>c(r({},o),{faqs:[...o.faqs,{question:j.question.trim(),answer:j.answer.trim()}]})),U({question:"",answer:""})},pe=o=>{d(n=>{const l=[...n.faqs];return l.splice(o,1),c(r({},n),{faqs:l})})},be=o=>{P(o),h(r({},t.faqs[o]))},W=o=>{const{name:n,value:l}=o.target;h(u=>c(r({},u),{[n]:l}))},fe=o=>{const n=[...t.faqs];n[o]=x,d(l=>c(r({},l),{faqs:n})),P(null)},je=()=>{P(null)},ye=o=>z(void 0,null,function*(){var n,l;if(!o.length)return A.error("No images selected");p(!0);try{const u=yield K(o),b=Array.isArray(u)?u:[u];d(f=>c(r({},f),{images:[...f.images,...b[0].imageUrls]})),A.success("Images uploaded successfully!")}catch(u){A.error((l=(n=u==null?void 0:u.response)==null?void 0:n.data)==null?void 0:l.message)}p(!1)}),Ne=o=>{d(n=>c(r({},n),{images:n.images.filter(l=>l!==o)}))},ve=(o,n,l)=>{Y(u=>c(r({},u),{[o]:c(r({},u[o]),{[n]:l})}))},we=o=>{const{name:n}=F[o];if(!n.trim())return A.error(`Please provide a name for ${o}`);d(l=>c(r({},l),{location:c(r({},l.location),{[o]:[...l.location[o]||[],{name:n.trim()}]})})),Y(l=>c(r({},l),{[o]:{name:""}}))},Se=(o,n)=>{d(l=>{const u=[...l.location[o]||[]];return u.splice(n,1),c(r({},l),{location:c(r({},l.location),{[o]:u})})})},Ce=o=>{const{value:n}=o.target;d(l=>c(r({},l),{location:c(r({},l.location),{hotelAddress:n})}))},ke=(o,n)=>{d(l=>c(r({},l),{location:c(r({},l.location),{[o]:n})}))},Ae=o=>z(void 0,null,function*(){var n,l;if(!o.length)return A.error("No images selected for carousel");p(!0);try{const u=yield K(o),b=Array.isArray(u)?u:[u];d(f=>c(r({},f),{imageSections:c(r({},f.imageSections),{carouselImages:[...f.imageSections.carouselImages,...b[0].imageUrls]})})),A.success("Carousel images uploaded successfully!")}catch(u){A.error((l=(n=u==null?void 0:u.response)==null?void 0:n.data)==null?void 0:l.message)}p(!1)}),Ie=o=>{d(n=>c(r({},n),{imageSections:c(r({},n.imageSections),{carouselImages:n.imageSections.carouselImages.filter(l=>l!==o)})}))},Pe=()=>{if(!L.trim())return A.error("Please provide a heading for the image section");d(o=>c(r({},o),{imageSections:c(r({},o.imageSections),{sections:[...o.imageSections.sections,{heading:L.trim(),images:[]}]})})),Q("")},Te=(o,n)=>{d(l=>{const u=[...l.imageSections.sections];return u[o].heading=n,c(r({},l),{imageSections:c(r({},l.imageSections),{sections:u})})})},Ue=(o,n)=>z(void 0,null,function*(){var l,u;if(!n.length)return A.error("No images selected for this section");p(!0);try{const b=yield K(n),f=Array.isArray(b)?b:[b];d(T=>{const R=[...T.imageSections.sections];return R[o].images=[...R[o].images,...f[0].imageUrls],c(r({},T),{imageSections:c(r({},T.imageSections),{sections:R})})}),A.success("Section images uploaded successfully!")}catch(b){A.error((u=(l=b==null?void 0:b.response)==null?void 0:l.data)==null?void 0:u.message)}p(!1)}),Ee=(o,n)=>{d(l=>{const u=[...l.imageSections.sections];return u[o].images=u[o].images.filter(b=>b!==n),c(r({},l),{imageSections:c(r({},l.imageSections),{sections:u})})})},He=o=>{d(n=>{const l=[...n.imageSections.sections];return l.splice(o,1),c(r({},n),{imageSections:c(r({},n.imageSections),{sections:l})})})},Me=o=>{o.preventDefault();const n=c(r({},t),{location:{hotelAddress:t.location.hotelAddress,metro:t.location.metro?[{name:t.location.metro}]:[],airport:t.location.airport?[{name:t.location.airport}]:[],railwayStation:t.location.railwayStation?[{name:t.location.railwayStation}]:[],attractions:t.location.attractions,restaurants:t.location.restaurants,activities:t.location.activities,nightlife:t.location.nightlife},phoneNumber:t.phoneNumber,amenities:t.amenities,rating:Number(t.rating),price:Number(t.price),discountedPrice:Number(t.discountedPrice),aboutUs:{description:t.aboutUs.description,img:t.aboutUs.image},imageSections:t.imageSections,faqs:t.faqs,cityLocation:t.cityLocation,addToYourStay:t.addToYourStay,continentalPlan:t.continentalPlan});a?I({hotelCode:t.hotelCode,hotelData:n},{onSuccess:()=>{A.success("Hotel updated successfully!"),m("/admin/hotels")},onError:l=>A.error(`Error updating hotel: ${l.message}`)}):k(n,{onSuccess:()=>{A.success("Hotel added successfully!"),m("/admin/hotels")},onError:l=>A.error(`Error adding hotel: ${l.message}`)})},qe=(o,n)=>{d(l=>c(r({},l),{amenities:n}))},Fe=o=>{d(n=>c(r({},n),{cityLocation:o.target.value}))},$e=["metro","airport","railwayStation"],Le=["attractions","restaurants","activities","nightlife"];return e.jsx("div",{className:"mx-auto py-16 px-8",children:e.jsxs("div",{className:"bg-white p-8 shadow-lg rounded-lg",children:[e.jsx("h1",{className:"text-3xl font-bold text-center mb-6",children:a?"Edit Hotel":"Add Hotel"}),e.jsx("div",{className:"flex justify-center mb-6 border-b",children:["details","aboutUs","location","headerImages","hotelImages","testimonials","faqs","addToYourStay"].map(o=>e.jsxs("button",{onClick:()=>E(o),className:"relative text-xl px-4 py-2 mx-2 font-medium focus:outline-none transition-colors duration-300",children:[e.jsx("span",{className:i===o?"text-blue-500":"text-gray-500 hover:text-blue-500",children:o==="hotelImages"?"Hotel Images":o.charAt(0).toUpperCase()+o.slice(1)}),e.jsx("span",{className:`absolute left-0 bottom-0 h-0.5 bg-blue-500 transition-all duration-300 ${i===o?"w-full":"w-0"}`})]},o))}),e.jsxs("form",{onSubmit:Me,children:[i==="details"&&e.jsx(ts,{formData:t,handleDetailsChange:H,amenities:y,handleAmenitiesChange:qe,setFormData:d}),i==="location"&&e.jsx(os,{formData:t,handleHotelAddressChange:Ce,handleTransportChange:ke,transportLocations:$e,pointsOfInterest:Le,locationInputs:F,handleLocationInputChange:ve,addLocationItem:we,removeLocationItem:Se,handleCityLocationChange:Fe}),i==="headerImages"&&e.jsx(ss,{formData:t,isUploading:V,handleImagesUpload:ye,handleRemoveImageUrl:Ne}),i==="hotelImages"&&e.jsx(ls,{formData:t,isUploading:V,newSectionHeading:L,setNewSectionHeading:Q,handleCarouselImagesUpload:Ae,handleRemoveCarouselImage:Ie,handleAddImageSection:Pe,handleSectionHeadingChange:Te,handleRemoveImageSection:He,handleSectionImagesUpload:Ue,handleRemoveSectionImageUrl:Ee}),i==="testimonials"&&e.jsx(es,{formData:t,setFormData:d,testimonialInput:O,setTestimonialInput:$,handleAddTestimonial:_,handleRemoveTestimonial:ge}),i==="aboutUs"&&e.jsx(De,{formData:t,handleAboutUsChange:M,handleAboutUsFeatureChange:q}),i==="faqs"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"FAQs"}),e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx("input",{type:"text",value:j.question,onChange:o=>G("question",o.target.value),placeholder:"FAQ Question",className:"flex-1 border rounded-md p-2 focus:outline-none focus:ring-2 focus:ring-blue-200"}),e.jsx("input",{type:"text",value:j.answer,onChange:o=>G("answer",o.target.value),placeholder:"FAQ Answer",className:"flex-1 border rounded-md p-2 focus:outline-none focus:ring-2 focus:ring-blue-200"}),e.jsx("button",{type:"button",onClick:xe,className:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-md transition-colors",children:"Add FAQ"})]}),t.faqs.length>0?t.faqs.map((o,n)=>e.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-center p-4 border rounded-md",children:C===n?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("input",{type:"text",name:"question",value:x.question,onChange:W,placeholder:"Edit question",className:"w-full border rounded-md p-2 mb-2 focus:outline-none focus:ring-2 focus:ring-blue-200"}),e.jsx("input",{type:"text",name:"answer",value:x.answer,onChange:W,placeholder:"Edit answer",className:"w-full border rounded-md p-2 focus:outline-none focus:ring-2 focus:ring-blue-200"})]}),e.jsxs("div",{className:"flex gap-2 mt-2 sm:mt-0",children:[e.jsx("button",{type:"button",onClick:()=>fe(n),className:"bg-green-500 hover:bg-green-600 text-white px-3 py-2 rounded-md transition-colors",children:"Save"}),e.jsx("button",{type:"button",onClick:je,className:"bg-gray-500 hover:bg-gray-600 text-white px-3 py-2 rounded-md transition-colors",children:"Cancel"})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-semibold",children:o.question}),e.jsx("p",{className:"text-gray-600",children:o.answer})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{type:"button",onClick:()=>be(n),className:"text-blue-500 hover:underline",children:"Edit"}),e.jsx("button",{type:"button",onClick:()=>pe(n),className:"text-red-500 hover:underline",children:"Remove"})]})]})},n)):e.jsx("p",{className:"text-gray-600 italic",children:"No FAQs added yet."})]})]}),i==="addToYourStay"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Add To Your Stay"}),t.addToYourStay.length>0&&t.addToYourStay.map((o,n)=>{var l,u;return e.jsxs("div",{className:"border p-4 rounded-md space-y-2",children:[e.jsx("input",{type:"text",value:o.heading,onChange:b=>{const f=[...t.addToYourStay];f[n].heading=b.target.value,d(c(r({},t),{addToYourStay:f}))},placeholder:"Heading",className:"w-full border rounded-md p-2"}),e.jsx("textarea",{value:o.description,onChange:b=>{const f=[...t.addToYourStay];f[n].description=b.target.value,d(c(r({},t),{addToYourStay:f}))},placeholder:"Description",className:"w-full border rounded-md p-2"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("input",{type:"number",value:((l=o.rate)==null?void 0:l.amount)||0,onChange:b=>{const f=[...t.addToYourStay];f[n].rate=c(r({},f[n].rate),{amount:Number(b.target.value)}),d(c(r({},t),{addToYourStay:f}))},placeholder:"Rate Amount",className:"w-full border rounded-md p-2"}),e.jsxs("select",{value:((u=o.rate)==null?void 0:u.period)||"",onChange:b=>{const f=[...t.addToYourStay];f[n].rate=c(r({},f[n].rate),{period:b.target.value}),d(c(r({},t),{addToYourStay:f}))},className:"w-full border rounded-md p-2",children:[e.jsx("option",{value:"",children:"Default"}),e.jsx("option",{value:"per night",children:"Per Night"}),e.jsx("option",{value:"per day",children:"Per Day"})]})]}),e.jsx("button",{type:"button",onClick:()=>{const b=t.addToYourStay.filter((f,T)=>T!==n);d(c(r({},t),{addToYourStay:b}))},className:"text-red-500 hover:underline",children:"Remove Entry"})]},n)}),e.jsx("button",{type:"button",onClick:()=>{d(c(r({},t),{addToYourStay:[...t.addToYourStay,{heading:"",description:"",rate:{amount:0,period:"per night"}}]}))},className:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-md transition-colors",children:"Add New Entry"})]}),e.jsx("div",{className:"mt-8",children:e.jsx("button",{type:"submit",className:"w-full bg-blue-500 hover:bg-blue-600 text-white font-bold py-3 rounded-md transition-colors",children:a?"Update Hotel":"Add Hotel"})})]})]})})};export{bs as H};
