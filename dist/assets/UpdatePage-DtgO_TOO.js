var io=Object.defineProperty,ao=Object.defineProperties;var oo=Object.getOwnPropertyDescriptors;var it=Object.getOwnPropertySymbols;var Pn=Object.prototype.hasOwnProperty,qn=Object.prototype.propertyIsEnumerable;var Cn=(O,N,v)=>N in O?io(O,N,{enumerable:!0,configurable:!0,writable:!0,value:v}):O[N]=v,V=(O,N)=>{for(var v in N||(N={}))Pn.call(N,v)&&Cn(O,v,N[v]);if(it)for(var v of it(N))qn.call(N,v)&&Cn(O,v,N[v]);return O},Q=(O,N)=>ao(O,oo(N));var Ne=(O,N)=>{var v={};for(var c in O)Pn.call(O,c)&&N.indexOf(c)<0&&(v[c]=O[c]);if(O!=null&&it)for(var c of it(O))N.indexOf(c)<0&&qn.call(O,c)&&(v[c]=O[c]);return v};var xe=(O,N,v)=>new Promise((c,h)=>{var w=y=>{try{_(v.next(y))}catch(m){h(m)}},g=y=>{try{_(v.throw(y))}catch(m){h(m)}},_=y=>y.done?c(y.value):Promise.resolve(y.value).then(w,g);_((v=v.apply(O,N)).next())});import{r as $,j as e,f as Rn,h as ve,s as at,t as lo,v as so}from"./index-Kj3knSog.js";import{L as Ie}from"./loader-Csir9jlA.js";import{P as yt}from"./plus-Du0G_aM_.js";import{T as bt}from"./trash-2-D2OKwWs1.js";import{u as uo,a as co,b as fo,c as ho,d as po,e as vo,f as go,g as mo,h as yo,i as bo,j as xo}from"./use-Career-Page-oVrM0lwK.js";import{X as jt}from"./x-aOw4iCj7.js";import{S as Ze}from"./save-8k2Iakbv.js";import{u as Ge}from"./useUpdatePagesHook-DSINXOom.js";import{C as Na}from"./Close-Drb1QvfI.js";import{b as Aa,u as _o,d as jo,g as Oo,G as wo,T as ye,c as ne,a as ae,B as he,C as Ve,F as yn,I as bn,S as xn,P as Pe,M as Eo}from"./TextField-7KJqB9OX.js";import{u as So,T as Ca,a as ze}from"./index-sbaUctZw.js";import{D as qe,a as Re,b as Le,c as ke,C as Ln}from"./DialogTitle-D29dIHtl.js";import{I as Be,F as ko}from"./FormControlLabel-0GoN7TSJ.js";import{A as Pa,S as gt,D as In}from"./Stack-CqrJoQgr.js";import{D as De}from"./Delete-BGsU7XQk.js";import{I as Me}from"./ImageUpload-GDMRwb_D.js";import{G as _e,C as xt,a as mn}from"./Grid-BkS2nylW.js";import{u as To,a as No,b as Ao,c as Co,d as Po,e as qo,f as Ro,g as Lo}from"./useDayUseRoomHook-DalTAb7K.js";import{c as qa}from"./createLucideIcon-BJzqg999.js";import{g as Io,u as Do,r as Mo}from"./dev-owners-stats-D8ckE1zZ.js";import{u as Bo,a as Fo,b as Ho,c as Uo,d as zo,e as Wo,f as Go}from"./useEventPageHook-Cb2T3PAH.js";import{C as Ko}from"./Chip-BIgRexBP.js";import{M as Ot}from"./MenuItem-Drli-kKm.js";import{S as $o}from"./Switch-CzRBhzRy.js";import{S as Ke}from"./Save-paBR_5MO.js";import{A as We}from"./Add-Do1ov1XV.js";import{u as Vo,a as Zo,b as Yo}from"./useFaqsHooks-DjuxK0vv.js";import{uploadImagesAPIV2 as Ra}from"./useHotelHook2-CoeoE2sM.js";import{M as Jo}from"./MultipleImageUpload-DK0VJ4tu.js";import{S as Qo}from"./square-pen-Adl_4Shd.js";import{c as Dn}from"./clsx-B-dksMZM.js";import{a as Xo,g as el,s as _n,m as jn,b as La,f as Ia,u as tl,d as rl}from"./createSvgIcon-C5wF46kr.js";import{e as ot,b as nl,d as Mn,f as il,u as lt,T as al,i as Bn}from"./useFormControl-CTHIuVRe.js";import{P as Da}from"./Popper-B_TbhypX.js";import{C as Ma}from"./CardMedia-1Oepdhpq.js";import{u as ol,a as ll,b as sl,c as ul,d as cl,e as fl}from"./useLoyaltyProgramHook-64-pTDWO.js";import{R as dl}from"./rotate-ccw-D-I99sE4.js";import{C as hl}from"./chevron-down-BK6WoyVq.js";import{E as pl}from"./Edit-Cx5pt72R.js";import{u as vl,a as gl,b as ml,c as yl}from"./usePartnersHooks-DRUidacp.js";import{u as bl,a as xl,b as _l,c as jl,d as Ol}from"./useTestimonialHook-P9EuvAUC.js";import{u as wl,a as El}from"./useTourAndTravel-RrzWsfy8.js";import{u as Sl,a as kl,b as Tl,c as Nl,d as Al,e as Cl}from"./useTravelAgentPage-B8lj4hqQ.js";import"./Loader-BhlYnuRi.js";import"./index-DxHt9AM2.js";import"./useThemeProps-B8fkWxLm.js";import"./SwitchBase-LlrphCMH.js";import"./hoist-non-react-statics.cjs-Cxfv-rx9.js";/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pl=qa("Delete",[["path",{d:"M10 5a2 2 0 0 0-1.344.519l-6.328 5.74a1 1 0 0 0 0 1.481l6.328 5.741A2 2 0 0 0 10 19h10a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2z",key:"1yo7s0"}],["path",{d:"m12 9 6 6",key:"anjzzh"}],["path",{d:"m18 9-6 6",key:"1fp51s"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ql=qa("ListPlus",[["path",{d:"M11 12H3",key:"51ecnj"}],["path",{d:"M16 6H3",key:"1wxfjs"}],["path",{d:"M16 18H3",key:"12xzn7"}],["path",{d:"M18 9v6",key:"1twb98"}],["path",{d:"M21 12h-6",key:"bt1uis"}]]);function Rl(O){return el("MuiTooltip",O)}const be=Xo("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]);function Ll(O){return Math.round(O*1e5)/1e5}const Il=O=>{const{classes:N,disableInteractive:v,arrow:c,touch:h,placement:w}=O,g={popper:["popper",!v&&"popperInteractive",c&&"popperArrow"],tooltip:["tooltip",c&&"tooltipArrow",h&&"touch",`tooltipPlacement${La(w.split("-")[0])}`],arrow:["arrow"]};return rl(g,Rl,N)},Dl=_n(Da,{name:"MuiTooltip",slot:"Popper",overridesResolver:(O,N)=>{const{ownerState:v}=O;return[N.popper,!v.disableInteractive&&N.popperInteractive,v.arrow&&N.popperArrow,!v.open&&N.popperClose]}})(jn(({theme:O})=>({zIndex:(O.vars||O).zIndex.tooltip,pointerEvents:"none",variants:[{props:({ownerState:N})=>!N.disableInteractive,style:{pointerEvents:"auto"}},{props:({open:N})=>!N,style:{pointerEvents:"none"}},{props:({ownerState:N})=>N.arrow,style:{[`&[data-popper-placement*="bottom"] .${be.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${be.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${be.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}},[`&[data-popper-placement*="left"] .${be.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}}}},{props:({ownerState:N})=>N.arrow&&!N.isRtl,style:{[`&[data-popper-placement*="right"] .${be.arrow}`]:{left:0,marginLeft:"-0.71em"}}},{props:({ownerState:N})=>N.arrow&&!!N.isRtl,style:{[`&[data-popper-placement*="right"] .${be.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:N})=>N.arrow&&!N.isRtl,style:{[`&[data-popper-placement*="left"] .${be.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:N})=>N.arrow&&!!N.isRtl,style:{[`&[data-popper-placement*="left"] .${be.arrow}`]:{left:0,marginLeft:"-0.71em"}}}]}))),Ml=_n("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(O,N)=>{const{ownerState:v}=O;return[N.tooltip,v.touch&&N.touch,v.arrow&&N.tooltipArrow,N[`tooltipPlacement${La(v.placement.split("-")[0])}`]]}})(jn(({theme:O})=>({backgroundColor:O.vars?O.vars.palette.Tooltip.bg:Ia(O.palette.grey[700],.92),borderRadius:(O.vars||O).shape.borderRadius,color:(O.vars||O).palette.common.white,fontFamily:O.typography.fontFamily,padding:"4px 8px",fontSize:O.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:O.typography.fontWeightMedium,[`.${be.popper}[data-popper-placement*="left"] &`]:{transformOrigin:"right center"},[`.${be.popper}[data-popper-placement*="right"] &`]:{transformOrigin:"left center"},[`.${be.popper}[data-popper-placement*="top"] &`]:{transformOrigin:"center bottom",marginBottom:"14px"},[`.${be.popper}[data-popper-placement*="bottom"] &`]:{transformOrigin:"center top",marginTop:"14px"},variants:[{props:({ownerState:N})=>N.arrow,style:{position:"relative",margin:0}},{props:({ownerState:N})=>N.touch,style:{padding:"8px 16px",fontSize:O.typography.pxToRem(14),lineHeight:`${Ll(16/14)}em`,fontWeight:O.typography.fontWeightRegular}},{props:({ownerState:N})=>!N.isRtl,style:{[`.${be.popper}[data-popper-placement*="left"] &`]:{marginRight:"14px"},[`.${be.popper}[data-popper-placement*="right"] &`]:{marginLeft:"14px"}}},{props:({ownerState:N})=>!N.isRtl&&N.touch,style:{[`.${be.popper}[data-popper-placement*="left"] &`]:{marginRight:"24px"},[`.${be.popper}[data-popper-placement*="right"] &`]:{marginLeft:"24px"}}},{props:({ownerState:N})=>!!N.isRtl,style:{[`.${be.popper}[data-popper-placement*="left"] &`]:{marginLeft:"14px"},[`.${be.popper}[data-popper-placement*="right"] &`]:{marginRight:"14px"}}},{props:({ownerState:N})=>!!N.isRtl&&N.touch,style:{[`.${be.popper}[data-popper-placement*="left"] &`]:{marginLeft:"24px"},[`.${be.popper}[data-popper-placement*="right"] &`]:{marginRight:"24px"}}},{props:({ownerState:N})=>N.touch,style:{[`.${be.popper}[data-popper-placement*="top"] &`]:{marginBottom:"24px"}}},{props:({ownerState:N})=>N.touch,style:{[`.${be.popper}[data-popper-placement*="bottom"] &`]:{marginTop:"24px"}}}]}))),Bl=_n("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(O,N)=>N.arrow})(jn(({theme:O})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:O.vars?O.vars.palette.Tooltip.bg:Ia(O.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}})));let st=!1;const Fn=new al;let Qe={x:0,y:0};function ut(O,N){return(v,...c)=>{N&&N(v,...c),O(v,...c)}}const Fl=$.forwardRef(function(N,v){var kn,Tn,Nn;const c=tl({props:N,name:"MuiTooltip"}),Sn=c,{arrow:h=!1,children:w,classes:g,components:_={},componentsProps:y={},describeChild:m=!1,disableFocusListener:p=!1,disableHoverListener:o=!1,disableInteractive:t=!1,disableTouchListener:r=!1,enterDelay:f=100,enterNextDelay:s=0,enterTouchDelay:l=700,followCursor:n=!1,id:a,leaveDelay:d=0,leaveTouchDelay:i=1500,onClose:u,onOpen:j,open:b,placement:E="bottom",PopperComponent:q,PopperProps:S={},slotProps:x={},slots:k={},title:C,TransitionComponent:L,TransitionProps:T}=Sn,R=Ne(Sn,["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"]),M=$.isValidElement(w)?w:e.jsx("span",{children:w}),z=Aa(),H=_o(),[I,A]=$.useState(),[D,B]=$.useState(null),W=$.useRef(!1),F=t||n,P=ot(),U=ot(),G=ot(),K=ot(),[J,te]=nl({controlled:b,default:!1,name:"Tooltip",state:"open"});let ie=J;const oe=jo(a),le=$.useRef(),de=Mn(()=>{le.current!==void 0&&(document.body.style.WebkitUserSelect=le.current,le.current=void 0),K.clear()});$.useEffect(()=>de,[de]);const Oe=fe=>{Fn.clear(),st=!0,te(!0),j&&!ie&&j(fe)},ge=Mn(fe=>{Fn.start(800+d,()=>{st=!1}),te(!1),u&&ie&&u(fe),P.start(z.transitions.duration.shortest,()=>{W.current=!1})}),Z=fe=>{W.current&&fe.type!=="touchstart"||(I&&I.removeAttribute("title"),U.clear(),G.clear(),f||st&&s?U.start(st?s:f,()=>{Oe(fe)}):Oe(fe))},Y=fe=>{U.clear(),G.start(d,()=>{ge(fe)})},[,ee]=$.useState(!1),re=fe=>{Bn(fe.target)||(ee(!1),Y(fe))},X=fe=>{I||A(fe.currentTarget),Bn(fe.target)&&(ee(!0),Z(fe))},se=fe=>{W.current=!0;const Te=M.props;Te.onTouchStart&&Te.onTouchStart(fe)},ue=fe=>{se(fe),G.clear(),P.clear(),de(),le.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",K.start(l,()=>{document.body.style.WebkitUserSelect=le.current,Z(fe)})},ce=fe=>{M.props.onTouchEnd&&M.props.onTouchEnd(fe),de(),G.start(i,()=>{ge(fe)})};$.useEffect(()=>{if(!ie)return;function fe(Te){Te.key==="Escape"&&ge(Te)}return document.addEventListener("keydown",fe),()=>{document.removeEventListener("keydown",fe)}},[ge,ie]);const we=il(Oo(M),A,v);!C&&C!==0&&(ie=!1);const Ee=$.useRef(),pe=fe=>{const Te=M.props;Te.onMouseMove&&Te.onMouseMove(fe),Qe={x:fe.clientX,y:fe.clientY},Ee.current&&Ee.current.update()},He={},me=typeof C=="string";m?(He.title=!ie&&me&&!o?C:null,He["aria-describedby"]=ie?oe:null):(He["aria-label"]=me?C:null,He["aria-labelledby"]=ie&&!me?oe:null);const je=V(Q(V(V(V({},He),R),M.props),{className:Dn(R.className,M.props.className),onTouchStart:se,ref:we}),n?{onMouseMove:pe}:{}),Je={};r||(je.onTouchStart=ue,je.onTouchEnd=ce),o||(je.onMouseOver=ut(Z,je.onMouseOver),je.onMouseLeave=ut(Y,je.onMouseLeave),F||(Je.onMouseOver=Z,Je.onMouseLeave=Y)),p||(je.onFocus=ut(X,je.onFocus),je.onBlur=ut(re,je.onBlur),F||(Je.onFocus=X,Je.onBlur=re));const Ue=Q(V({},c),{isRtl:H,arrow:h,disableInteractive:F,placement:E,PopperComponentProp:q,touch:W.current}),Se=typeof x.popper=="function"?x.popper(Ue):x.popper,Za=$.useMemo(()=>{var Te,An;let fe=[{name:"arrow",enabled:!!D,options:{element:D,padding:4}}];return(Te=S.popperOptions)!=null&&Te.modifiers&&(fe=fe.concat(S.popperOptions.modifiers)),(An=Se==null?void 0:Se.popperOptions)!=null&&An.modifiers&&(fe=fe.concat(Se.popperOptions.modifiers)),Q(V(V({},S.popperOptions),Se==null?void 0:Se.popperOptions),{modifiers:fe})},[D,S.popperOptions,Se==null?void 0:Se.popperOptions]),At=Il(Ue),Ct=typeof x.transition=="function"?x.transition(Ue):x.transition,nt={slots:V({popper:_.Popper,transition:(kn=_.Transition)!=null?kn:L,tooltip:_.Tooltip,arrow:_.Arrow},k),slotProps:{arrow:(Tn=x.arrow)!=null?Tn:y.arrow,popper:V(V({},S),Se!=null?Se:y.popper),tooltip:(Nn=x.tooltip)!=null?Nn:y.tooltip,transition:V(V({},T),Ct!=null?Ct:y.transition)}},[Ya,Ja]=lt("popper",{elementType:Dl,externalForwardedProps:nt,ownerState:Ue,className:Dn(At.popper,S==null?void 0:S.className)}),[Qa,Xa]=lt("transition",{elementType:wo,externalForwardedProps:nt,ownerState:Ue}),[eo,to]=lt("tooltip",{elementType:Ml,className:At.tooltip,externalForwardedProps:nt,ownerState:Ue}),[ro,no]=lt("arrow",{elementType:Bl,className:At.arrow,externalForwardedProps:nt,ownerState:Ue,ref:B});return e.jsxs($.Fragment,{children:[$.cloneElement(M,je),e.jsx(Ya,Q(V(V({as:q!=null?q:Da,placement:E,anchorEl:n?{getBoundingClientRect:()=>({top:Qe.y,left:Qe.x,right:Qe.x,bottom:Qe.y,width:0,height:0})}:I,popperRef:Ee,open:I?ie:!1,id:oe,transition:!0},Je),Ja),{popperOptions:Za,children:({TransitionProps:fe})=>e.jsx(Qa,Q(V(V({timeout:z.transitions.duration.shorter},fe),Xa),{children:e.jsxs(eo,Q(V({},to),{children:[C,h?e.jsx(ro,V({},no)):null]}))}))}))]})}),Hl=(O,N=500)=>{const v=$.useRef(null),c=$.useCallback((...h)=>{v.current&&clearTimeout(v.current),v.current=setTimeout(()=>{O(...h)},N)},[O,N]);return $.useEffect(()=>()=>{v.current&&clearTimeout(v.current)},[]),c},Ul=v=>{var c=v,{label:O}=c,N=Ne(c,["label"]);return e.jsxs("label",{className:"block group",children:[e.jsx("span",{className:"text-sm font-semibold text-gray-700 mb-2 block",children:O}),e.jsx("input",Q(V({},N),{className:`w-full rounded-lg border border-gray-300 px-4 py-2.5 outline-none transition-all duration-200 focus:border-blue-500 focus:ring-2 focus:ring-blue-100 hover:border-gray-400 ${N.className||""}`}))]})},zl=v=>{var c=v,{label:O}=c,N=Ne(c,["label"]);return e.jsxs("label",{className:"block",children:[e.jsx("span",{className:"text-sm font-semibold text-gray-700 mb-2 block",children:O}),e.jsx("textarea",Q(V({},N),{className:`w-full rounded-lg border border-gray-300 px-4 py-2.5 outline-none transition-all duration-200 focus:border-blue-500 focus:ring-2 focus:ring-blue-100 hover:border-gray-400 min-h-[90px] resize-none ${N.className||""}`}))]})},_t=({title:O,cards:N,onAdd:v,adding:c,onUpdate:h,onDelete:w,emptyMessage:g,fields:_=[],onBulk:y})=>{const m=Hl((o,t,r)=>{h(o,{[t]:r})}),p=(o,t)=>{var f;const r={label:t.label,value:(f=o[t.name])!=null?f:"",onChange:s=>m(o._id,t.name,s.target.value)};return t.type==="textarea"?e.jsx(zl,V({},r),t.name):e.jsx(Ul,V({type:t.type||"text"},r),t.name)};return e.jsxs("div",{className:"rounded-xl border border-gray-200 bg-gradient-to-br from-white to-gray-50 p-6 shadow-sm hover:shadow-md transition-shadow duration-300",children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:O}),e.jsx("div",{className:"flex gap-2",children:e.jsx("button",{onClick:v,disabled:c,className:"inline-flex items-center gap-2 rounded-lg bg-gradient-to-r from-emerald-600 to-emerald-700 px-4 py-2 text-sm font-medium text-white shadow-md hover:shadow-lg disabled:opacity-60",children:c?e.jsxs(e.Fragment,{children:[e.jsx(Ie,{size:16,className:"animate-spin"}),"Adding…"]}):e.jsxs(e.Fragment,{children:[e.jsx(yt,{size:16}),"Add Card"]})})})]}),e.jsx("ul",{className:"space-y-3",children:N.length>0?N.map(o=>e.jsxs("li",{className:"rounded-lg border border-gray-200 bg-white p-4 hover:shadow-md transition-shadow duration-200",children:[e.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:_.map(t=>p(o,t))}),e.jsx("div",{className:"mt-3 flex justify-end",children:e.jsxs("button",{onClick:()=>w(o._id),className:"inline-flex items-center gap-2 rounded-lg bg-red-600 px-3 py-1.5 text-sm font-medium text-white hover:bg-red-700",children:[e.jsx(bt,{size:14}),"Delete"]})})]},o._id)):e.jsx("li",{className:"rounded-lg border border-dashed border-gray-300 py-8 text-center",children:e.jsx("p",{className:"text-sm text-gray-500",children:g})})})]})},Hn=({open:O,onClose:N,children:v,title:c})=>O?e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:N}),e.jsxs("div",{className:"relative z-10 w-full max-w-5xl max-h-[90vh] overflow-y-auto rounded-2xl bg-white shadow-2xl animate-in fade-in zoom-in-95 duration-300",children:[e.jsxs("div",{className:"sticky top-0 z-20 flex items-center justify-between gap-4 border-b border-gray-200 bg-gradient-to-r from-slate-50 to-white px-6 py-4",children:[e.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-cyan-600 bg-clip-text text-transparent",children:c}),e.jsx("button",{className:"p-2 rounded-lg hover:bg-gray-100",onClick:N,children:e.jsx(jt,{size:20,className:"text-gray-600"})})]}),e.jsx("div",{className:"p-6",children:v})]})]}):null,Xe=v=>{var c=v,{label:O}=c,N=Ne(c,["label"]);return e.jsxs("label",{className:"block group",children:[e.jsx("span",{className:"text-sm font-semibold text-gray-700 mb-2 block",children:O}),e.jsx("input",Q(V({},N),{className:`w-full rounded-lg border border-gray-300 px-4 py-2.5 outline-none transition-all duration-200 focus:border-blue-500 focus:ring-2 focus:ring-blue-100 hover:border-gray-400 ${N.className||""}`}))]})},et=v=>{var c=v,{label:O}=c,N=Ne(c,["label"]);return e.jsxs("label",{className:"block",children:[e.jsx("span",{className:"text-sm font-semibold text-gray-700 mb-2 block",children:O}),e.jsx("textarea",Q(V({},N),{className:`w-full rounded-lg border border-gray-300 px-4 py-2.5 outline-none transition-all duration-200 focus:border-blue-500 focus:ring-2 focus:ring-blue-100 hover:border-gray-400 min-h-[90px] resize-none ${N.className||""}`}))]})},ct=({title:O,children:N,onSave:v,saving:c,icon:h})=>e.jsxs("div",{className:"rounded-xl border border-gray-200 bg-gradient-to-br from-white to-gray-50 p-6 shadow-sm hover:shadow-md transition-shadow duration-300",children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[h&&e.jsx(h,{size:24,className:"text-blue-600"}),e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:O})]}),v&&e.jsx("button",{onClick:v,disabled:c,className:"inline-flex items-center gap-2 rounded-lg bg-gradient-to-r from-blue-600 to-blue-700 px-4 py-2 text-sm font-medium text-white shadow-md hover:shadow-lg hover:from-blue-700 hover:to-blue-800 disabled:opacity-60",children:c?e.jsxs(e.Fragment,{children:[e.jsx(Ie,{size:16,className:"animate-spin"}),"Saving…"]}):e.jsxs(e.Fragment,{children:[e.jsx(Ze,{size:16}),"Save"]})})]}),e.jsx("div",{className:"space-y-4",children:N})]}),ft=()=>e.jsx("div",{className:"my-8 h-px bg-gradient-to-r from-transparent via-gray-300 to-transparent"}),Wl=()=>{const[O,N]=$.useState(!1),{data:v,isFetching:c}=uo({enabled:O}),h=co(),w=fo(),g=ho(),_=po(),y=vo(),m=go(),p=mo(),o=yo(),t=bo(),r=xo(),[f,s]=$.useState({heading:"",description:""}),[l,n]=$.useState({heading:"",description:""}),[a,d]=$.useState({heading:"",description:""}),[i,u]=$.useState({heading:"",description:"",email:""}),j=$.useMemo(()=>{var T,R;return(R=(T=v==null?void 0:v.benefits)==null?void 0:T.cards)!=null?R:[]},[v]),b=$.useMemo(()=>{var T;return(T=v==null?void 0:v.simpleCards)!=null?T:[]},[v]);$.useEffect(()=>{var T,R,M,z,H,I,A,D,B,W,F,P,U,G,K,J,te,ie;v&&(s({heading:(R=(T=v==null?void 0:v.hero)==null?void 0:T.heading)!=null?R:"",description:(z=(M=v==null?void 0:v.hero)==null?void 0:M.description)!=null?z:""}),n({heading:(I=(H=v==null?void 0:v.benefits)==null?void 0:H.heading)!=null?I:"",description:(D=(A=v==null?void 0:v.benefits)==null?void 0:A.description)!=null?D:""}),d({heading:(W=(B=v==null?void 0:v.joinTeam)==null?void 0:B.heading)!=null?W:"",description:(P=(F=v==null?void 0:v.joinTeam)==null?void 0:F.description)!=null?P:""}),u({heading:(G=(U=v==null?void 0:v.readyToJoin)==null?void 0:U.heading)!=null?G:"",description:(J=(K=v==null?void 0:v.readyToJoin)==null?void 0:K.description)!=null?J:"",email:(ie=(te=v==null?void 0:v.readyToJoin)==null?void 0:te.email)!=null?ie:""}))},[v]);const E=T=>xe(void 0,null,function*(){const R=T.map(M=>M.trim()).filter(Boolean).map(M=>{const[z,...H]=M.split(":");return H.length?{heading:z.trim(),description:H.join(":").trim()}:{heading:"Item",description:M}});try{yield Rn.post("/api/careers/benefit-cards/bulk",{cards:R})}catch(M){yield Promise.all(R.map(z=>y.mutateAsync(z)))}}),q=T=>xe(void 0,null,function*(){const R=T.map(M=>M.trim()).filter(Boolean).map(M=>{const[z,...H]=M.split(":");return H.length?{title:z.trim(),description:H.join(":").trim()}:{title:M.split(" ").slice(0,3).join(" "),description:M}});try{yield Rn.post("/api/careers/simple-cards/bulk",{cards:R})}catch(M){yield Promise.all(R.map(z=>o.mutateAsync(z)))}}),[S,x]=$.useState(null),[k,C]=$.useState(""),L=()=>xe(void 0,null,function*(){const T=k.split(`
`);S==="benefit"&&(yield E(T)),S==="simple"&&(yield q(T)),C(""),x(null)});return e.jsxs("div",{children:[e.jsx("button",{onClick:()=>N(!0),className:"myGlobalButton",children:"Manage Career Page"}),e.jsxs(Hn,{open:O,onClose:()=>N(!1),title:"Manage Careers Page",children:[c&&e.jsxs("div",{className:"mb-6 rounded-lg border border-amber-200 bg-gradient-to-r from-amber-50 to-orange-50 p-4 flex items-center gap-3",children:[e.jsx(Ie,{size:18,className:"text-amber-600 animate-spin"}),e.jsx("p",{className:"text-sm font-medium text-amber-800",children:"Loading latest data…"})]}),e.jsx(ct,{title:"Hero Section",onSave:()=>h.mutate(f),saving:h.isPending,children:e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsx(Xe,{label:"Heading",value:f.heading,onChange:T=>s(R=>Q(V({},R),{heading:T.target.value}))}),e.jsx(et,{label:"Description",value:f.description,onChange:T=>s(R=>Q(V({},R),{description:T.target.value}))})]})}),e.jsx(ft,{}),e.jsx(ct,{title:"Benefits Section Header",onSave:()=>w.mutate(l),saving:w.isPending,children:e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsx(Xe,{label:"Heading",value:l.heading,onChange:T=>n(R=>Q(V({},R),{heading:T.target.value}))}),e.jsx(et,{label:"Description",value:l.description,onChange:T=>n(R=>Q(V({},R),{description:T.target.value}))})]})}),e.jsx(_t,{title:"Benefit Cards",cards:j,onAdd:()=>y.mutate({heading:"New Benefit",description:"Describe the benefit…"}),adding:y.isPending,onUpdate:(T,R)=>m.mutate({cardId:T,updateData:R}),onDelete:T=>p.mutate(T),emptyMessage:"No benefit cards yet. Create one to get started!",fields:[{name:"heading",label:"Card Heading",type:"text"},{name:"description",label:"Card Description",type:"textarea"}]}),e.jsx(ft,{}),e.jsx(ct,{title:"Join Team Section",onSave:()=>g.mutate(a),saving:g.isPending,children:e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsx(Xe,{label:"Heading",value:a.heading,onChange:T=>d(R=>Q(V({},R),{heading:T.target.value}))}),e.jsx(et,{label:"Description",value:a.description,onChange:T=>d(R=>Q(V({},R),{description:T.target.value}))})]})}),e.jsx(ft,{}),e.jsx(ct,{title:"Ready to Join Section",onSave:()=>_.mutate(i),saving:_.isPending,children:e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[e.jsx(Xe,{label:"Heading",value:i.heading,onChange:T=>u(R=>Q(V({},R),{heading:T.target.value}))}),e.jsx(et,{label:"Description",value:i.description,onChange:T=>u(R=>Q(V({},R),{description:T.target.value}))}),e.jsx(Xe,{label:"Contact Email",type:"email",value:i.email,onChange:T=>u(R=>Q(V({},R),{email:T.target.value}))})]})}),e.jsx(ft,{}),e.jsx(_t,{title:"Bottom Simple Cards",cards:b,onAdd:()=>o.mutate({title:"New Card",description:"New point…"}),adding:o.isPending,onUpdate:(T,R)=>t.mutate({cardId:T,updateData:R}),onDelete:T=>r.mutate(T),emptyMessage:"No simple cards yet. Add highlights about your company!",fields:[{name:"title",label:"Title",type:"text"},{name:"description",label:"Description",type:"textarea"}]})]}),e.jsx(Hn,{open:!!S,onClose:()=>x(null),title:S==="benefit"?"Bulk Add Benefit Cards":"Bulk Add Simple Cards",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("p",{className:"text-sm text-gray-600",children:["Enter one item per line.",e.jsx("br",{}),e.jsx("span",{className:"font-medium",children:"Benefit:"})," ",e.jsx("code",{children:"Heading: Description"})," or just ",e.jsx("code",{children:"Description"}),e.jsx("br",{}),e.jsx("span",{className:"font-medium",children:"Simple:"})," ",e.jsx("code",{children:"Title: Description"})," or just ",e.jsx("code",{children:"Description"})]}),e.jsx(et,{label:"Items",placeholder:`Integrity: We always do what's right
Respect for All: We respect everyone
Excellence: We serve with heart and honesty`,value:k,onChange:T=>C(T.target.value)}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx("button",{className:"rounded-lg px-4 py-2 bg-gray-100 hover:bg-gray-200",onClick:()=>x(null),children:"Cancel"}),e.jsx("button",{className:"rounded-lg px-4 py-2 bg-emerald-600 text-white hover:bg-emerald-700",onClick:L,disabled:!k.trim(),children:"Add Items"})]})]})})]})},Gl=()=>{var x,k,C,L,T,R;const{ContactUsDetail:O,updateContactUs:N}=Ge(),[v,c]=$.useState(!1),[h,w]=$.useState((O==null?void 0:O.phoneNumber)||""),[g,_]=$.useState((O==null?void 0:O.emailId)||""),[y,m]=$.useState(((x=O==null?void 0:O.OtherEnquieirs)==null?void 0:x.reservations)||""),[p,o]=$.useState(((k=O==null?void 0:O.OtherEnquieirs)==null?void 0:k.corporateSales)||""),[t,r]=$.useState(((C=O==null?void 0:O.OtherEnquieirs)==null?void 0:C.traveAgentSales)||""),[f,s]=$.useState(((L=O==null?void 0:O.OtherEnquieirs)==null?void 0:L.marketing)||""),[l,n]=$.useState(((T=O==null?void 0:O.OtherEnquieirs)==null?void 0:T.careers)||""),[a,d]=$.useState(((R=O==null?void 0:O.OtherEnquieirs)==null?void 0:R.hotelDevelopment)||""),[i,u]=$.useState(""),j=Aa(),b=So(j.breakpoints.down("sm")),E=()=>{var M,z,H,I,A,D;w((O==null?void 0:O.phoneNumber)||""),_((O==null?void 0:O.emailId)||""),m(((M=O==null?void 0:O.OtherEnquieirs)==null?void 0:M.reservations)||""),o(((z=O==null?void 0:O.OtherEnquieirs)==null?void 0:z.corporateSales)||""),r(((H=O==null?void 0:O.OtherEnquieirs)==null?void 0:H.traveAgentSales)||""),s(((I=O==null?void 0:O.OtherEnquieirs)==null?void 0:I.marketing)||""),n(((A=O==null?void 0:O.OtherEnquieirs)==null?void 0:A.careers)||""),d(((D=O==null?void 0:O.OtherEnquieirs)==null?void 0:D.hotelDevelopment)||""),c(!0)},q=()=>{c(!1),u("")},S=()=>{if(!h||!g){u("Please fill in all required fields.");return}N({phoneNumber:h,emailId:g,OtherEnquieirs:{reservations:y,corporateSales:p,traveAgentSales:t,marketing:f,careers:l,hotelDevelopment:a}}),c(!1)};return e.jsxs("div",{children:[e.jsx("div",{className:"myGlobalButton",onClick:E,children:"Contact Us Page"}),e.jsxs(qe,{open:v,onClose:q,fullScreen:b,maxWidth:"sm",fullWidth:!0,children:[e.jsxs(Re,{sx:{m:0,p:2},children:[e.jsx(ye,{variant:"h6",children:"Contact Details"}),e.jsx(Be,{"aria-label":"close",onClick:q,sx:{position:"absolute",right:8,top:8,color:M=>M.palette.grey[500]},children:e.jsx(Na,{})})]}),e.jsxs(Le,{dividers:!0,children:[i&&e.jsx(Pa,{severity:"error",sx:{mb:2},children:i}),e.jsxs(gt,{spacing:2,children:[e.jsx(ne,{label:"Phone Number",value:h,onChange:M=>w(M.target.value),fullWidth:!0,required:!0}),e.jsx(ne,{label:"Email",value:g,onChange:M=>_(M.target.value),fullWidth:!0,required:!0,type:"email",helperText:"Enter a valid email address (e.g., example@example.com)"}),e.jsx("h1",{className:"text-desktop/h4 py-4",children:"  Other Enquiries"}),e.jsx(ne,{label:"Reservations",value:y,onChange:M=>m(M.target.value),fullWidth:!0}),e.jsx(ne,{label:"Corporate Sales",value:p,onChange:M=>o(M.target.value),fullWidth:!0}),e.jsx(ne,{label:"Travel Agent Sales",value:t,onChange:M=>r(M.target.value),fullWidth:!0}),e.jsx(ne,{label:"Marketing",value:f,onChange:M=>s(M.target.value),fullWidth:!0}),e.jsx(ne,{label:"Careers",value:l,onChange:M=>n(M.target.value),fullWidth:!0}),e.jsx(ne,{label:"Hotel Development",value:a,onChange:M=>d(M.target.value),fullWidth:!0})]})]}),e.jsxs(ke,{sx:{p:2},children:[e.jsx(ae,{onClick:q,color:"inherit",children:"Cancel"}),e.jsx(ae,{onClick:S,variant:"contained",color:"primary",children:"Update"})]})]})]})},Kl=()=>{const{CoorporateBooking:O,updtateCoorporateBooking:N}=Ge(),[v,c]=$.useState({CoorporateBookingHeadContent:{title:"",description:"",image:""},CoorporateBookingDescription:{title:"",description:"",image:""},BusinessPlatformSection:[],BenefitsSection:[]}),[h,w]=$.useState(!1),[g,_]=$.useState(!1),[y,m]=$.useState(!1);$.useEffect(()=>{var n,a,d,i,u,j;O&&c({CoorporateBookingHeadContent:{title:((n=O.CoorporateBookingHeadContent)==null?void 0:n.title)||"",description:((a=O.CoorporateBookingHeadContent)==null?void 0:a.description)||"",image:((d=O.CoorporateBookingHeadContent)==null?void 0:d.image)||""},CoorporateBookingDescription:{title:((i=O.CoorporateBookingDescription)==null?void 0:i.title)||"",description:((u=O.CoorporateBookingDescription)==null?void 0:u.description)||"",image:((j=O.CoorporateBookingDescription)==null?void 0:j.image)||""},BusinessPlatformSection:O.BusinessPlatformSection||[],BenefitsSection:O.BenefitsSection||[]})},[O]);const p=(n,a,d)=>{c(i=>Q(V({},i),{[n]:Q(V({},i[n]),{[a]:d})}))},o=(n,a)=>p("CoorporateBookingHeadContent",n,a),t=(n,a)=>p("CoorporateBookingDescription",n,a),r=(n,a,d)=>{c(i=>{const u=[...i.BenefitsSection];return u[n]=Q(V({},u[n]),{[a]:d}),Q(V({},i),{BenefitsSection:u})})},f=()=>{c(n=>n.BenefitsSection.length>=6?n:Q(V({},n),{BenefitsSection:[...n.BenefitsSection,{title:"",description:""}]}))},s=n=>{c(a=>Q(V({},a),{BenefitsSection:a.BenefitsSection.filter((d,i)=>i!==n)}))},l=n=>{n.preventDefault(),N(v),m(!1)};return e.jsxs("div",{children:[e.jsx("div",{className:"myGlobalButton",onClick:()=>m(!0),children:"Corporate Booking Page"}),e.jsxs(qe,{open:y,onClose:()=>m(!1),fullWidth:!0,maxWidth:"md",children:[e.jsx(Re,{children:"Corporate Booking"}),e.jsxs("form",{onSubmit:l,children:[e.jsxs(Le,{children:[e.jsxs(he,{sx:{mb:4},children:[e.jsx(ye,{variant:"h5",gutterBottom:!0,children:"Head Content"}),e.jsxs(_e,{container:!0,spacing:2,direction:"column",children:[e.jsx(_e,{item:!0,children:e.jsx(ne,{label:"Title",fullWidth:!0,value:v.CoorporateBookingHeadContent.title,onChange:n=>p("CoorporateBookingHeadContent","title",n.target.value)})}),e.jsxs(_e,{item:!0,children:[e.jsx(Me,{feature:v.CoorporateBookingHeadContent,handleFeatureChange:o,index:0,setImageUpload:w}),v.CoorporateBookingHeadContent.image&&e.jsx(he,{mt:1,children:e.jsx("img",{src:v.CoorporateBookingHeadContent.image,alt:"Preview",style:{width:50,height:50,objectFit:"cover",borderRadius:4}})})]}),e.jsx(_e,{item:!0,children:e.jsx(ne,{label:"Description",fullWidth:!0,multiline:!0,rows:4,value:v.CoorporateBookingHeadContent.description,onChange:n=>p("CoorporateBookingHeadContent","description",n.target.value)})})]})]}),e.jsxs(he,{sx:{mb:4},children:[e.jsx(ye,{variant:"h5",gutterBottom:!0,children:"Description Content"}),e.jsxs(_e,{container:!0,spacing:2,direction:"column",children:[e.jsx(_e,{item:!0,children:e.jsx(ne,{label:"Title",fullWidth:!0,value:v.CoorporateBookingDescription.title,onChange:n=>p("CoorporateBookingDescription","title",n.target.value)})}),e.jsxs(_e,{item:!0,children:[e.jsx(Me,{feature:v.CoorporateBookingDescription,handleFeatureChange:t,index:1,setImageUpload:_}),v.CoorporateBookingDescription.image&&e.jsx(he,{mt:1,children:e.jsx("img",{src:v.CoorporateBookingDescription.image,alt:"Preview",style:{width:50,height:50,objectFit:"cover",borderRadius:4}})})]}),e.jsx(_e,{item:!0,children:e.jsx(ne,{label:"Description",fullWidth:!0,multiline:!0,rows:4,value:v.CoorporateBookingDescription.description,onChange:n=>p("CoorporateBookingDescription","description",n.target.value)})})]})]}),e.jsxs(he,{sx:{mb:2},children:[e.jsx(ye,{variant:"h5",gutterBottom:!0,children:"Benefits Section"}),v.BenefitsSection.map((n,a)=>e.jsx(he,{sx:{mb:2,border:"1px solid #ccc",borderRadius:1,p:2},children:e.jsxs(_e,{container:!0,spacing:2,direction:"column",children:[e.jsx(_e,{item:!0,children:e.jsx(ne,{label:"Title",fullWidth:!0,value:n.title,onChange:d=>r(a,"title",d.target.value)})}),e.jsx(_e,{item:!0,children:e.jsx(ne,{label:"Description",fullWidth:!0,multiline:!0,minRows:2,value:n.description,onChange:d=>r(a,"description",d.target.value)})}),e.jsx(_e,{item:!0,children:e.jsx(Be,{onClick:()=>s(a),color:"error",children:e.jsx(De,{})})})]})},a)),e.jsx(ae,{variant:"outlined",onClick:f,disabled:v.BenefitsSection.length>=6,children:"Add Benefit"})]})]}),e.jsx(ke,{children:h||g?e.jsx(Ve,{}):e.jsxs(e.Fragment,{children:[e.jsx(ae,{onClick:()=>m(!1),children:"Cancel"}),e.jsx(ae,{type:"submit",variant:"contained",color:"primary",children:"Save Changes"})]})})]})]})]})},$l=({open:O,onClose:N,title:v,children:c})=>O?e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:N}),e.jsxs("div",{className:"relative z-10 w-full max-w-5xl max-h-[92vh] overflow-hidden rounded-2xl bg-white shadow-2xl animate-in fade-in zoom-in-95 duration-300",children:[e.jsxs("div",{className:"sticky top-0 z-20 flex items-center justify-between gap-4 border-b border-gray-200 bg-gradient-to-r from-slate-50 to-white px-6 py-4",children:[e.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-cyan-600 bg-clip-text text-transparent",children:v}),e.jsx("button",{className:"p-2 rounded-lg hover:bg-gray-100",onClick:N,children:e.jsx(jt,{size:20,className:"text-gray-600"})})]}),e.jsx("div",{className:"overflow-y-auto p-6 max-h-[calc(92vh-60px)]",children:c})]})]}):null,Pt=v=>{var c=v,{label:O}=c,N=Ne(c,["label"]);return e.jsxs("label",{className:"block group",children:[e.jsx("span",{className:"text-sm font-semibold text-gray-700 mb-2 block",children:O}),e.jsx("input",Q(V({},N),{className:`w-full rounded-lg border border-gray-300 px-4 py-2.5 outline-none transition-all duration-200 focus:border-blue-500 focus:ring-2 focus:ring-blue-100 hover:border-gray-400 ${N.className||""}`}))]})},qt=v=>{var c=v,{label:O}=c,N=Ne(c,["label"]);return e.jsxs("label",{className:"block",children:[e.jsx("span",{className:"text-sm font-semibold text-gray-700 mb-2 block",children:O}),e.jsx("textarea",Q(V({},N),{className:`w-full rounded-lg border border-gray-300 px-4 py-2.5 outline-none transition-all duration-200 focus:border-blue-500 focus:ring-2 focus:ring-blue-100 hover:border-gray-400 min-h-[90px] resize-none ${N.className||""}`}))]})},Rt=({title:O,children:N,onSave:v,saving:c,actions:h})=>e.jsxs("div",{className:"rounded-xl border border-gray-200 bg-gradient-to-br from-white to-gray-50 p-6 shadow-sm hover:shadow-md transition-shadow duration-300",children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:O}),e.jsxs("div",{className:"flex items-center gap-2",children:[h,v&&e.jsx("button",{onClick:v,disabled:c,className:"inline-flex items-center gap-2 rounded-lg bg-gradient-to-r from-blue-600 to-blue-700 px-4 py-2 text-sm font-medium text-white shadow-md hover:shadow-lg disabled:opacity-60",children:c?e.jsxs(e.Fragment,{children:[e.jsx(Ie,{size:16,className:"animate-spin"}),"Saving…"]}):e.jsxs(e.Fragment,{children:[e.jsx(Ze,{size:16}),"Save"]})})]})]}),e.jsx("div",{className:"space-y-4",children:N})]}),dt=()=>e.jsx("div",{className:"my-8 h-px bg-gradient-to-r from-transparent via-gray-300 to-transparent"}),Vl=()=>{const[O,N]=$.useState(!1),{data:v,isFetching:c}=To({enabled:O}),h=No(),w=Ao(),g=Co(),_=Po(),y=qo(),m=Ro(),p=Lo(),[o,t]=$.useState({heading:"",description:""}),[r,f]=$.useState({heading:"",description:""}),s=$.useMemo(()=>{var i;return(i=v==null?void 0:v.benefits)!=null?i:[]},[v]),[l,n]=$.useState("");$.useEffect(()=>{var i,u,j,b,E,q,S,x,k,C;v&&(t({heading:(u=(i=v==null?void 0:v.hero)==null?void 0:i.heading)!=null?u:"",description:(b=(j=v==null?void 0:v.hero)==null?void 0:j.description)!=null?b:""}),f({heading:(q=(E=v==null?void 0:v.descCard)==null?void 0:E.heading)!=null?q:"",description:(x=(S=v==null?void 0:v.descCard)==null?void 0:S.description)!=null?x:""}),n(((C=(k=v==null?void 0:v.tandc)==null?void 0:k.points)!=null?C:[]).join(`
`)))},[v]);const a=()=>{const i=l.split(`
`).map(u=>u.trim()).filter(Boolean);m.mutate({points:i})},d=()=>{const i=l.split(`
`).map(u=>u.trim()).filter(Boolean);p.mutate({hero:o,descCard:r,tandc:{points:i}})};return e.jsxs("div",{children:[e.jsx("button",{className:"myGlobalButton",onClick:()=>N(!0),children:"Manage Day Use Rooms"}),e.jsxs($l,{open:O,onClose:()=>N(!1),title:"Manage Day-Use Rooms Content",children:[c&&e.jsxs("div",{className:"mb-6 rounded-lg border border-amber-200 bg-gradient-to-r from-amber-50 to-orange-50 p-4 flex items-center gap-3",children:[e.jsx(Ie,{size:18,className:"text-amber-600 animate-spin"}),e.jsx("p",{className:"text-sm font-medium text-amber-800",children:"Loading latest data…"})]}),e.jsx(Rt,{title:"Hero",onSave:()=>h.mutate(o),saving:h.isPending,children:e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsx(Pt,{label:"Heading",value:o.heading,onChange:i=>t(u=>Q(V({},u),{heading:i.target.value}))}),e.jsx(qt,{label:"Description",value:o.description,onChange:i=>t(u=>Q(V({},u),{description:i.target.value}))})]})}),e.jsx(dt,{}),e.jsx(Rt,{title:"Description Card",onSave:()=>w.mutate(r),saving:w.isPending,children:e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsx(Pt,{label:"Heading",value:r.heading,onChange:i=>f(u=>Q(V({},u),{heading:i.target.value}))}),e.jsx(qt,{label:"Description",value:r.description,onChange:i=>f(u=>Q(V({},u),{description:i.target.value}))})]})}),e.jsx(dt,{}),e.jsxs("div",{className:"rounded-xl border border-gray-200 bg-gradient-to-br from-white to-gray-50 p-6 shadow-sm hover:shadow-md transition-shadow duration-300",children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Benefits"}),e.jsx("button",{onClick:()=>g.mutate({title:"New benefit"}),disabled:g.isPending,className:"inline-flex items-center gap-2 rounded-lg bg-gradient-to-r from-emerald-600 to-emerald-700 px-4 py-2 text-sm font-medium text-white shadow-md hover:shadow-lg disabled:opacity-60",children:g.isPending?e.jsxs(e.Fragment,{children:[e.jsx(Ie,{size:16,className:"animate-spin"}),"Adding…"]}):e.jsxs(e.Fragment,{children:[e.jsx(yt,{size:16}),"Add Benefit"]})})]}),e.jsx("ul",{className:"space-y-3",children:s.length>0?s.map(i=>e.jsx("li",{className:"rounded-lg border border-gray-200 bg-white p-4 hover:shadow-md transition-shadow duration-200",children:e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-[1fr_auto]",children:[e.jsx(Pt,{label:"Title",value:i.title,onChange:u=>_.mutate({benefitId:i._id,title:u.target.value})}),e.jsx("div",{className:"flex items-end justify-end",children:e.jsxs("button",{onClick:()=>y.mutate(i._id),className:"inline-flex items-center gap-2 rounded-lg bg-red-600 px-3 py-2 text-sm font-medium text-white hover:bg-red-700",children:[e.jsx(bt,{size:14}),"Delete"]})})]})},i._id)):e.jsx("li",{className:"rounded-lg border border-dashed border-gray-300 py-8 text-center",children:e.jsx("p",{className:"text-sm text-gray-500",children:"No benefits yet. Add your first one!"})})})]}),e.jsx(dt,{}),e.jsxs(Rt,{title:"Terms & Conditions (Points)",actions:e.jsxs("button",{onClick:()=>n(i=>(i?i+`
`:"")+"• Example: Valid govt. ID required at check-in."),className:"inline-flex items-center gap-2 rounded-lg border border-emerald-200 px-4 py-2 text-sm font-medium text-emerald-700 hover:bg-emerald-50",children:[e.jsx(ql,{size:16}),"Add Example Line"]}),onSave:a,saving:m.isPending,children:[e.jsx(qt,{label:"Points (one per line)",placeholder:`Valid government ID required at check-in.
Standard check-in after 8 AM; last check-out by 8 PM.
Rates vary by duration and availability.`,value:l,onChange:i=>n(i.target.value),className:"min-h-[140px]"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Tip: Write each point on a new line. Bullets will be rendered on the frontend."})]}),e.jsx(dt,{}),e.jsx("div",{className:"flex items-center justify-end",children:e.jsx("button",{onClick:d,disabled:p.isPending,className:"inline-flex items-center gap-2 rounded-lg bg-gradient-to-r from-blue-600 to-blue-700 px-5 py-2.5 text-sm font-semibold text-white shadow-md hover:shadow-lg disabled:opacity-60",children:p.isPending?e.jsxs(e.Fragment,{children:[e.jsx(Ie,{size:16,className:"animate-spin"}),"Saving All…"]}):e.jsxs(e.Fragment,{children:[e.jsx(Ze,{size:16}),"Save All Changes"]})})})]})]})},Zl=()=>{const[O,N]=$.useState(!1);return $.useEffect(()=>{if(!O)return;const v=c=>c.key==="Escape"&&N(!1);return window.addEventListener("keydown",v),()=>window.removeEventListener("keydown",v)},[O]),e.jsxs("div",{children:[e.jsx("button",{className:"myGlobalButton ",onClick:()=>N(!0),children:"Manage Dev & Owners Stats"}),O&&e.jsx(Yl,{onClose:()=>N(!1)})]})},Yl=({onClose:O})=>{const[N,v]=$.useState({approvedCount:0,rejectedCount:0,revivedCount:0}),[c,h]=$.useState(!0),[w,g]=$.useState(!1),[_,y]=$.useState(""),[m,p]=$.useState(!1),o=$.useCallback(()=>xe(void 0,null,function*(){var f,s,l;try{h(!0);const n=yield Io();v({approvedCount:(f=n==null?void 0:n.approvedCount)!=null?f:0,rejectedCount:(s=n==null?void 0:n.rejectedCount)!=null?s:0,revivedCount:(l=n==null?void 0:n.revivedCount)!=null?l:0}),y("")}catch(n){y((n==null?void 0:n.message)||"Failed to load stats")}finally{h(!1)}}),[]);$.useEffect(()=>{o()},[o]);const t=()=>xe(void 0,null,function*(){try{g(!0),p(!1);const f={approvedCount:Number(N.approvedCount)||0,rejectedCount:Number(N.rejectedCount)||0,revivedCount:Number(N.revivedCount)||0},s=yield Do(f);v(s),y(""),p(!0),setTimeout(()=>p(!1),1200)}catch(f){y((f==null?void 0:f.message)||"Save failed")}finally{g(!1)}}),r=()=>xe(void 0,null,function*(){if(window.confirm("Reset all counts to 0?"))try{const f=yield Mo();v(f),y("")}catch(f){y((f==null?void 0:f.message)||"Reset failed")}});return e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:O}),e.jsxs("div",{className:"relative w-full max-w-2xl rounded-2xl bg-white shadow-2xl ring-1 ring-black/5",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b",children:[e.jsx("h2",{className:"text-xl font-semibold tracking-tight",children:"Dev & Owners Stats"}),e.jsx("button",{className:"px-3 py-1.5 rounded-md bg-gray-100 hover:bg-gray-200 active:scale-[0.98]",onClick:O,"aria-label":"Close",children:"Close"})]}),e.jsxs("div",{className:"px-6 py-5",children:[_&&e.jsx("div",{className:"mb-4 rounded-md border border-red-200 bg-red-50 px-3 py-2 text-sm text-red-700",children:_}),c?e.jsx(Jl,{}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[e.jsx(Lt,{label:"Approved",value:N.approvedCount,tone:"emerald",onChange:f=>v(s=>Q(V({},s),{approvedCount:f}))}),e.jsx(Lt,{label:"Rejected",value:N.rejectedCount,tone:"amber",onChange:f=>v(s=>Q(V({},s),{rejectedCount:f}))}),e.jsx(Lt,{label:"Revived",value:N.revivedCount,tone:"indigo",onChange:f=>v(s=>Q(V({},s),{revivedCount:f}))})]}),e.jsxs("div",{className:"mt-5 flex flex-wrap gap-2",children:[e.jsx("button",{onClick:t,disabled:w,className:"rounded-lg px-4 py-2 bg-cyan-600 text-white hover:bg-cyan-700 disabled:opacity-60 active:scale-[0.99]",children:w?"Saving…":"Save Counts"}),e.jsx("button",{onClick:r,className:"rounded-lg px-4 py-2 bg-gray-100 hover:bg-gray-200 active:scale-[0.99]",children:"Reset to 0"}),m&&e.jsx("span",{className:"text-sm text-emerald-700 bg-emerald-50 border border-emerald-200 px-2 py-1 rounded-md",children:"Saved ✓"})]})]})]})]})]})},Un={emerald:{ring:"ring-emerald-200",bg:"bg-emerald-50",text:"text-emerald-700",inputRing:"focus:ring-emerald-400",chip:"bg-emerald-100 hover:bg-emerald-200 text-emerald-700"},amber:{ring:"ring-amber-200",bg:"bg-amber-50",text:"text-amber-700",inputRing:"focus:ring-amber-400",chip:"bg-amber-100 hover:bg-amber-200 text-amber-800"},indigo:{ring:"ring-indigo-200",bg:"bg-indigo-50",text:"text-indigo-700",inputRing:"focus:ring-indigo-400",chip:"bg-indigo-100 hover:bg-indigo-200 text-indigo-700"}},Lt=({label:O,value:N,onChange:v,tone:c="emerald"})=>{const h=Un[c]||Un.emerald;return e.jsxs("div",{className:`rounded-xl border p-4 ring-1 ${h.ring}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:`text-sm ${h.text}`,children:O}),e.jsx("span",{className:"text-xs text-gray-400",children:"editable"})]}),e.jsx("div",{className:"flex items-end justify-between gap-3",children:e.jsx("input",{type:"number",min:0,value:N!=null?N:0,onChange:w=>v(Math.max(0,Number(w.target.value))),className:`w-28 rounded-md border border-gray-300 px-3 py-2 outline-none focus:ring-2 ${h.inputRing}`})})]})},Jl=()=>e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[0,1,2].map(O=>e.jsxs("div",{className:"rounded-xl border p-4",children:[e.jsx("div",{className:"h-4 w-24 bg-gray-200 rounded mb-3 animate-pulse"}),e.jsxs("div",{className:"flex items-end justify-between",children:[e.jsx("div",{className:"h-8 w-16 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-10 w-28 bg-gray-200 rounded animate-pulse"})]})]},O))});function $e(h){var w=h,{children:O,value:N,index:v}=w,c=Ne(w,["children","value","index"]);return e.jsx("div",Q(V({role:"tabpanel",hidden:N!==v,id:`event-tabpanel-${v}`,"aria-labelledby":`event-tab-${v}`},c),{children:N===v&&e.jsx(he,{sx:{p:3},children:O})}))}const Ql=()=>{var B,W;const[O,N]=$.useState(!1),[v,c]=$.useState(0),[h,w]=$.useState("eventandconf"),[g,_]=$.useState("view"),y=[{slug:"eventandconf",name:"Event and Conference (Parent)",type:"parent"},{slug:"socialevent",name:"Social Events",type:"child"},{slug:"corporateevent",name:"Corporate Events",type:"child"},{slug:"weddingprewedding",name:"Wedding & Pre-Wedding",type:"child"}];Bo(!1);const{data:m,isLoading:p,refetch:o}=Fo(h);Ho(),Uo();const{mutate:t,isPending:r}=zo(),{mutate:f,isPending:s}=Wo();Go();const[l,n]=$.useState({pageSlug:"",pageName:"",pageType:"parent",active:!0,heroSection:{heading:"",subheading:"",description:""},ourEvents:[],celebrationsSeamless:{title:"",description:"",benefits:[]},descriptionText:"",celebrationTypes:{heading:"",description:"",types:[]},meta:{title:"",description:"",keywords:[],ogImage:""}}),[a,d]=$.useState(!1);$.useEffect(()=>{m!=null&&m.data&&g==="view"&&n({pageSlug:m.data.pageSlug||"",pageName:m.data.pageName||"",pageType:m.data.pageType||"parent",active:m.data.active||!1,heroSection:m.data.heroSection||{heading:"",subheading:"",description:""},ourEvents:m.data.ourEvents||[],celebrationsSeamless:m.data.celebrationsSeamless||{title:"",description:"",benefits:[]},descriptionText:m.data.descriptionText||"",celebrationTypes:m.data.celebrationTypes||{heading:"",description:"",types:[]},meta:m.data.meta||{title:"",description:"",keywords:[],ogImage:""}})},[m,g]);const i=()=>N(!0),u=()=>{N(!1),_("view"),c(0)},j=F=>{w(F.target.value),_("view")},b=()=>{t({slug:h,section:"heroSection",sectionData:l.heroSection},{onSuccess:()=>o()})},E=()=>{l.pageType==="parent"&&t({slug:h,section:"ourEvents",sectionData:l.ourEvents},{onSuccess:()=>o()})},q=()=>{l.pageType==="parent"&&t({slug:h,section:"celebrationsSeamless",sectionData:l.celebrationsSeamless},{onSuccess:()=>o()})},S=()=>{l.pageType==="child"&&t({slug:h,section:"descriptionText",sectionData:{value:l.descriptionText}},{onSuccess:()=>o()})},x=()=>{l.pageType==="child"&&t({slug:h,section:"celebrationTypes",sectionData:l.celebrationTypes},{onSuccess:()=>o()})},k=()=>{f(h,{onSuccess:()=>o()})},C=()=>{n(F=>Q(V({},F),{ourEvents:[...F.ourEvents,{image:"",title:"",description:""}]}))},L=F=>{n(P=>Q(V({},P),{ourEvents:P.ourEvents.filter((U,G)=>G!==F)}))},T=(F,P,U)=>{n(G=>Q(V({},G),{ourEvents:G.ourEvents.map((K,J)=>J===F?Q(V({},K),{[P]:U}):K)}))},R=()=>{n(F=>Q(V({},F),{celebrationTypes:Q(V({},F.celebrationTypes),{types:[...F.celebrationTypes.types,{image:"",title:""}]})}))},M=F=>{n(P=>Q(V({},P),{celebrationTypes:Q(V({},P.celebrationTypes),{types:P.celebrationTypes.types.filter((U,G)=>G!==F)})}))},z=(F,P,U)=>{n(G=>Q(V({},G),{celebrationTypes:Q(V({},G.celebrationTypes),{types:G.celebrationTypes.types.map((K,J)=>J===F?Q(V({},K),{[P]:U}):K)})}))},H=()=>{n(F=>Q(V({},F),{celebrationsSeamless:Q(V({},F.celebrationsSeamless),{benefits:[...F.celebrationsSeamless.benefits,{title:"",description:""}]})}))},I=F=>{n(P=>Q(V({},P),{celebrationsSeamless:Q(V({},P.celebrationsSeamless),{benefits:P.celebrationsSeamless.benefits.filter((U,G)=>G!==F)})}))},A=(F,P,U)=>{n(G=>Q(V({},G),{celebrationsSeamless:Q(V({},G.celebrationsSeamless),{benefits:G.celebrationsSeamless.benefits.map((K,J)=>J===F?Q(V({},K),{[P]:U}):K)})}))},D=((B=y.find(F=>F.slug===h))==null?void 0:B.type)||"parent";return e.jsxs("div",{children:[e.jsx("button",{className:"myGlobalButton",onClick:i,children:"Event & Conference Pages"}),e.jsxs(qe,{open:O,onClose:u,maxWidth:"lg",fullWidth:!0,children:[e.jsx(Re,{sx:{borderBottom:1,borderColor:"divider",pb:2},children:e.jsxs(he,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[e.jsx("span",{children:"Manage Event & Conference Pages"}),(m==null?void 0:m.data)&&e.jsx(Ko,{label:m.data.active?"Active":"Inactive",color:m.data.active?"success":"default",size:"small"})]})}),e.jsxs(Le,{dividers:!0,sx:{minHeight:"500px"},children:[e.jsxs(yn,{fullWidth:!0,margin:"normal",sx:{mb:3},children:[e.jsx(bn,{children:"Select Page"}),e.jsx(xn,{value:h,onChange:j,label:"Select Page",children:y.map(F=>e.jsx(Ot,{value:F.slug,children:F.name},F.slug))})]}),p?e.jsx(he,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"300px",children:e.jsx(Ve,{})}):m!=null&&m.data?e.jsxs(e.Fragment,{children:[e.jsx(he,{mb:2,children:e.jsx(ko,{control:e.jsx($o,{checked:m.data.active,onChange:k,disabled:s}),label:m.data.active?"Page is Active":"Page is Inactive"})}),e.jsxs(Ca,{value:v,onChange:(F,P)=>c(P),sx:{mb:2},children:[e.jsx(ze,{label:"Hero Section"}),D==="parent"&&e.jsx(ze,{label:"Our Events"}),D==="parent"&&e.jsx(ze,{label:"Celebrations Seamless"}),D==="child"&&e.jsx(ze,{label:"Description"}),D==="child"&&e.jsx(ze,{label:"Celebration Types"})]}),e.jsx($e,{value:v,index:0,children:e.jsxs(Pe,{elevation:2,sx:{p:3},children:[e.jsx(ne,{fullWidth:!0,label:"Heading",margin:"normal",value:l.heroSection.heading,onChange:F=>n(P=>Q(V({},P),{heroSection:Q(V({},P.heroSection),{heading:F.target.value})}))}),e.jsx(ne,{fullWidth:!0,label:"Subheading",margin:"normal",value:l.heroSection.subheading,onChange:F=>n(P=>Q(V({},P),{heroSection:Q(V({},P.heroSection),{subheading:F.target.value})}))}),e.jsx(ne,{fullWidth:!0,label:"Description",margin:"normal",multiline:!0,rows:3,value:l.heroSection.description,onChange:F=>n(P=>Q(V({},P),{heroSection:Q(V({},P.heroSection),{description:F.target.value})}))}),e.jsx(ae,{variant:"contained",startIcon:e.jsx(Ke,{}),onClick:b,disabled:r,sx:{mt:2},children:"Save Hero Section"})]})}),D==="parent"&&e.jsxs($e,{value:v,index:1,children:[e.jsx(he,{mb:2,children:e.jsx(ae,{variant:"outlined",startIcon:e.jsx(We,{}),onClick:C,children:"Add Event"})}),l.ourEvents.map((F,P)=>e.jsxs(Pe,{elevation:2,sx:{p:2,mb:2,position:"relative"},children:[e.jsx(Be,{onClick:()=>L(P),sx:{position:"absolute",top:8,right:8},color:"error",children:e.jsx(De,{})}),e.jsx(Me,{feature:F,handleFeatureChange:(U,G)=>T(P,U,G),setImageUpload:d,index:`our-event-${P}`}),e.jsx(ne,{fullWidth:!0,label:"Title",margin:"normal",value:F.title,onChange:U=>T(P,"title",U.target.value)}),e.jsx(ne,{fullWidth:!0,label:"Description",margin:"normal",multiline:!0,rows:2,value:F.description,onChange:U=>T(P,"description",U.target.value)})]},P)),e.jsx(ae,{variant:"contained",startIcon:e.jsx(Ke,{}),onClick:E,disabled:r||a,sx:{mt:2},children:a?"Uploading Image...":"Save Our Events"})]}),D==="parent"&&e.jsxs($e,{value:v,index:2,children:[e.jsxs(Pe,{elevation:2,sx:{p:3,mb:2},children:[e.jsx(ne,{fullWidth:!0,label:"Title",margin:"normal",value:l.celebrationsSeamless.title,onChange:F=>n(P=>Q(V({},P),{celebrationsSeamless:Q(V({},P.celebrationsSeamless),{title:F.target.value})}))}),e.jsx(ne,{fullWidth:!0,label:"Description",margin:"normal",multiline:!0,rows:4,value:l.celebrationsSeamless.description,onChange:F=>n(P=>Q(V({},P),{celebrationsSeamless:Q(V({},P.celebrationsSeamless),{description:F.target.value})}))})]}),e.jsx(he,{mb:2,children:e.jsx(ae,{variant:"outlined",startIcon:e.jsx(We,{}),onClick:H,children:"Add Benefit"})}),(W=l.celebrationsSeamless.benefits)==null?void 0:W.map((F,P)=>e.jsxs(Pe,{elevation:2,sx:{p:2,mb:2,position:"relative"},children:[e.jsx(Be,{onClick:()=>I(P),sx:{position:"absolute",top:8,right:8},color:"error",children:e.jsx(De,{})}),e.jsx(ne,{fullWidth:!0,label:"Benefit Title",margin:"normal",value:F.title,onChange:U=>A(P,"title",U.target.value)}),e.jsx(ne,{fullWidth:!0,label:"Benefit Description",margin:"normal",multiline:!0,rows:2,value:F.description,onChange:U=>A(P,"description",U.target.value)})]},P)),e.jsx(ae,{variant:"contained",startIcon:e.jsx(Ke,{}),onClick:q,disabled:r,sx:{mt:2},children:"Save Celebrations Seamless"})]}),D==="child"&&e.jsx($e,{value:v,index:1,children:e.jsxs(Pe,{elevation:2,sx:{p:3},children:[e.jsx(ne,{fullWidth:!0,label:"Description Text",margin:"normal",multiline:!0,rows:6,value:l.descriptionText,onChange:F=>n(P=>Q(V({},P),{descriptionText:F.target.value})),helperText:"Main paragraph text for this page"}),e.jsx(ae,{variant:"contained",startIcon:e.jsx(Ke,{}),onClick:S,disabled:r,sx:{mt:2},children:"Save Description"})]})}),D==="child"&&e.jsxs($e,{value:v,index:2,children:[e.jsxs(Pe,{elevation:2,sx:{p:3,mb:2},children:[e.jsx(ne,{fullWidth:!0,label:"Section Heading",margin:"normal",value:l.celebrationTypes.heading,onChange:F=>n(P=>Q(V({},P),{celebrationTypes:Q(V({},P.celebrationTypes),{heading:F.target.value})}))}),e.jsx(ne,{fullWidth:!0,label:"Section Description",margin:"normal",multiline:!0,rows:2,value:l.celebrationTypes.description,onChange:F=>n(P=>Q(V({},P),{celebrationTypes:Q(V({},P.celebrationTypes),{description:F.target.value})}))})]}),e.jsx(he,{mb:2,children:e.jsx(ae,{variant:"outlined",startIcon:e.jsx(We,{}),onClick:R,children:"Add Celebration Type"})}),l.celebrationTypes.types.map((F,P)=>e.jsxs(Pe,{elevation:2,sx:{p:2,mb:2,position:"relative"},children:[e.jsx(Be,{onClick:()=>M(P),sx:{position:"absolute",top:8,right:8},color:"error",children:e.jsx(De,{})}),e.jsx(Me,{feature:F,handleFeatureChange:(U,G)=>z(P,U,G),setImageUpload:d,index:`celebration-type-${P}`}),e.jsx(ne,{fullWidth:!0,label:"Title",margin:"normal",value:F.title,onChange:U=>z(P,"title",U.target.value)})]},P)),e.jsx(ae,{variant:"contained",startIcon:e.jsx(Ke,{}),onClick:x,disabled:r||a,sx:{mt:2},children:a?"Uploading Image...":"Save Celebration Types"})]}),e.jsx($e,{value:v,index:3,children:e.jsxs(Pe,{elevation:2,sx:{p:3},children:[e.jsx(ne,{fullWidth:!0,label:"Meta Title",margin:"normal",value:l.meta.title,onChange:F=>n(P=>Q(V({},P),{meta:Q(V({},P.meta),{title:F.target.value})}))}),e.jsx(ne,{fullWidth:!0,label:"Meta Description",margin:"normal",multiline:!0,rows:2,value:l.meta.description,onChange:F=>n(P=>Q(V({},P),{meta:Q(V({},P.meta),{description:F.target.value})}))}),e.jsx(he,{mt:2,children:e.jsx(Me,{feature:{image:l.meta.ogImage},handleFeatureChange:(F,P)=>n(U=>Q(V({},U),{meta:Q(V({},U.meta),{ogImage:P})})),setImageUpload:d,index:"meta-og-image"})}),e.jsx(ae,{variant:"contained",startIcon:e.jsx(Ke,{}),onClick:()=>t({slug:h,section:"meta",sectionData:l.meta},{onSuccess:()=>o()}),disabled:r,sx:{mt:2},children:"Save Meta Tags"})]})})]}):e.jsx(Pa,{severity:"info",children:"This page doesn't exist yet. Content will be created when you save."})]}),e.jsx(ke,{sx:{p:2,borderTop:1,borderColor:"divider"},children:e.jsx(ae,{onClick:u,children:"Close"})})]})]})},Xl=()=>{const[O,N]=$.useState([]),[v,c]=$.useState([]),[h,w]=$.useState(!1),[g,_]=$.useState("Day Stays Rooms"),y=["Day Stays Rooms","Events & Conference","corporate-booking","Career"],{data:m,isLoading:p,error:o}=Vo(g),{mutate:t}=Zo(),{mutate:r}=Yo();$.useEffect(()=>{m&&Array.isArray(m)&&N(m)},[m]);const f=u=>{_(u.target.value)},s=(u,j,b)=>{const E=[...O];E[u]=Q(V({},E[u]),{[j]:b}),N(E)},l=()=>{N([...O,{question:"",answer:""}])},n=u=>{const j=O[u];j._id&&c(b=>[...b,j._id]),N(b=>b.filter((E,q)=>q!==u))},a=()=>{const u=O.filter(j=>!j._id&&j.question&&j.answer).map(j=>Q(V({},j),{page:g}));if(u.length===0&&v.length===0){alert("Please add at least one new FAQ with a question and answer.");return}u.length>0&&t(u),v.forEach(j=>r(j)),c([]),w(!1)},d=()=>w(!0),i=()=>w(!1);return e.jsxs("div",{children:[e.jsx("div",{className:"myGlobalButton",onClick:d,children:"Manage FAQs"}),e.jsxs(qe,{open:h,onClose:i,maxWidth:"md",fullWidth:!0,children:[e.jsx(Re,{children:"Manage FAQs"}),e.jsxs(Le,{dividers:!0,children:[e.jsxs(yn,{fullWidth:!0,margin:"normal",children:[e.jsx(bn,{children:"Choose Page"}),e.jsx(xn,{value:g,onChange:f,label:"Choose Page",children:y.map(u=>e.jsx(Ot,{value:u,className:"",children:u},u))})]}),p&&e.jsx("p",{children:"Loading..."}),o&&e.jsxs("p",{children:["Error: ",o.message]}),O.map((u,j)=>e.jsxs(Pe,{sx:{p:2,mb:2,position:"relative"},elevation:3,children:[e.jsx(Be,{onClick:()=>n(j),sx:{position:"absolute",top:8,right:8},color:"error",children:e.jsx(De,{})}),e.jsx(ne,{label:"Question",fullWidth:!0,margin:"normal",value:u.question,onChange:b=>s(j,"question",b.target.value)}),e.jsx(ne,{label:"Answer",fullWidth:!0,margin:"normal",value:u.answer,onChange:b=>s(j,"answer",b.target.value)})]},j)),e.jsx(ae,{variant:"outlined",onClick:l,sx:{mr:2},children:"Add FAQ"})]}),e.jsxs(ke,{children:[e.jsx(ae,{onClick:i,children:"Cancel"}),e.jsx(ae,{variant:"contained",onClick:a,children:"Add Multiple FAQs"})]})]})]})},es=[{value:"default",label:"Default (Global)"},{value:"travelAgent",label:"Travel Agent"},{value:"career",label:"Career"}],ts=()=>{const{galleryImages:O,addGalleryImages:N}=Ge(),[v,c]=$.useState(!1),[h,w]=$.useState([]),[g,_]=$.useState([]),[y,m]=$.useState(!1),[p,o]=$.useState(0),[t,r]=$.useState(""),[f,s]=$.useState(null),[l,n]=$.useState("#ffffff"),[a,d]=$.useState("default"),i=["#4DB8B6","#4DD0E2","#C4C4C4","#FDD304","#F1B300","#FFE566","#FFE359","#00E0FF","#BDD9D8"];$.useEffect(()=>{if(!O)return;const T=(O==null?void 0:O[a])||(O==null?void 0:O.default)||O,R=Array.isArray(T==null?void 0:T.images)?T.images:[],M=Array.isArray(T==null?void 0:T.content)?T.content:[];w(R),_(M)},[O,a]);const u=T=>xe(void 0,null,function*(){if(T.length===0){ve.error("No images selected");return}c(!0);try{const R=yield Ra(T),z=(Array.isArray(R)?R:[R])[0].imageUrls||[];w(H=>[...H,...z]),ve.success("Images uploaded successfully!")}catch(R){console.error("Error uploading images:",R),ve.error("Error uploading images")}finally{c(!1)}}),j=T=>{w(R=>R.filter(M=>M!==T))},b=()=>m(!0),E=()=>{m(!1),S()},q=(T,R)=>{o(R),S()},S=()=>{s(null),r(""),n("#ffffff")},x=()=>{if(!t.trim()){ve.error("Please enter some content");return}const T={type:"div",content:t,bg:l};f!==null?(_(R=>R.map((M,z)=>z===f?T:M)),ve.success("Content updated successfully!")):(_(R=>[...R,T]),ve.success("Content added successfully!")),S()},k=T=>{const R=g[T];s(T),r(R.content||""),n(R.bg||"#ffffff")},C=T=>{_(R=>R.filter((M,z)=>z!==T)),ve.success("Content deleted successfully!")},L=()=>xe(void 0,null,function*(){try{yield N({massonaryGrid:{images:h,content:g},path:a}),ve.success(`Gallery updated for "${a}"!`),E()}catch(T){console.error("Error saving gallery:",T),ve.error("Failed to update gallery")}});return e.jsxs("div",{children:[e.jsx("div",{className:"myGlobalButton",onClick:b,children:"Edit Gallery"}),e.jsx(Eo,{open:y,onClose:E,"aria-labelledby":"gallery-modal-title",children:e.jsxs(he,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:1400,height:700,bgcolor:"background.paper",boxShadow:24,p:4,overflow:"auto"},children:[e.jsxs("div",{className:"flex justify-between items-center mb-4 gap-4 flex-wrap",children:[e.jsx(ye,{variant:"h5",id:"gallery-modal-title",children:"Edit Gallery"}),e.jsx(ne,{select:!0,size:"small",label:"Path",value:a,onChange:T=>d(T.target.value),sx:{minWidth:220},helperText:"Choose grid scope (keeps data separate)",children:es.map(T=>e.jsx(Ot,{value:T.value,children:T.label},T.value))}),e.jsx(ae,{variant:"contained",onClick:L,startIcon:e.jsx(Ze,{size:18}),disabled:v,children:"Save All Changes"})]}),e.jsxs(Ca,{value:p,onChange:q,children:[e.jsx(ze,{label:"Upload Images"}),e.jsx(ze,{label:"Manage Content"})]}),e.jsxs("div",{className:"mt-4",children:[p===0&&e.jsxs("div",{children:[e.jsxs(ye,{variant:"h6",className:"mb-4",children:["Image Gallery (",a,")"]}),e.jsx(Jo,{onUploadSuccess:u,isUploading:v,imagesUrls:h,onRemoveImageUrl:j})]}),p===1&&e.jsxs("div",{children:[e.jsxs(ye,{variant:"h6",className:"mb-4",children:[f!==null?"Edit Content":"Add New Content"," (",a,")"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx(ne,{fullWidth:!0,multiline:!0,rows:3,value:t,onChange:T=>r(T.target.value),placeholder:"Enter your content here..."}),e.jsxs("div",{children:[e.jsx(ye,{children:"Color"}),e.jsx("div",{className:"flex gap-2 mt-2",children:i.map(T=>e.jsx("div",{className:`w-8 h-8 rounded-full cursor-pointer border-2 ${l===T?"border-black":"border-transparent"}`,style:{backgroundColor:T},onClick:()=>n(T)},T))}),e.jsxs("div",{className:"mt-4 flex items-center gap-4",children:[e.jsx("div",{className:"w-24 h-24 rounded border",style:{backgroundColor:l}}),e.jsxs("div",{className:"space-x-2",children:[e.jsx(ae,{variant:"contained",onClick:x,children:f!==null?"Update":"Add"}),f!==null&&e.jsx(ae,{variant:"outlined",onClick:S,children:"Cancel"})]})]})]})]}),e.jsxs("div",{className:"border-l pl-4",children:[e.jsx(ye,{variant:"h6",className:"mb-4",children:"Existing Content"}),e.jsx("div",{className:"space-y-4",children:g.map((T,R)=>e.jsxs("div",{className:"p-4 rounded relative",style:{backgroundColor:T.bg},children:[e.jsx("p",{children:T.content}),e.jsxs("div",{className:"absolute top-2 right-2 flex gap-2",children:[e.jsx("button",{onClick:()=>k(R),className:"p-1 hover:bg-black/10 rounded",children:e.jsx(Qo,{size:16})}),e.jsx("button",{onClick:()=>C(R),className:"p-1 hover:bg-black/10 rounded",children:e.jsx(Pl,{size:16})})]})]},R))})]})]})]})]}),e.jsx(ke,{children:e.jsx(ae,{onClick:E,children:"Close"})})]})})]})},It={image:"",heading:"",description:""},rs=()=>{const{heroSectionUpdate:O,updateHerosection:N,homePageDescription:v,updateHomepageDescriptionData:c,whatMakesUsShineData:h,upsertWhatMakesUsShine:w}=Ge(),[g,_]=$.useState({heading:"",description:"",image:""}),[y,m]=$.useState(null),[p,o]=$.useState(""),[t,r]=$.useState({heading:"",description:""}),[f,s]=$.useState({heading:"",description:""}),[l,n]=$.useState([It,It,It]),[a,d]=$.useState(null),[i,u]=$.useState(!1);$.useEffect(()=>{O&&_({heading:O.heading||"",description:O.description||"",image:O.image||""})},[O]),$.useEffect(()=>{v&&r({heading:v.heading||"",description:v.description||""})},[v]),$.useEffect(()=>{h&&(s({heading:h.heading||"",description:h.description||""}),Array.isArray(h.items)&&h.items.length===3&&n(h.items.map(T=>({image:T.image||"",heading:T.heading||"",description:T.description||""}))))},[h]),$.useEffect(()=>()=>{p&&URL.revokeObjectURL(p)},[p]);const j=()=>u(!0),b=()=>{if(u(!1),p)try{URL.revokeObjectURL(p)}catch(T){}m(null),o(""),d(null)},E=T=>{const{name:R,value:M}=T.target;_(z=>Q(V({},z),{[R]:M}))},q=T=>{if(!T)return;if(p)try{URL.revokeObjectURL(p)}catch(M){}const R=URL.createObjectURL(T);m(T),o(R)},S=T=>{const{name:R,value:M}=T.target;r(z=>Q(V({},z),{[R]:M}))},x=T=>{const{name:R,value:M}=T.target;s(z=>Q(V({},z),{[R]:M}))},k=(T,R,M)=>{n(z=>{const H=[...z];return H[T]=Q(V({},H[T]),{[R]:M}),H})},C=()=>xe(void 0,null,function*(){var T,R;try{let M=V({},g);if(y){const z=yield Ra([y]),H=(z==null?void 0:z.url)||((T=z==null?void 0:z[0])==null?void 0:T.url)||((R=z==null?void 0:z.imageUrls)==null?void 0:R[0])||"";H&&(M.image=H)}yield N({heroSection:M}),yield c({homePageDescription:t}),u(!1)}catch(M){console.error("Error updating basic content:",M)}}),L=()=>xe(void 0,null,function*(){try{if(!(f.heading.trim()&&f.description.trim()&&l.length===3&&l.every(R=>R.image&&R.heading.trim()&&R.description.trim()))){console.warn("Please fill all shine fields and all 3 items");return}yield w({heading:f.heading,description:f.description,items:l})}catch(T){console.error("Saving Shine failed:",T)}});return e.jsxs("div",{children:[e.jsx("div",{onClick:j,className:"h-[150px] max-w-md bg-white rounded-xl text-center shadow-lg hover:shadow-xl cursor-pointer font-semibold p-10 text-2xl",children:"Home Page Data"}),e.jsxs(qe,{open:i,onClose:b,fullWidth:!0,maxWidth:"md",children:[e.jsxs(Re,{sx:{m:0,p:2},children:["Home Page Data",e.jsx(Be,{"aria-label":"close",onClick:b,sx:{position:"absolute",right:8,top:8,color:T=>T.palette.grey[500]},children:e.jsx(Na,{})})]}),e.jsxs(Le,{dividers:!0,children:[e.jsxs(he,{sx:{mb:3},children:[e.jsx("h1",{className:"text-desktop/h4 p",children:"Hero Section Data"}),e.jsx(ne,{name:"heading",label:"Hero Heading",value:g.heading,onChange:E,fullWidth:!0,margin:"normal"}),e.jsx(ne,{name:"description",label:"Hero Description",value:g.description,onChange:E,fullWidth:!0,margin:"normal",multiline:!0,rows:4}),e.jsxs(gt,{direction:"row",spacing:2,alignItems:"center",sx:{mt:1},children:[e.jsxs(ae,{variant:"outlined",component:"label",children:["Upload Hero Image",e.jsx("input",{type:"file",accept:"image/*",hidden:!0,onChange:T=>{var R;return q(((R=T.target.files)==null?void 0:R[0])||null)}})]}),(p||g.image)&&e.jsx(Fl,{title:"Preview",arrow:!0,children:e.jsx("img",{src:p||g.image,alt:"hero-preview",style:{height:48,width:80,objectFit:"cover",borderRadius:6,border:"1px solid #eee"},onError:T=>T.currentTarget.style.display="none"})})]})]}),e.jsx(In,{sx:{my:3}}),e.jsxs(he,{sx:{mb:3},children:[e.jsx("h1",{className:"text-desktop/h4 py-4",children:"Home Page Description"}),e.jsx(ne,{label:"Home Page Heading",variant:"outlined",name:"heading",fullWidth:!0,value:t.heading,onChange:S,sx:{mb:2}}),e.jsx(ne,{label:"Home Page Description",variant:"outlined",name:"description",fullWidth:!0,multiline:!0,rows:4,value:t.description,onChange:S,sx:{mb:2}})]}),e.jsx(In,{sx:{my:3}}),e.jsxs(he,{children:[e.jsx("h1",{className:"text-desktop/h4 py-2",children:"What Makes Us Shine"}),e.jsxs(_e,{container:!0,spacing:2,sx:{mb:2},children:[e.jsx(_e,{item:!0,xs:12,md:6,children:e.jsx(ne,{label:"Shine Main Heading",name:"heading",fullWidth:!0,value:f.heading,onChange:x})}),e.jsx(_e,{item:!0,xs:12,md:6,children:e.jsx(ne,{label:"Shine Main Description",name:"description",fullWidth:!0,value:f.description,onChange:x})})]}),e.jsx(_e,{container:!0,spacing:2,children:l.map((T,R)=>e.jsx(_e,{item:!0,xs:12,md:4,children:e.jsxs(xt,{variant:"outlined",sx:{height:"100%"},children:[T.image?e.jsx(Ma,{component:"img",height:"140",image:T.image,alt:`shine-${R}`,onError:M=>M.currentTarget.style.display="none"}):e.jsx(he,{sx:{height:140,bgcolor:"action.hover",display:"flex",alignItems:"center",justifyContent:"center",color:"text.secondary"},children:"No Image"}),e.jsx(mn,{children:e.jsxs(gt,{spacing:1,children:[e.jsx(Me,{feature:T,index:R,setImageUpload:M=>d(M?R:null),handleFeatureChange:(M,z)=>k(R,M,z)}),e.jsx(ne,{label:`Item ${R+1} Heading`,value:T.heading,onChange:M=>k(R,"heading",M.target.value),fullWidth:!0}),e.jsx(ne,{label:`Item ${R+1} Description`,value:T.description,onChange:M=>k(R,"description",M.target.value),fullWidth:!0,multiline:!0,rows:3})]})})]})},R))}),e.jsx(gt,{direction:"row",justifyContent:"flex-end",sx:{mt:2},children:e.jsx(ae,{variant:"contained",onClick:L,children:"Save “What Makes Us Shine”"})})]})]}),e.jsxs(ke,{sx:{p:2},children:[e.jsx(ae,{onClick:b,variant:"outlined",children:"Cancel"}),e.jsx(ae,{onClick:C,variant:"contained",children:"Save Hero & Description"})]})]})]})},ns=()=>({level:"",name:"",requirement_text:"",benefit_text:"",unlock_after_nights:0,style:{}}),zn=()=>({title:"",description:"",icon:""}),ht={title:"Join Sunstar Rewards.",subtitle:"Sunstar's loyalty program for frequent travelers—earn perks and exclusive benefits every time you stay with us.",hero_cta:{text:"See your benefits",link:"/benefits"},loyal_guest:{heading:"Become a Loyal Sunstar Guest",description:"A rewarding loyalty program built for our most valued guests — like you, who choose comfort, consistency, and care with every stay."},tiers:[{level:1,name:"Smart Traveller",requirement_text:"Complete 5 nights in 365 days",benefit_text:"5% discount on future bookings",unlock_after_nights:5},{level:2,name:"Frequent Explorer",requirement_text:"Complete 10 nights in 365 days",benefit_text:"10% discount on all bookings",unlock_after_nights:10},{level:3,name:"Elite Guest",requirement_text:"Complete 20 nights in 365 days",benefit_text:"15% discount on all bookings",unlock_after_nights:20}],how_it_works:[{title:"Stay with Us",description:"Book your stay directly through our official website or contact numbers. Every night you stay counts towards your rewards.",icon:"bed"},{title:"Track Your Nights",description:"We automatically track your completed nights within a 365-day period. You do not need to sign up again or carry a membership card.",icon:"clock"},{title:"Unlock Rewards",description:"Your loyalty starts paying off after just 5 nights. Unlock bigger benefits as you stay more.",icon:"medal"}],sidebar_widget:{member_type:"Guest",stays:0}},pt=({label:O,section:N,count:v,setExpandedSection:c,expandedSection:h})=>e.jsxs("button",{onClick:()=>c(h===N?null:N),className:"w-full flex items-center justify-between p-4 hover:bg-slate-50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-sm font-semibold text-slate-700",children:O}),v!==void 0&&e.jsx("span",{className:"text-xs bg-slate-200 text-slate-600 px-2 py-1 rounded-full",children:v})]}),e.jsx(hl,{size:18,className:`text-slate-400 transition-transform ${h===N?"rotate-180":""}`})]}),Ae=({label:O,value:N,onChange:v,placeholder:c,type:h="text",rows:w=1})=>e.jsxs("label",{className:"flex flex-col gap-2",children:[e.jsx("span",{className:"text-sm font-medium text-slate-700",children:O}),w>1?e.jsx("textarea",{value:N,onChange:v,placeholder:c,rows:w,className:"px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-slate-300 focus:border-transparent resize-none"}):e.jsx("input",{type:h,value:N,onChange:v,placeholder:c,className:"px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-slate-300 focus:border-transparent"})]});function is(){var x,k,C,L;const{data:O,isLoading:N,isError:v}=ol(),c=(O==null?void 0:O.data)||O,h=ll(),w=sl();ul();const g=cl(),_=fl(),[y,m]=$.useState(!1),[p,o]=$.useState(null),[t,r]=$.useState("banner"),[f,s]=$.useState(!1),l=$.useRef(null),n=()=>{o(JSON.parse(JSON.stringify(c||ht))),m(!0)},a=()=>m(!1);$.useEffect(()=>(y?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[y]),$.useEffect(()=>{y&&c&&!p&&o(JSON.parse(JSON.stringify(c)))},[y,c,p]),$.useEffect(()=>{y&&l.current&&setTimeout(()=>{var T;return(T=l.current)==null?void 0:T.focus()},50)},[y]),$.useEffect(()=>{const T=R=>{R.key==="Escape"&&m(!1)};return y&&window.addEventListener("keydown",T),()=>window.removeEventListener("keydown",T)},[y]);const d=(T,R)=>{o(M=>{const z=V({},M||{}),H=T.split(".");let I=z;for(let A=0;A<H.length-1;A++){const D=H[A];I[D]||(I[D]={}),I=I[D]}return I[H[H.length-1]]=R,z})},i=()=>xe(this,null,function*(){var R,M,z,H;const T=(()=>{const I=p?V({},p):JSON.parse(JSON.stringify(ht));I.tiers=Array.isArray(I.tiers)?[...I.tiers]:[];const A=I.tiers.reduce((D,B)=>Math.max(D,Number(B.level||0)),0);return Q(V({},ns()),{level:A+1})})();o(I=>{const A=V({},I||{});return A.tiers=Array.isArray(A.tiers)?[...A.tiers,T]:[T],A});try{const I=yield w.mutateAsync(T);I&&o(I)}catch(I){o(D=>{const B=V({},D||{});return B.tiers=(B.tiers||[]).filter(W=>Number(W.level)!==Number(T.level)||W.name!==T.name),B});const A=(H=(z=(M=(R=I==null?void 0:I.response)==null?void 0:R.data)==null?void 0:M.message)!=null?z:I==null?void 0:I.message)!=null?H:"Error adding tier";ve.error(A)}}),u=(T,R,M)=>{o(z=>{const H=V({},z||{});return H.tiers=(H.tiers||[]).map((I,A)=>A===T?Q(V({},I),{[R]:M}):I),H})},j=T=>xe(this,null,function*(){var I,A,D,B;const R=((p==null?void 0:p.tiers)||[])[T];if(!R)return;const M=Number(R.level);if(!(Array.isArray(c==null?void 0:c.tiers)&&c.tiers.some(W=>Number(W.level)===M))){o(W=>{const F=V({},W||{});return F.tiers=(F.tiers||[]).filter((P,U)=>U!==T),F});return}if(!confirm(`Delete tier level ${M} from server? This cannot be undone.`))return;const H=p?JSON.parse(JSON.stringify(p)):null;o(W=>{const F=V({},W||{});return F.tiers=(F.tiers||[]).filter((P,U)=>U!==T),F});try{const W=yield g.mutateAsync(M);W?(o(W),ve.success("Tier deleted")):ve.success("Tier deleted (server)")}catch(W){H&&o(H);const F=(B=(D=(A=(I=W==null?void 0:W.response)==null?void 0:I.data)==null?void 0:A.message)!=null?D:W==null?void 0:W.message)!=null?B:"Error deleting tier";ve.error(F)}}),b=()=>{o(T=>{const R=V({},T||{});return R.how_it_works=Array.isArray(R.how_it_works)?[...R.how_it_works,zn()]:[zn()],R})},E=(T,R,M)=>{o(z=>{const H=V({},z||{});return H.how_it_works=(H.how_it_works||[]).map((I,A)=>A===T?Q(V({},I),{[R]:M}):I),H})},q=T=>{o(R=>{const M=V({},R||{});return M.how_it_works=(M.how_it_works||[]).filter((z,H)=>H!==T),M})},S=()=>xe(this,null,function*(){var T,R,M,z,H;if(!p||!p.title||!((T=p.loyal_guest)!=null&&T.heading)){ve.error("Please provide page title and Loyal Guest heading");return}s(!0);try{const I=yield h.mutateAsync(p);I&&o(I),ve.success("Loyalty Program saved"),m(!1)}catch(I){const A=(H=(z=(M=(R=I==null?void 0:I.response)==null?void 0:R.data)==null?void 0:M.message)!=null?z:I==null?void 0:I.message)!=null?H:"Save failed";ve.error(A)}finally{s(!1)}});return N?e.jsx("button",{disabled:!0,className:"px-4 py-2 bg-slate-300 text-slate-600 rounded-lg text-sm font-medium",children:"Loading..."}):e.jsxs("div",{children:[e.jsx("button",{onClick:n,className:`myGlobalButton ${v?"bg-red-600 text-white":"bg-slate-700 "}`,children:"Loyalty Program"}),y&&p!==null&&e.jsxs("div",{className:"fixed inset-0 z-[9999] flex items-start justify-center p-4 pt-8",role:"dialog","aria-modal":"true",children:[e.jsx("div",{className:"absolute inset-0 bg-black/20 backdrop-blur-sm",onClick:a}),e.jsxs("div",{className:"relative z-10 w-full max-w-3xl max-h-[85vh] bg-white rounded-2xl shadow-xl overflow-hidden flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-200 bg-gradient-to-r from-slate-50 to-white",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Loyalty Program Settings"}),e.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Manage tiers, benefits, and program details"})]}),e.jsx("button",{ref:l,onClick:a,className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:e.jsx(jt,{size:20,className:"text-slate-600"})})]}),e.jsx("div",{className:"flex-1 overflow-auto",children:e.jsxs("div",{className:"divide-y divide-slate-200",children:[e.jsxs("div",{className:"border-b border-slate-200",children:[e.jsx(pt,{label:"Banner & Hero",section:"banner",setExpandedSection:r,expandedSection:t}),t==="banner"&&e.jsxs("div",{className:"p-6 bg-slate-50 space-y-4",children:[e.jsx(Ae,{label:"Heading",value:p.title||"",onChange:T=>d("title",T.target.value),placeholder:"Enter main heading"}),e.jsx(Ae,{label:"Description",value:p.subtitle||"",onChange:T=>d("subtitle",T.target.value),placeholder:"Enter subtitle or description",rows:3})]})]}),e.jsxs("div",{className:"border-b border-slate-200",children:[e.jsx(pt,{label:"Loyal Guest Section",section:"loyal",setExpandedSection:r,expandedSection:t}),t==="loyal"&&e.jsxs("div",{className:"p-6 bg-slate-50 space-y-4",children:[e.jsx(Ae,{label:"Section Heading",value:((x=p.loyal_guest)==null?void 0:x.heading)||"",onChange:T=>d("loyal_guest.heading",T.target.value),placeholder:"e.g., Become a Loyal Sunstar Guest"}),e.jsx(Ae,{label:"Section Description",value:((k=p.loyal_guest)==null?void 0:k.description)||"",onChange:T=>d("loyal_guest.description",T.target.value),placeholder:"Describe the loyalty program benefits",rows:3})]})]}),e.jsxs("div",{className:"border-b border-slate-200",children:[e.jsx(pt,{label:"Membership Tiers",section:"tiers",count:((C=p.tiers)==null?void 0:C.length)||0,setExpandedSection:r,expandedSection:t}),t==="tiers"&&e.jsxs("div",{className:"p-6 bg-slate-50 space-y-4",children:[e.jsxs("button",{onClick:i,className:"w-full flex items-center justify-center gap-2 py-2 px-4 border-2 border-dashed border-slate-300 rounded-lg hover:border-slate-400 hover:bg-slate-100 transition-colors text-slate-700 font-medium text-sm",children:[e.jsx(yt,{size:16})," Add Tier"]}),e.jsxs("div",{className:"space-y-3",children:[(p.tiers||[]).map((T,R)=>{var M;return e.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg p-4 space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(Ae,{label:"Level",type:"number",value:(M=T.level)!=null?M:"",onChange:z=>u(R,"level",Number(z.target.value)),placeholder:"e.g., 1"}),e.jsx(Ae,{label:"Tier Name",value:T.name||"",onChange:z=>u(R,"name",z.target.value),placeholder:"e.g., Smart Traveller"})]}),e.jsx(Ae,{label:"Requirement",value:T.requirement_text||"",onChange:z=>u(R,"requirement_text",z.target.value),placeholder:"e.g., Complete 5 nights in 365 days"}),e.jsx(Ae,{label:"Benefit",value:T.benefit_text||"",onChange:z=>u(R,"benefit_text",z.target.value),placeholder:"e.g., 5% discount on all bookings"}),e.jsx("div",{className:"flex justify-end",children:e.jsxs("button",{onClick:()=>j(R),className:"flex items-center gap-2 px-3 py-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors text-sm font-medium",children:[e.jsx(bt,{size:16})," Remove"]})})]},R)}),(!p.tiers||p.tiers.length===0)&&e.jsx("div",{className:"text-center py-8 text-slate-500 text-sm",children:"No tiers configured yet"})]})]})]}),e.jsxs("div",{className:"border-b border-slate-200",children:[e.jsx(pt,{label:"How It Works",section:"howitworks",count:((L=p.how_it_works)==null?void 0:L.length)||0,setExpandedSection:r,expandedSection:t}),t==="howitworks"&&e.jsxs("div",{className:"p-6 bg-slate-50 space-y-4",children:[e.jsxs("button",{onClick:b,className:"w-full flex items-center justify-center gap-2 py-2 px-4 border-2 border-dashed border-slate-300 rounded-lg hover:border-slate-400 hover:bg-slate-100 transition-colors text-slate-700 font-medium text-sm",children:[e.jsx(yt,{size:16})," Add Step"]}),e.jsxs("div",{className:"space-y-3",children:[(p.how_it_works||[]).map((T,R)=>e.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg p-4 space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(Ae,{label:"Title",value:T.title||"",onChange:M=>E(R,"title",M.target.value),placeholder:"Step heading"}),e.jsx(Ae,{label:"Icon Key",value:T.icon||"",onChange:M=>E(R,"icon",M.target.value),placeholder:"e.g., bed, clock, medal"})]}),e.jsx(Ae,{label:"Description",value:T.description||"",onChange:M=>E(R,"description",M.target.value),placeholder:"Explain this step",rows:2}),e.jsx("div",{className:"flex justify-end",children:e.jsxs("button",{onClick:()=>q(R),className:"flex items-center gap-2 px-3 py-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors text-sm font-medium",children:[e.jsx(bt,{size:16})," Remove"]})})]},R)),(!p.how_it_works||p.how_it_works.length===0)&&e.jsx("div",{className:"text-center py-8 text-slate-500 text-sm",children:"No steps configured yet"})]})]})]})]})}),e.jsxs("div",{className:"p-6 border-t border-slate-200 bg-gradient-to-r from-slate-50 to-white flex items-center justify-between gap-3",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>{confirm("Seed example data?")&&_.mutate(ht,{onSuccess:()=>{ve.success("Seeded with default data"),m(!1)}})},className:"flex items-center gap-2 px-4 py-2 text-slate-700 border border-slate-300 rounded-lg hover:bg-slate-50 transition-colors font-medium text-sm",children:"Seed Data"}),e.jsxs("button",{onClick:()=>{o(JSON.parse(JSON.stringify(c||ht))),ve.success("Reverted to last saved")},className:"flex items-center gap-2 px-4 py-2 text-slate-700 border border-slate-300 rounded-lg hover:bg-slate-50 transition-colors font-medium text-sm",children:[e.jsx(dl,{size:16})," Revert"]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:a,className:"px-4 py-2 text-slate-700 border border-slate-300 rounded-lg hover:bg-slate-50 transition-colors font-medium text-sm",children:"Cancel"}),e.jsx("button",{onClick:S,disabled:f,className:"flex items-center gap-2 px-4 py-2 bg-slate-700 text-white rounded-lg hover:bg-slate-800 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium text-sm",children:f?e.jsxs(e.Fragment,{children:[e.jsx(Ie,{size:16,className:"animate-spin"})," Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ze,{size:16})," Save Program"]})})]})]})]})]})]})}const as=({open:O,handleClose:N,initialData:v,onSave:c})=>{const[h,w]=$.useState(""),[g,_]=$.useState([]),[y,m]=$.useState("");$.useEffect(()=>{v&&(w(v.heading||""),_(v.valueData||[]),m(v.heroSectionDescription||""))},[v]);const p=l=>{w(l.target.value)},o=l=>{m(l.target.value)},t=(l,n,a)=>{const d=[...g];d[l]=Q(V({},d[l]),{[n]:a}),_(d)},r=()=>{const l={title:"",description:""};_([...g,l])},f=l=>{const n=g.filter((a,d)=>d!==l);_(n)},s=()=>{const l=y.trim().split(/\s+/).length,n=g.some(d=>d.description.trim().split(/\s+/).length>50);if(l>110||n){alert("Hero section description should not exceed 80 words and value descriptions should not exceed 50 words");return}c({heading:h,valueData:g,heroSectionDescription:y}),N()};return e.jsxs(qe,{open:O,onClose:N,maxWidth:"md",fullWidth:!0,children:[e.jsx(Re,{children:"Why Sunstar Page"}),e.jsx(Le,{dividers:!0,children:e.jsxs(he,{sx:{},children:[e.jsx("h1",{className:"text-desktop/h4 py-6",children:"Hero Section Description"}),e.jsx(ne,{label:"Hero Section Description",variant:"outlined",fullWidth:!0,value:y,onChange:o,sx:{mb:3},helperText:`${y.trim().split(/\s+/).length}/110 words`,error:y.trim().split(/\s+/).length>110}),e.jsx("h1",{className:"text-desktop/h4 pb-10",children:"Our Value Section"}),e.jsx(ne,{label:"Heading",variant:"outlined",fullWidth:!0,value:h,onChange:p,sx:{mb:3}}),g.map((l,n)=>e.jsx(Pe,{sx:{p:2,mb:2},children:e.jsxs(he,{display:"flex",alignItems:"center",children:[e.jsx(ne,{label:"Title",variant:"outlined",value:l.title,onChange:a=>t(n,"title",a.target.value),sx:{mr:2,flex:1}}),e.jsx(ne,{label:"Description",variant:"outlined",value:l.description,onChange:a=>t(n,"description",a.target.value),sx:{mr:2,flex:2},helperText:`${l.description.trim().split(/\s+/).length}/50 words`,error:l.description.trim().split(/\s+/).length>50}),e.jsx(Be,{color:"error",onClick:()=>f(n),"aria-label":"delete",children:e.jsx(De,{})})]})},l._id||n)),e.jsx(ae,{variant:"contained",startIcon:e.jsx(We,{}),onClick:r,sx:{mb:3},children:"Add Value"})]})}),e.jsxs(ke,{children:[e.jsx(ae,{onClick:N,children:"Cancel"}),e.jsx(ae,{variant:"contained",color:"secondary",onClick:s,children:"Save Changes"})]})]})},os=()=>{const{whysunstarValue:O,updateWhySunstarValueection:N}=Ge(),[v,c]=$.useState(!1),[h,w]=$.useState(null);$.useEffect(()=>{O&&w(O)},[O]);const g=()=>{c(!0)},_=()=>{c(!1)},y=m=>{N(m),w(m)};return e.jsxs("div",{children:[e.jsx("div",{className:"myGlobalButton",onClick:g,children:"Why Sunstar Page"}),h&&e.jsx(as,{open:v,handleClose:_,initialData:h,onSave:y})]})},ls=()=>{const[O,N]=$.useState(!1),{data:v=[],isLoading:c,isError:h,refetch:w}=vl(),g=gl(),_=ml(),y=yl(),[m,p]=$.useState(!1),[o,t]=$.useState(!1),[r,f]=$.useState({image:"",description:""}),[s,l]=$.useState(!1),[n,a]=$.useState(!1),[d,i]=$.useState(null),[u,j]=$.useState({image:"",description:""}),[b,E]=$.useState(!1),[q,S]=$.useState(!1),x=()=>{f({image:"",description:""}),p(!1)},k=()=>xe(void 0,null,function*(){var z,H;if(!(!((z=r.image)!=null&&z.trim())||!((H=r.description)!=null&&H.trim())))try{t(!0),yield g.mutateAsync({imageUrl:r.image.trim(),description:r.description.trim()}),x(),w()}catch(I){console.error(I)}finally{t(!1)}}),C=z=>{i(z),j({image:z.imageUrl||"",description:z.description||""}),a(!0)},L=()=>xe(void 0,null,function*(){var z,H;if(d!=null&&d._id)try{S(!0),yield _.mutateAsync({id:d._id,data:{imageUrl:(z=u.image)==null?void 0:z.trim(),description:(H=u.description)==null?void 0:H.trim()}}),a(!1),i(null),w()}catch(I){console.error(I)}finally{S(!1)}}),T=z=>xe(void 0,null,function*(){try{yield y.mutateAsync(z),w()}catch(H){console.error(H)}}),R=(z,H)=>f(I=>Q(V({},I),{[z]:H})),M=(z,H)=>j(I=>Q(V({},I),{[z]:H}));return e.jsxs(he,{children:[e.jsx("div",{className:"myGlobalButton",onClick:()=>N(!0),children:"Partner Logos"}),e.jsxs(qe,{open:O,onClose:()=>N(!1),fullWidth:!0,maxWidth:"md",children:[e.jsx(Re,{children:"Partner Logos"}),e.jsxs(Le,{dividers:!0,children:[e.jsxs(he,{display:"flex",alignItems:"center",justifyContent:"space-between",mb:2,mt:1,children:[e.jsx(ye,{variant:"h6",sx:{fontWeight:600},children:"Manage Partners"}),m?null:e.jsx(ae,{startIcon:e.jsx(We,{}),variant:"contained",onClick:()=>p(!0),children:"Add Partner"})]}),m&&e.jsxs(xt,{sx:{mb:3,p:2},children:[e.jsxs(mn,{children:[e.jsx(ye,{variant:"subtitle1",gutterBottom:!0,children:"Add New Partner"}),e.jsx(ne,{label:"Description",fullWidth:!0,multiline:!0,minRows:2,sx:{mb:2},value:r.description,onChange:z=>R("description",z.target.value),disabled:o||s}),e.jsx(Me,{feature:{image:r.image},handleFeatureChange:R,setImageUpload:l,index:0}),r.image?e.jsxs(he,{mt:2,children:[e.jsx(ye,{variant:"caption",children:"Preview:"}),e.jsx(he,{component:"img",src:r.image,alt:"preview",sx:{width:160,height:90,objectFit:"cover",border:"1px solid #ddd",borderRadius:1}})]}):null]}),e.jsxs(Ln,{sx:{justifyContent:"flex-end"},children:[e.jsx(ae,{onClick:x,disabled:o||s,children:"Cancel"}),e.jsx(ae,{variant:"contained",onClick:k,disabled:o||s||!r.image||!r.description,children:o?e.jsx(Ve,{size:20}):"Save"})]})]}),c?e.jsxs(he,{display:"flex",alignItems:"center",gap:1,children:[e.jsx(Ve,{size:22}),e.jsx(ye,{children:"Loading partners…"})]}):h?e.jsx(ye,{color:"error",children:"Failed to load partners"}):v.length===0?e.jsx(ye,{color:"text.secondary",children:"No partners added yet."}):e.jsx(_e,{container:!0,spacing:2,children:v.map((z,H)=>e.jsx(_e,{item:!0,xs:12,sm:6,md:4,children:e.jsxs(xt,{children:[z.imageUrl?e.jsx(Ma,{component:"img",height:"160",image:z.imageUrl,alt:z.description||"Partner"}):null,e.jsx(mn,{sx:{minHeight:80},children:e.jsx(ye,{variant:"body2",children:z.description})}),e.jsxs(Ln,{children:[e.jsx(ae,{startIcon:e.jsx(pl,{}),onClick:()=>C(z),children:"Edit"}),e.jsx(ae,{startIcon:e.jsx(De,{}),color:"error",onClick:()=>T(z._id),disabled:y.isPending,children:"Delete"})]})]})},z._id||H))})]}),e.jsx(ke,{children:e.jsx(ae,{onClick:()=>N(!1),children:"Close"})})]}),e.jsxs(qe,{open:n,onClose:()=>a(!1),fullWidth:!0,maxWidth:"sm",children:[e.jsx(Re,{children:"Edit Partner"}),e.jsxs(Le,{children:[e.jsx(ne,{label:"Description",fullWidth:!0,multiline:!0,minRows:2,sx:{my:2},value:u.description,onChange:z=>M("description",z.target.value),disabled:q||b}),e.jsx(Me,{feature:{image:u.image},handleFeatureChange:M,setImageUpload:E,index:1}),u.image?e.jsxs(he,{mt:2,children:[e.jsx(ye,{variant:"caption",children:"Preview:"}),e.jsx(he,{component:"img",src:u.image,alt:"preview",sx:{width:160,height:90,objectFit:"cover",border:"1px solid #ddd",borderRadius:1}})]}):null]}),e.jsxs(ke,{children:[e.jsx(ae,{onClick:()=>a(!1),disabled:q||b,children:"Cancel"}),e.jsx(ae,{variant:"contained",onClick:L,disabled:q||b||!u.description||!u.image,children:q?e.jsx(Ve,{size:22}):"Save"})]})]})]})};var Dt,Wn;function ss(){if(Wn)return Dt;Wn=1;function O(){this.__data__=[],this.size=0}return Dt=O,Dt}var Mt,Gn;function Ba(){if(Gn)return Mt;Gn=1;function O(N,v){return N===v||N!==N&&v!==v}return Mt=O,Mt}var Bt,Kn;function wt(){if(Kn)return Bt;Kn=1;var O=Ba();function N(v,c){for(var h=v.length;h--;)if(O(v[h][0],c))return h;return-1}return Bt=N,Bt}var Ft,$n;function us(){if($n)return Ft;$n=1;var O=wt(),N=Array.prototype,v=N.splice;function c(h){var w=this.__data__,g=O(w,h);if(g<0)return!1;var _=w.length-1;return g==_?w.pop():v.call(w,g,1),--this.size,!0}return Ft=c,Ft}var Ht,Vn;function cs(){if(Vn)return Ht;Vn=1;var O=wt();function N(v){var c=this.__data__,h=O(c,v);return h<0?void 0:c[h][1]}return Ht=N,Ht}var Ut,Zn;function fs(){if(Zn)return Ut;Zn=1;var O=wt();function N(v){return O(this.__data__,v)>-1}return Ut=N,Ut}var zt,Yn;function ds(){if(Yn)return zt;Yn=1;var O=wt();function N(v,c){var h=this.__data__,w=O(h,v);return w<0?(++this.size,h.push([v,c])):h[w][1]=c,this}return zt=N,zt}var Wt,Jn;function Et(){if(Jn)return Wt;Jn=1;var O=ss(),N=us(),v=cs(),c=fs(),h=ds();function w(g){var _=-1,y=g==null?0:g.length;for(this.clear();++_<y;){var m=g[_];this.set(m[0],m[1])}}return w.prototype.clear=O,w.prototype.delete=N,w.prototype.get=v,w.prototype.has=c,w.prototype.set=h,Wt=w,Wt}var Gt,Qn;function hs(){if(Qn)return Gt;Qn=1;var O=Et();function N(){this.__data__=new O,this.size=0}return Gt=N,Gt}var Kt,Xn;function ps(){if(Xn)return Kt;Xn=1;function O(N){var v=this.__data__,c=v.delete(N);return this.size=v.size,c}return Kt=O,Kt}var $t,ei;function vs(){if(ei)return $t;ei=1;function O(N){return this.__data__.get(N)}return $t=O,$t}var Vt,ti;function gs(){if(ti)return Vt;ti=1;function O(N){return this.__data__.has(N)}return Vt=O,Vt}var Zt,ri;function Fa(){if(ri)return Zt;ri=1;var O=typeof at=="object"&&at&&at.Object===Object&&at;return Zt=O,Zt}var Yt,ni;function Fe(){if(ni)return Yt;ni=1;var O=Fa(),N=typeof self=="object"&&self&&self.Object===Object&&self,v=O||N||Function("return this")();return Yt=v,Yt}var Jt,ii;function On(){if(ii)return Jt;ii=1;var O=Fe(),N=O.Symbol;return Jt=N,Jt}var Qt,ai;function ms(){if(ai)return Qt;ai=1;var O=On(),N=Object.prototype,v=N.hasOwnProperty,c=N.toString,h=O?O.toStringTag:void 0;function w(g){var _=v.call(g,h),y=g[h];try{g[h]=void 0;var m=!0}catch(o){}var p=c.call(g);return m&&(_?g[h]=y:delete g[h]),p}return Qt=w,Qt}var Xt,oi;function ys(){if(oi)return Xt;oi=1;var O=Object.prototype,N=O.toString;function v(c){return N.call(c)}return Xt=v,Xt}var er,li;function St(){if(li)return er;li=1;var O=On(),N=ms(),v=ys(),c="[object Null]",h="[object Undefined]",w=O?O.toStringTag:void 0;function g(_){return _==null?_===void 0?h:c:w&&w in Object(_)?N(_):v(_)}return er=g,er}var tr,si;function Ha(){if(si)return tr;si=1;function O(N){var v=typeof N;return N!=null&&(v=="object"||v=="function")}return tr=O,tr}var rr,ui;function Ua(){if(ui)return rr;ui=1;var O=St(),N=Ha(),v="[object AsyncFunction]",c="[object Function]",h="[object GeneratorFunction]",w="[object Proxy]";function g(_){if(!N(_))return!1;var y=O(_);return y==c||y==h||y==v||y==w}return rr=g,rr}var nr,ci;function bs(){if(ci)return nr;ci=1;var O=Fe(),N=O["__core-js_shared__"];return nr=N,nr}var ir,fi;function xs(){if(fi)return ir;fi=1;var O=bs(),N=function(){var c=/[^.]+$/.exec(O&&O.keys&&O.keys.IE_PROTO||"");return c?"Symbol(src)_1."+c:""}();function v(c){return!!N&&N in c}return ir=v,ir}var ar,di;function za(){if(di)return ar;di=1;var O=Function.prototype,N=O.toString;function v(c){if(c!=null){try{return N.call(c)}catch(h){}try{return c+""}catch(h){}}return""}return ar=v,ar}var or,hi;function _s(){if(hi)return or;hi=1;var O=Ua(),N=xs(),v=Ha(),c=za(),h=/[\\^$.*+?()[\]{}|]/g,w=/^\[object .+?Constructor\]$/,g=Function.prototype,_=Object.prototype,y=g.toString,m=_.hasOwnProperty,p=RegExp("^"+y.call(m).replace(h,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function o(t){if(!v(t)||N(t))return!1;var r=O(t)?p:w;return r.test(c(t))}return or=o,or}var lr,pi;function js(){if(pi)return lr;pi=1;function O(N,v){return N==null?void 0:N[v]}return lr=O,lr}var sr,vi;function Ye(){if(vi)return sr;vi=1;var O=_s(),N=js();function v(c,h){var w=N(c,h);return O(w)?w:void 0}return sr=v,sr}var ur,gi;function wn(){if(gi)return ur;gi=1;var O=Ye(),N=Fe(),v=O(N,"Map");return ur=v,ur}var cr,mi;function kt(){if(mi)return cr;mi=1;var O=Ye(),N=O(Object,"create");return cr=N,cr}var fr,yi;function Os(){if(yi)return fr;yi=1;var O=kt();function N(){this.__data__=O?O(null):{},this.size=0}return fr=N,fr}var dr,bi;function ws(){if(bi)return dr;bi=1;function O(N){var v=this.has(N)&&delete this.__data__[N];return this.size-=v?1:0,v}return dr=O,dr}var hr,xi;function Es(){if(xi)return hr;xi=1;var O=kt(),N="__lodash_hash_undefined__",v=Object.prototype,c=v.hasOwnProperty;function h(w){var g=this.__data__;if(O){var _=g[w];return _===N?void 0:_}return c.call(g,w)?g[w]:void 0}return hr=h,hr}var pr,_i;function Ss(){if(_i)return pr;_i=1;var O=kt(),N=Object.prototype,v=N.hasOwnProperty;function c(h){var w=this.__data__;return O?w[h]!==void 0:v.call(w,h)}return pr=c,pr}var vr,ji;function ks(){if(ji)return vr;ji=1;var O=kt(),N="__lodash_hash_undefined__";function v(c,h){var w=this.__data__;return this.size+=this.has(c)?0:1,w[c]=O&&h===void 0?N:h,this}return vr=v,vr}var gr,Oi;function Ts(){if(Oi)return gr;Oi=1;var O=Os(),N=ws(),v=Es(),c=Ss(),h=ks();function w(g){var _=-1,y=g==null?0:g.length;for(this.clear();++_<y;){var m=g[_];this.set(m[0],m[1])}}return w.prototype.clear=O,w.prototype.delete=N,w.prototype.get=v,w.prototype.has=c,w.prototype.set=h,gr=w,gr}var mr,wi;function Ns(){if(wi)return mr;wi=1;var O=Ts(),N=Et(),v=wn();function c(){this.size=0,this.__data__={hash:new O,map:new(v||N),string:new O}}return mr=c,mr}var yr,Ei;function As(){if(Ei)return yr;Ei=1;function O(N){var v=typeof N;return v=="string"||v=="number"||v=="symbol"||v=="boolean"?N!=="__proto__":N===null}return yr=O,yr}var br,Si;function Tt(){if(Si)return br;Si=1;var O=As();function N(v,c){var h=v.__data__;return O(c)?h[typeof c=="string"?"string":"hash"]:h.map}return br=N,br}var xr,ki;function Cs(){if(ki)return xr;ki=1;var O=Tt();function N(v){var c=O(this,v).delete(v);return this.size-=c?1:0,c}return xr=N,xr}var _r,Ti;function Ps(){if(Ti)return _r;Ti=1;var O=Tt();function N(v){return O(this,v).get(v)}return _r=N,_r}var jr,Ni;function qs(){if(Ni)return jr;Ni=1;var O=Tt();function N(v){return O(this,v).has(v)}return jr=N,jr}var Or,Ai;function Rs(){if(Ai)return Or;Ai=1;var O=Tt();function N(v,c){var h=O(this,v),w=h.size;return h.set(v,c),this.size+=h.size==w?0:1,this}return Or=N,Or}var wr,Ci;function Wa(){if(Ci)return wr;Ci=1;var O=Ns(),N=Cs(),v=Ps(),c=qs(),h=Rs();function w(g){var _=-1,y=g==null?0:g.length;for(this.clear();++_<y;){var m=g[_];this.set(m[0],m[1])}}return w.prototype.clear=O,w.prototype.delete=N,w.prototype.get=v,w.prototype.has=c,w.prototype.set=h,wr=w,wr}var Er,Pi;function Ls(){if(Pi)return Er;Pi=1;var O=Et(),N=wn(),v=Wa(),c=200;function h(w,g){var _=this.__data__;if(_ instanceof O){var y=_.__data__;if(!N||y.length<c-1)return y.push([w,g]),this.size=++_.size,this;_=this.__data__=new v(y)}return _.set(w,g),this.size=_.size,this}return Er=h,Er}var Sr,qi;function Is(){if(qi)return Sr;qi=1;var O=Et(),N=hs(),v=ps(),c=vs(),h=gs(),w=Ls();function g(_){var y=this.__data__=new O(_);this.size=y.size}return g.prototype.clear=N,g.prototype.delete=v,g.prototype.get=c,g.prototype.has=h,g.prototype.set=w,Sr=g,Sr}var kr,Ri;function Ds(){if(Ri)return kr;Ri=1;var O="__lodash_hash_undefined__";function N(v){return this.__data__.set(v,O),this}return kr=N,kr}var Tr,Li;function Ms(){if(Li)return Tr;Li=1;function O(N){return this.__data__.has(N)}return Tr=O,Tr}var Nr,Ii;function Bs(){if(Ii)return Nr;Ii=1;var O=Wa(),N=Ds(),v=Ms();function c(h){var w=-1,g=h==null?0:h.length;for(this.__data__=new O;++w<g;)this.add(h[w])}return c.prototype.add=c.prototype.push=N,c.prototype.has=v,Nr=c,Nr}var Ar,Di;function Fs(){if(Di)return Ar;Di=1;function O(N,v){for(var c=-1,h=N==null?0:N.length;++c<h;)if(v(N[c],c,N))return!0;return!1}return Ar=O,Ar}var Cr,Mi;function Hs(){if(Mi)return Cr;Mi=1;function O(N,v){return N.has(v)}return Cr=O,Cr}var Pr,Bi;function Ga(){if(Bi)return Pr;Bi=1;var O=Bs(),N=Fs(),v=Hs(),c=1,h=2;function w(g,_,y,m,p,o){var t=y&c,r=g.length,f=_.length;if(r!=f&&!(t&&f>r))return!1;var s=o.get(g),l=o.get(_);if(s&&l)return s==_&&l==g;var n=-1,a=!0,d=y&h?new O:void 0;for(o.set(g,_),o.set(_,g);++n<r;){var i=g[n],u=_[n];if(m)var j=t?m(u,i,n,_,g,o):m(i,u,n,g,_,o);if(j!==void 0){if(j)continue;a=!1;break}if(d){if(!N(_,function(b,E){if(!v(d,E)&&(i===b||p(i,b,y,m,o)))return d.push(E)})){a=!1;break}}else if(!(i===u||p(i,u,y,m,o))){a=!1;break}}return o.delete(g),o.delete(_),a}return Pr=w,Pr}var qr,Fi;function Us(){if(Fi)return qr;Fi=1;var O=Fe(),N=O.Uint8Array;return qr=N,qr}var Rr,Hi;function zs(){if(Hi)return Rr;Hi=1;function O(N){var v=-1,c=Array(N.size);return N.forEach(function(h,w){c[++v]=[w,h]}),c}return Rr=O,Rr}var Lr,Ui;function Ws(){if(Ui)return Lr;Ui=1;function O(N){var v=-1,c=Array(N.size);return N.forEach(function(h){c[++v]=h}),c}return Lr=O,Lr}var Ir,zi;function Gs(){if(zi)return Ir;zi=1;var O=On(),N=Us(),v=Ba(),c=Ga(),h=zs(),w=Ws(),g=1,_=2,y="[object Boolean]",m="[object Date]",p="[object Error]",o="[object Map]",t="[object Number]",r="[object RegExp]",f="[object Set]",s="[object String]",l="[object Symbol]",n="[object ArrayBuffer]",a="[object DataView]",d=O?O.prototype:void 0,i=d?d.valueOf:void 0;function u(j,b,E,q,S,x,k){switch(E){case a:if(j.byteLength!=b.byteLength||j.byteOffset!=b.byteOffset)return!1;j=j.buffer,b=b.buffer;case n:return!(j.byteLength!=b.byteLength||!x(new N(j),new N(b)));case y:case m:case t:return v(+j,+b);case p:return j.name==b.name&&j.message==b.message;case r:case s:return j==b+"";case o:var C=h;case f:var L=q&g;if(C||(C=w),j.size!=b.size&&!L)return!1;var T=k.get(j);if(T)return T==b;q|=_,k.set(j,b);var R=c(C(j),C(b),q,S,x,k);return k.delete(j),R;case l:if(i)return i.call(j)==i.call(b)}return!1}return Ir=u,Ir}var Dr,Wi;function Ks(){if(Wi)return Dr;Wi=1;function O(N,v){for(var c=-1,h=v.length,w=N.length;++c<h;)N[w+c]=v[c];return N}return Dr=O,Dr}var Mr,Gi;function En(){if(Gi)return Mr;Gi=1;var O=Array.isArray;return Mr=O,Mr}var Br,Ki;function $s(){if(Ki)return Br;Ki=1;var O=Ks(),N=En();function v(c,h,w){var g=h(c);return N(c)?g:O(g,w(c))}return Br=v,Br}var Fr,$i;function Vs(){if($i)return Fr;$i=1;function O(N,v){for(var c=-1,h=N==null?0:N.length,w=0,g=[];++c<h;){var _=N[c];v(_,c,N)&&(g[w++]=_)}return g}return Fr=O,Fr}var Hr,Vi;function Zs(){if(Vi)return Hr;Vi=1;function O(){return[]}return Hr=O,Hr}var Ur,Zi;function Ys(){if(Zi)return Ur;Zi=1;var O=Vs(),N=Zs(),v=Object.prototype,c=v.propertyIsEnumerable,h=Object.getOwnPropertySymbols,w=h?function(g){return g==null?[]:(g=Object(g),O(h(g),function(_){return c.call(g,_)}))}:N;return Ur=w,Ur}var zr,Yi;function Js(){if(Yi)return zr;Yi=1;function O(N,v){for(var c=-1,h=Array(N);++c<N;)h[c]=v(c);return h}return zr=O,zr}var Wr,Ji;function Nt(){if(Ji)return Wr;Ji=1;function O(N){return N!=null&&typeof N=="object"}return Wr=O,Wr}var Gr,Qi;function Qs(){if(Qi)return Gr;Qi=1;var O=St(),N=Nt(),v="[object Arguments]";function c(h){return N(h)&&O(h)==v}return Gr=c,Gr}var Kr,Xi;function Xs(){if(Xi)return Kr;Xi=1;var O=Qs(),N=Nt(),v=Object.prototype,c=v.hasOwnProperty,h=v.propertyIsEnumerable,w=O(function(){return arguments}())?O:function(g){return N(g)&&c.call(g,"callee")&&!h.call(g,"callee")};return Kr=w,Kr}var tt={exports:{}},$r,ea;function eu(){if(ea)return $r;ea=1;function O(){return!1}return $r=O,$r}tt.exports;var ta;function Ka(){return ta||(ta=1,function(O,N){var v=Fe(),c=eu(),h=N&&!N.nodeType&&N,w=h&&!0&&O&&!O.nodeType&&O,g=w&&w.exports===h,_=g?v.Buffer:void 0,y=_?_.isBuffer:void 0,m=y||c;O.exports=m}(tt,tt.exports)),tt.exports}var Vr,ra;function tu(){if(ra)return Vr;ra=1;var O=9007199254740991,N=/^(?:0|[1-9]\d*)$/;function v(c,h){var w=typeof c;return h=h==null?O:h,!!h&&(w=="number"||w!="symbol"&&N.test(c))&&c>-1&&c%1==0&&c<h}return Vr=v,Vr}var Zr,na;function $a(){if(na)return Zr;na=1;var O=9007199254740991;function N(v){return typeof v=="number"&&v>-1&&v%1==0&&v<=O}return Zr=N,Zr}var Yr,ia;function ru(){if(ia)return Yr;ia=1;var O=St(),N=$a(),v=Nt(),c="[object Arguments]",h="[object Array]",w="[object Boolean]",g="[object Date]",_="[object Error]",y="[object Function]",m="[object Map]",p="[object Number]",o="[object Object]",t="[object RegExp]",r="[object Set]",f="[object String]",s="[object WeakMap]",l="[object ArrayBuffer]",n="[object DataView]",a="[object Float32Array]",d="[object Float64Array]",i="[object Int8Array]",u="[object Int16Array]",j="[object Int32Array]",b="[object Uint8Array]",E="[object Uint8ClampedArray]",q="[object Uint16Array]",S="[object Uint32Array]",x={};x[a]=x[d]=x[i]=x[u]=x[j]=x[b]=x[E]=x[q]=x[S]=!0,x[c]=x[h]=x[l]=x[w]=x[n]=x[g]=x[_]=x[y]=x[m]=x[p]=x[o]=x[t]=x[r]=x[f]=x[s]=!1;function k(C){return v(C)&&N(C.length)&&!!x[O(C)]}return Yr=k,Yr}var Jr,aa;function nu(){if(aa)return Jr;aa=1;function O(N){return function(v){return N(v)}}return Jr=O,Jr}var rt={exports:{}};rt.exports;var oa;function iu(){return oa||(oa=1,function(O,N){var v=Fa(),c=N&&!N.nodeType&&N,h=c&&!0&&O&&!O.nodeType&&O,w=h&&h.exports===c,g=w&&v.process,_=function(){try{var y=h&&h.require&&h.require("util").types;return y||g&&g.binding&&g.binding("util")}catch(m){}}();O.exports=_}(rt,rt.exports)),rt.exports}var Qr,la;function Va(){if(la)return Qr;la=1;var O=ru(),N=nu(),v=iu(),c=v&&v.isTypedArray,h=c?N(c):O;return Qr=h,Qr}var Xr,sa;function au(){if(sa)return Xr;sa=1;var O=Js(),N=Xs(),v=En(),c=Ka(),h=tu(),w=Va(),g=Object.prototype,_=g.hasOwnProperty;function y(m,p){var o=v(m),t=!o&&N(m),r=!o&&!t&&c(m),f=!o&&!t&&!r&&w(m),s=o||t||r||f,l=s?O(m.length,String):[],n=l.length;for(var a in m)(p||_.call(m,a))&&!(s&&(a=="length"||r&&(a=="offset"||a=="parent")||f&&(a=="buffer"||a=="byteLength"||a=="byteOffset")||h(a,n)))&&l.push(a);return l}return Xr=y,Xr}var en,ua;function ou(){if(ua)return en;ua=1;var O=Object.prototype;function N(v){var c=v&&v.constructor,h=typeof c=="function"&&c.prototype||O;return v===h}return en=N,en}var tn,ca;function lu(){if(ca)return tn;ca=1;function O(N,v){return function(c){return N(v(c))}}return tn=O,tn}var rn,fa;function su(){if(fa)return rn;fa=1;var O=lu(),N=O(Object.keys,Object);return rn=N,rn}var nn,da;function uu(){if(da)return nn;da=1;var O=ou(),N=su(),v=Object.prototype,c=v.hasOwnProperty;function h(w){if(!O(w))return N(w);var g=[];for(var _ in Object(w))c.call(w,_)&&_!="constructor"&&g.push(_);return g}return nn=h,nn}var an,ha;function cu(){if(ha)return an;ha=1;var O=Ua(),N=$a();function v(c){return c!=null&&N(c.length)&&!O(c)}return an=v,an}var on,pa;function fu(){if(pa)return on;pa=1;var O=au(),N=uu(),v=cu();function c(h){return v(h)?O(h):N(h)}return on=c,on}var ln,va;function du(){if(va)return ln;va=1;var O=$s(),N=Ys(),v=fu();function c(h){return O(h,v,N)}return ln=c,ln}var sn,ga;function hu(){if(ga)return sn;ga=1;var O=du(),N=1,v=Object.prototype,c=v.hasOwnProperty;function h(w,g,_,y,m,p){var o=_&N,t=O(w),r=t.length,f=O(g),s=f.length;if(r!=s&&!o)return!1;for(var l=r;l--;){var n=t[l];if(!(o?n in g:c.call(g,n)))return!1}var a=p.get(w),d=p.get(g);if(a&&d)return a==g&&d==w;var i=!0;p.set(w,g),p.set(g,w);for(var u=o;++l<r;){n=t[l];var j=w[n],b=g[n];if(y)var E=o?y(b,j,n,g,w,p):y(j,b,n,w,g,p);if(!(E===void 0?j===b||m(j,b,_,y,p):E)){i=!1;break}u||(u=n=="constructor")}if(i&&!u){var q=w.constructor,S=g.constructor;q!=S&&"constructor"in w&&"constructor"in g&&!(typeof q=="function"&&q instanceof q&&typeof S=="function"&&S instanceof S)&&(i=!1)}return p.delete(w),p.delete(g),i}return sn=h,sn}var un,ma;function pu(){if(ma)return un;ma=1;var O=Ye(),N=Fe(),v=O(N,"DataView");return un=v,un}var cn,ya;function vu(){if(ya)return cn;ya=1;var O=Ye(),N=Fe(),v=O(N,"Promise");return cn=v,cn}var fn,ba;function gu(){if(ba)return fn;ba=1;var O=Ye(),N=Fe(),v=O(N,"Set");return fn=v,fn}var dn,xa;function mu(){if(xa)return dn;xa=1;var O=Ye(),N=Fe(),v=O(N,"WeakMap");return dn=v,dn}var hn,_a;function yu(){if(_a)return hn;_a=1;var O=pu(),N=wn(),v=vu(),c=gu(),h=mu(),w=St(),g=za(),_="[object Map]",y="[object Object]",m="[object Promise]",p="[object Set]",o="[object WeakMap]",t="[object DataView]",r=g(O),f=g(N),s=g(v),l=g(c),n=g(h),a=w;return(O&&a(new O(new ArrayBuffer(1)))!=t||N&&a(new N)!=_||v&&a(v.resolve())!=m||c&&a(new c)!=p||h&&a(new h)!=o)&&(a=function(d){var i=w(d),u=i==y?d.constructor:void 0,j=u?g(u):"";if(j)switch(j){case r:return t;case f:return _;case s:return m;case l:return p;case n:return o}return i}),hn=a,hn}var pn,ja;function bu(){if(ja)return pn;ja=1;var O=Is(),N=Ga(),v=Gs(),c=hu(),h=yu(),w=En(),g=Ka(),_=Va(),y=1,m="[object Arguments]",p="[object Array]",o="[object Object]",t=Object.prototype,r=t.hasOwnProperty;function f(s,l,n,a,d,i){var u=w(s),j=w(l),b=u?p:h(s),E=j?p:h(l);b=b==m?o:b,E=E==m?o:E;var q=b==o,S=E==o,x=b==E;if(x&&g(s)){if(!g(l))return!1;u=!0,q=!1}if(x&&!q)return i||(i=new O),u||_(s)?N(s,l,n,a,d,i):v(s,l,b,n,a,d,i);if(!(n&y)){var k=q&&r.call(s,"__wrapped__"),C=S&&r.call(l,"__wrapped__");if(k||C){var L=k?s.value():s,T=C?l.value():l;return i||(i=new O),d(L,T,n,a,i)}}return x?(i||(i=new O),c(s,l,n,a,d,i)):!1}return pn=f,pn}var vn,Oa;function xu(){if(Oa)return vn;Oa=1;var O=bu(),N=Nt();function v(c,h,w,g,_){return c===h?!0:c==null||h==null||!N(c)&&!N(h)?c!==c&&h!==h:O(c,h,w,g,v,_)}return vn=v,vn}var gn,wa;function _u(){if(wa)return gn;wa=1;var O=xu();function N(v,c){return O(v,c)}return gn=N,gn}var mt={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */var ju=mt.exports,Ea;function Ou(){return Ea||(Ea=1,function(O,N){(function(c,h){O.exports=h()})(typeof self!="undefined"?self:ju,function(){return function(v){var c={};function h(w){if(c[w])return c[w].exports;var g=c[w]={i:w,l:!1,exports:{}};return v[w].call(g.exports,g,g.exports,h),g.l=!0,g.exports}return h.m=v,h.c=c,h.d=function(w,g,_){h.o(w,g)||Object.defineProperty(w,g,{configurable:!1,enumerable:!0,get:_})},h.n=function(w){var g=w&&w.__esModule?function(){return w.default}:function(){return w};return h.d(g,"a",g),g},h.o=function(w,g){return Object.prototype.hasOwnProperty.call(w,g)},h.p="",h(h.s=109)}([function(v,c,h){Object.defineProperty(c,"__esModule",{value:!0});var w=h(17),g=h(18),_=h(19),y=h(45),m=h(46),p=h(47),o=h(48),t=h(49),r=h(12),f=h(32),s=h(33),l=h(31),n=h(1),a={Scope:n.Scope,create:n.create,find:n.find,query:n.query,register:n.register,Container:w.default,Format:g.default,Leaf:_.default,Embed:o.default,Scroll:y.default,Block:p.default,Inline:m.default,Text:t.default,Attributor:{Attribute:r.default,Class:f.default,Style:s.default,Store:l.default}};c.default=a},function(v,c,h){var w=this&&this.__extends||function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var d in a)a.hasOwnProperty(d)&&(n[d]=a[d])};return function(n,a){l(n,a);function d(){this.constructor=n}n.prototype=a===null?Object.create(a):(d.prototype=a.prototype,new d)}}();Object.defineProperty(c,"__esModule",{value:!0});var g=function(l){w(n,l);function n(a){var d=this;return a="[Parchment] "+a,d=l.call(this,a)||this,d.message=a,d.name=d.constructor.name,d}return n}(Error);c.ParchmentError=g;var _={},y={},m={},p={};c.DATA_KEY="__blot";var o;(function(l){l[l.TYPE=3]="TYPE",l[l.LEVEL=12]="LEVEL",l[l.ATTRIBUTE=13]="ATTRIBUTE",l[l.BLOT=14]="BLOT",l[l.INLINE=7]="INLINE",l[l.BLOCK=11]="BLOCK",l[l.BLOCK_BLOT=10]="BLOCK_BLOT",l[l.INLINE_BLOT=6]="INLINE_BLOT",l[l.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",l[l.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",l[l.ANY=15]="ANY"})(o=c.Scope||(c.Scope={}));function t(l,n){var a=f(l);if(a==null)throw new g("Unable to create "+l+" blot");var d=a,i=l instanceof Node||l.nodeType===Node.TEXT_NODE?l:d.create(n);return new d(i,n)}c.create=t;function r(l,n){return n===void 0&&(n=!1),l==null?null:l[c.DATA_KEY]!=null?l[c.DATA_KEY].blot:n?r(l.parentNode,n):null}c.find=r;function f(l,n){n===void 0&&(n=o.ANY);var a;if(typeof l=="string")a=p[l]||_[l];else if(l instanceof Text||l.nodeType===Node.TEXT_NODE)a=p.text;else if(typeof l=="number")l&o.LEVEL&o.BLOCK?a=p.block:l&o.LEVEL&o.INLINE&&(a=p.inline);else if(l instanceof HTMLElement){var d=(l.getAttribute("class")||"").split(/\s+/);for(var i in d)if(a=y[d[i]],a)break;a=a||m[l.tagName]}return a==null?null:n&o.LEVEL&a.scope&&n&o.TYPE&a.scope?a:null}c.query=f;function s(){for(var l=[],n=0;n<arguments.length;n++)l[n]=arguments[n];if(l.length>1)return l.map(function(i){return s(i)});var a=l[0];if(typeof a.blotName!="string"&&typeof a.attrName!="string")throw new g("Invalid definition");if(a.blotName==="abstract")throw new g("Cannot register abstract class");if(p[a.blotName||a.attrName]=a,typeof a.keyName=="string")_[a.keyName]=a;else if(a.className!=null&&(y[a.className]=a),a.tagName!=null){Array.isArray(a.tagName)?a.tagName=a.tagName.map(function(i){return i.toUpperCase()}):a.tagName=a.tagName.toUpperCase();var d=Array.isArray(a.tagName)?a.tagName:[a.tagName];d.forEach(function(i){(m[i]==null||a.className==null)&&(m[i]=a)})}return a}c.register=s},function(v,c,h){var w=h(51),g=h(11),_=h(3),y=h(20),m="\0",p=function(o){Array.isArray(o)?this.ops=o:o!=null&&Array.isArray(o.ops)?this.ops=o.ops:this.ops=[]};p.prototype.insert=function(o,t){var r={};return o.length===0?this:(r.insert=o,t!=null&&typeof t=="object"&&Object.keys(t).length>0&&(r.attributes=t),this.push(r))},p.prototype.delete=function(o){return o<=0?this:this.push({delete:o})},p.prototype.retain=function(o,t){if(o<=0)return this;var r={retain:o};return t!=null&&typeof t=="object"&&Object.keys(t).length>0&&(r.attributes=t),this.push(r)},p.prototype.push=function(o){var t=this.ops.length,r=this.ops[t-1];if(o=_(!0,{},o),typeof r=="object"){if(typeof o.delete=="number"&&typeof r.delete=="number")return this.ops[t-1]={delete:r.delete+o.delete},this;if(typeof r.delete=="number"&&o.insert!=null&&(t-=1,r=this.ops[t-1],typeof r!="object"))return this.ops.unshift(o),this;if(g(o.attributes,r.attributes)){if(typeof o.insert=="string"&&typeof r.insert=="string")return this.ops[t-1]={insert:r.insert+o.insert},typeof o.attributes=="object"&&(this.ops[t-1].attributes=o.attributes),this;if(typeof o.retain=="number"&&typeof r.retain=="number")return this.ops[t-1]={retain:r.retain+o.retain},typeof o.attributes=="object"&&(this.ops[t-1].attributes=o.attributes),this}}return t===this.ops.length?this.ops.push(o):this.ops.splice(t,0,o),this},p.prototype.chop=function(){var o=this.ops[this.ops.length-1];return o&&o.retain&&!o.attributes&&this.ops.pop(),this},p.prototype.filter=function(o){return this.ops.filter(o)},p.prototype.forEach=function(o){this.ops.forEach(o)},p.prototype.map=function(o){return this.ops.map(o)},p.prototype.partition=function(o){var t=[],r=[];return this.forEach(function(f){var s=o(f)?t:r;s.push(f)}),[t,r]},p.prototype.reduce=function(o,t){return this.ops.reduce(o,t)},p.prototype.changeLength=function(){return this.reduce(function(o,t){return t.insert?o+y.length(t):t.delete?o-t.delete:o},0)},p.prototype.length=function(){return this.reduce(function(o,t){return o+y.length(t)},0)},p.prototype.slice=function(o,t){o=o||0,typeof t!="number"&&(t=1/0);for(var r=[],f=y.iterator(this.ops),s=0;s<t&&f.hasNext();){var l;s<o?l=f.next(o-s):(l=f.next(t-s),r.push(l)),s+=y.length(l)}return new p(r)},p.prototype.compose=function(o){var t=y.iterator(this.ops),r=y.iterator(o.ops),f=[],s=r.peek();if(s!=null&&typeof s.retain=="number"&&s.attributes==null){for(var l=s.retain;t.peekType()==="insert"&&t.peekLength()<=l;)l-=t.peekLength(),f.push(t.next());s.retain-l>0&&r.next(s.retain-l)}for(var n=new p(f);t.hasNext()||r.hasNext();)if(r.peekType()==="insert")n.push(r.next());else if(t.peekType()==="delete")n.push(t.next());else{var a=Math.min(t.peekLength(),r.peekLength()),d=t.next(a),i=r.next(a);if(typeof i.retain=="number"){var u={};typeof d.retain=="number"?u.retain=a:u.insert=d.insert;var j=y.attributes.compose(d.attributes,i.attributes,typeof d.retain=="number");if(j&&(u.attributes=j),n.push(u),!r.hasNext()&&g(n.ops[n.ops.length-1],u)){var b=new p(t.rest());return n.concat(b).chop()}}else typeof i.delete=="number"&&typeof d.retain=="number"&&n.push(i)}return n.chop()},p.prototype.concat=function(o){var t=new p(this.ops.slice());return o.ops.length>0&&(t.push(o.ops[0]),t.ops=t.ops.concat(o.ops.slice(1))),t},p.prototype.diff=function(o,t){if(this.ops===o.ops)return new p;var r=[this,o].map(function(a){return a.map(function(d){if(d.insert!=null)return typeof d.insert=="string"?d.insert:m;var i=a===o?"on":"with";throw new Error("diff() called "+i+" non-document")}).join("")}),f=new p,s=w(r[0],r[1],t),l=y.iterator(this.ops),n=y.iterator(o.ops);return s.forEach(function(a){for(var d=a[1].length;d>0;){var i=0;switch(a[0]){case w.INSERT:i=Math.min(n.peekLength(),d),f.push(n.next(i));break;case w.DELETE:i=Math.min(d,l.peekLength()),l.next(i),f.delete(i);break;case w.EQUAL:i=Math.min(l.peekLength(),n.peekLength(),d);var u=l.next(i),j=n.next(i);g(u.insert,j.insert)?f.retain(i,y.attributes.diff(u.attributes,j.attributes)):f.push(j).delete(i);break}d-=i}}),f.chop()},p.prototype.eachLine=function(o,t){t=t||`
`;for(var r=y.iterator(this.ops),f=new p,s=0;r.hasNext();){if(r.peekType()!=="insert")return;var l=r.peek(),n=y.length(l)-r.peekLength(),a=typeof l.insert=="string"?l.insert.indexOf(t,n)-n:-1;if(a<0)f.push(r.next());else if(a>0)f.push(r.next(a));else{if(o(f,r.next(1).attributes||{},s)===!1)return;s+=1,f=new p}}f.length()>0&&o(f,{},s)},p.prototype.transform=function(o,t){if(t=!!t,typeof o=="number")return this.transformPosition(o,t);for(var r=y.iterator(this.ops),f=y.iterator(o.ops),s=new p;r.hasNext()||f.hasNext();)if(r.peekType()==="insert"&&(t||f.peekType()!=="insert"))s.retain(y.length(r.next()));else if(f.peekType()==="insert")s.push(f.next());else{var l=Math.min(r.peekLength(),f.peekLength()),n=r.next(l),a=f.next(l);if(n.delete)continue;a.delete?s.push(a):s.retain(l,y.attributes.transform(n.attributes,a.attributes,t))}return s.chop()},p.prototype.transformPosition=function(o,t){t=!!t;for(var r=y.iterator(this.ops),f=0;r.hasNext()&&f<=o;){var s=r.peekLength(),l=r.peekType();if(r.next(),l==="delete"){o-=Math.min(s,o-f);continue}else l==="insert"&&(f<o||!t)&&(o+=s);f+=s}return o},v.exports=p},function(v,c){var h=Object.prototype.hasOwnProperty,w=Object.prototype.toString,g=Object.defineProperty,_=Object.getOwnPropertyDescriptor,y=function(r){return typeof Array.isArray=="function"?Array.isArray(r):w.call(r)==="[object Array]"},m=function(r){if(!r||w.call(r)!=="[object Object]")return!1;var f=h.call(r,"constructor"),s=r.constructor&&r.constructor.prototype&&h.call(r.constructor.prototype,"isPrototypeOf");if(r.constructor&&!f&&!s)return!1;var l;for(l in r);return typeof l=="undefined"||h.call(r,l)},p=function(r,f){g&&f.name==="__proto__"?g(r,f.name,{enumerable:!0,configurable:!0,value:f.newValue,writable:!0}):r[f.name]=f.newValue},o=function(r,f){if(f==="__proto__")if(h.call(r,f)){if(_)return _(r,f).value}else return;return r[f]};v.exports=function t(){var r,f,s,l,n,a,d=arguments[0],i=1,u=arguments.length,j=!1;for(typeof d=="boolean"&&(j=d,d=arguments[1]||{},i=2),(d==null||typeof d!="object"&&typeof d!="function")&&(d={});i<u;++i)if(r=arguments[i],r!=null)for(f in r)s=o(d,f),l=o(r,f),d!==l&&(j&&l&&(m(l)||(n=y(l)))?(n?(n=!1,a=s&&y(s)?s:[]):a=s&&m(s)?s:{},p(d,{name:f,newValue:t(j,a,l)})):typeof l!="undefined"&&p(d,{name:f,newValue:l}));return d}},function(v,c,h){Object.defineProperty(c,"__esModule",{value:!0}),c.default=c.BlockEmbed=c.bubbleFormats=void 0;var w=function(){function x(k,C){for(var L=0;L<C.length;L++){var T=C[L];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(k,T.key,T)}}return function(k,C,L){return C&&x(k.prototype,C),L&&x(k,L),k}}(),g=function x(k,C,L){k===null&&(k=Function.prototype);var T=Object.getOwnPropertyDescriptor(k,C);if(T===void 0){var R=Object.getPrototypeOf(k);return R===null?void 0:x(R,C,L)}else{if("value"in T)return T.value;var M=T.get;return M===void 0?void 0:M.call(L)}},_=h(3),y=d(_),m=h(2),p=d(m),o=h(0),t=d(o),r=h(16),f=d(r),s=h(6),l=d(s),n=h(7),a=d(n);function d(x){return x&&x.__esModule?x:{default:x}}function i(x,k){if(!(x instanceof k))throw new TypeError("Cannot call a class as a function")}function u(x,k){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:x}function j(x,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);x.prototype=Object.create(k&&k.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(x,k):x.__proto__=k)}var b=1,E=function(x){j(k,x);function k(){return i(this,k),u(this,(k.__proto__||Object.getPrototypeOf(k)).apply(this,arguments))}return w(k,[{key:"attach",value:function(){g(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"attach",this).call(this),this.attributes=new t.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new p.default().insert(this.value(),(0,y.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(L,T){var R=t.default.query(L,t.default.Scope.BLOCK_ATTRIBUTE);R!=null&&this.attributes.attribute(R,T)}},{key:"formatAt",value:function(L,T,R,M){this.format(R,M)}},{key:"insertAt",value:function(L,T,R){if(typeof T=="string"&&T.endsWith(`
`)){var M=t.default.create(q.blotName);this.parent.insertBefore(M,L===0?this:this.next),M.insertAt(0,T.slice(0,-1))}else g(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"insertAt",this).call(this,L,T,R)}}]),k}(t.default.Embed);E.scope=t.default.Scope.BLOCK_BLOT;var q=function(x){j(k,x);function k(C){i(this,k);var L=u(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,C));return L.cache={},L}return w(k,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(t.default.Leaf).reduce(function(L,T){return T.length()===0?L:L.insert(T.value(),S(T))},new p.default).insert(`
`,S(this))),this.cache.delta}},{key:"deleteAt",value:function(L,T){g(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"deleteAt",this).call(this,L,T),this.cache={}}},{key:"formatAt",value:function(L,T,R,M){T<=0||(t.default.query(R,t.default.Scope.BLOCK)?L+T===this.length()&&this.format(R,M):g(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"formatAt",this).call(this,L,Math.min(T,this.length()-L-1),R,M),this.cache={})}},{key:"insertAt",value:function(L,T,R){if(R!=null)return g(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"insertAt",this).call(this,L,T,R);if(T.length!==0){var M=T.split(`
`),z=M.shift();z.length>0&&(L<this.length()-1||this.children.tail==null?g(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"insertAt",this).call(this,Math.min(L,this.length()-1),z):this.children.tail.insertAt(this.children.tail.length(),z),this.cache={});var H=this;M.reduce(function(I,A){return H=H.split(I,!0),H.insertAt(0,A),A.length},L+z.length)}}},{key:"insertBefore",value:function(L,T){var R=this.children.head;g(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"insertBefore",this).call(this,L,T),R instanceof f.default&&R.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=g(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"length",this).call(this)+b),this.cache.length}},{key:"moveChildren",value:function(L,T){g(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"moveChildren",this).call(this,L,T),this.cache={}}},{key:"optimize",value:function(L){g(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"optimize",this).call(this,L),this.cache={}}},{key:"path",value:function(L){return g(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"path",this).call(this,L,!0)}},{key:"removeChild",value:function(L){g(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"removeChild",this).call(this,L),this.cache={}}},{key:"split",value:function(L){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(T&&(L===0||L>=this.length()-b)){var R=this.clone();return L===0?(this.parent.insertBefore(R,this),this):(this.parent.insertBefore(R,this.next),R)}else{var M=g(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"split",this).call(this,L,T);return this.cache={},M}}}]),k}(t.default.Block);q.blotName="block",q.tagName="P",q.defaultChild="break",q.allowedChildren=[l.default,t.default.Embed,a.default];function S(x){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return x==null||(typeof x.formats=="function"&&(k=(0,y.default)(k,x.formats())),x.parent==null||x.parent.blotName=="scroll"||x.parent.statics.scope!==x.statics.scope)?k:S(x.parent,k)}c.bubbleFormats=S,c.BlockEmbed=E,c.default=q},function(v,c,h){Object.defineProperty(c,"__esModule",{value:!0}),c.default=c.overload=c.expandConfig=void 0;var w=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},g=function(){function H(I,A){var D=[],B=!0,W=!1,F=void 0;try{for(var P=I[Symbol.iterator](),U;!(B=(U=P.next()).done)&&(D.push(U.value),!(A&&D.length===A));B=!0);}catch(G){W=!0,F=G}finally{try{!B&&P.return&&P.return()}finally{if(W)throw F}}return D}return function(I,A){if(Array.isArray(I))return I;if(Symbol.iterator in Object(I))return H(I,A);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_=function(){function H(I,A){for(var D=0;D<A.length;D++){var B=A[D];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(I,B.key,B)}}return function(I,A,D){return A&&H(I.prototype,A),D&&H(I,D),I}}();h(50);var y=h(2),m=S(y),p=h(14),o=S(p),t=h(8),r=S(t),f=h(9),s=S(f),l=h(0),n=S(l),a=h(15),d=S(a),i=h(3),u=S(i),j=h(10),b=S(j),E=h(34),q=S(E);function S(H){return H&&H.__esModule?H:{default:H}}function x(H,I,A){return I in H?Object.defineProperty(H,I,{value:A,enumerable:!0,configurable:!0,writable:!0}):H[I]=A,H}function k(H,I){if(!(H instanceof I))throw new TypeError("Cannot call a class as a function")}var C=(0,b.default)("quill"),L=function(){_(H,null,[{key:"debug",value:function(A){A===!0&&(A="log"),b.default.level(A)}},{key:"find",value:function(A){return A.__quill||n.default.find(A)}},{key:"import",value:function(A){return this.imports[A]==null&&C.error("Cannot import "+A+". Are you sure it was registered?"),this.imports[A]}},{key:"register",value:function(A,D){var B=this,W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof A!="string"){var F=A.attrName||A.blotName;typeof F=="string"?this.register("formats/"+F,A,D):Object.keys(A).forEach(function(P){B.register(P,A[P],D)})}else this.imports[A]!=null&&!W&&C.warn("Overwriting "+A+" with",D),this.imports[A]=D,(A.startsWith("blots/")||A.startsWith("formats/"))&&D.blotName!=="abstract"?n.default.register(D):A.startsWith("modules")&&typeof D.register=="function"&&D.register()}}]);function H(I){var A=this,D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(k(this,H),this.options=T(I,D),this.container=this.options.container,this.container==null)return C.error("Invalid Quill container",I);this.options.debug&&H.debug(this.options.debug);var B=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new r.default,this.scroll=n.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new o.default(this.scroll),this.selection=new d.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(r.default.events.EDITOR_CHANGE,function(F){F===r.default.events.TEXT_CHANGE&&A.root.classList.toggle("ql-blank",A.editor.isBlank())}),this.emitter.on(r.default.events.SCROLL_UPDATE,function(F,P){var U=A.selection.lastRange,G=U&&U.length===0?U.index:void 0;R.call(A,function(){return A.editor.update(null,P,G)},F)});var W=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+B+"<p><br></p></div>");this.setContents(W),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return _(H,[{key:"addContainer",value:function(A){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof A=="string"){var B=A;A=document.createElement("div"),A.classList.add(B)}return this.container.insertBefore(A,D),A}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(A,D,B){var W=this,F=M(A,D,B),P=g(F,4);return A=P[0],D=P[1],B=P[3],R.call(this,function(){return W.editor.deleteText(A,D)},B,A,-1*D)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(A),this.container.classList.toggle("ql-disabled",!A)}},{key:"focus",value:function(){var A=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=A,this.scrollIntoView()}},{key:"format",value:function(A,D){var B=this,W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:r.default.sources.API;return R.call(this,function(){var F=B.getSelection(!0),P=new m.default;if(F==null)return P;if(n.default.query(A,n.default.Scope.BLOCK))P=B.editor.formatLine(F.index,F.length,x({},A,D));else{if(F.length===0)return B.selection.format(A,D),P;P=B.editor.formatText(F.index,F.length,x({},A,D))}return B.setSelection(F,r.default.sources.SILENT),P},W)}},{key:"formatLine",value:function(A,D,B,W,F){var P=this,U=void 0,G=M(A,D,B,W,F),K=g(G,4);return A=K[0],D=K[1],U=K[2],F=K[3],R.call(this,function(){return P.editor.formatLine(A,D,U)},F,A,0)}},{key:"formatText",value:function(A,D,B,W,F){var P=this,U=void 0,G=M(A,D,B,W,F),K=g(G,4);return A=K[0],D=K[1],U=K[2],F=K[3],R.call(this,function(){return P.editor.formatText(A,D,U)},F,A,0)}},{key:"getBounds",value:function(A){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,B=void 0;typeof A=="number"?B=this.selection.getBounds(A,D):B=this.selection.getBounds(A.index,A.length);var W=this.container.getBoundingClientRect();return{bottom:B.bottom-W.top,height:B.height,left:B.left-W.left,right:B.right-W.left,top:B.top-W.top,width:B.width}}},{key:"getContents",value:function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-A,B=M(A,D),W=g(B,2);return A=W[0],D=W[1],this.editor.getContents(A,D)}},{key:"getFormat",value:function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof A=="number"?this.editor.getFormat(A,D):this.editor.getFormat(A.index,A.length)}},{key:"getIndex",value:function(A){return A.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(A){return this.scroll.leaf(A)}},{key:"getLine",value:function(A){return this.scroll.line(A)}},{key:"getLines",value:function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof A!="number"?this.scroll.lines(A.index,A.length):this.scroll.lines(A,D)}},{key:"getModule",value:function(A){return this.theme.modules[A]}},{key:"getSelection",value:function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return A&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-A,B=M(A,D),W=g(B,2);return A=W[0],D=W[1],this.editor.getText(A,D)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(A,D,B){var W=this,F=arguments.length>3&&arguments[3]!==void 0?arguments[3]:H.sources.API;return R.call(this,function(){return W.editor.insertEmbed(A,D,B)},F,A)}},{key:"insertText",value:function(A,D,B,W,F){var P=this,U=void 0,G=M(A,0,B,W,F),K=g(G,4);return A=K[0],U=K[2],F=K[3],R.call(this,function(){return P.editor.insertText(A,D,U)},F,A,D.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(A,D,B){this.clipboard.dangerouslyPasteHTML(A,D,B)}},{key:"removeFormat",value:function(A,D,B){var W=this,F=M(A,D,B),P=g(F,4);return A=P[0],D=P[1],B=P[3],R.call(this,function(){return W.editor.removeFormat(A,D)},B,A)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(A){var D=this,B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r.default.sources.API;return R.call(this,function(){A=new m.default(A);var W=D.getLength(),F=D.editor.deleteText(0,W),P=D.editor.applyDelta(A),U=P.ops[P.ops.length-1];U!=null&&typeof U.insert=="string"&&U.insert[U.insert.length-1]===`
`&&(D.editor.deleteText(D.getLength()-1,1),P.delete(1));var G=F.compose(P);return G},B)}},{key:"setSelection",value:function(A,D,B){if(A==null)this.selection.setRange(null,D||H.sources.API);else{var W=M(A,D,B),F=g(W,4);A=F[0],D=F[1],B=F[3],this.selection.setRange(new a.Range(A,D),B),B!==r.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(A){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r.default.sources.API,B=new m.default().insert(A);return this.setContents(B,D)}},{key:"update",value:function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:r.default.sources.USER,D=this.scroll.update(A);return this.selection.update(A),D}},{key:"updateContents",value:function(A){var D=this,B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r.default.sources.API;return R.call(this,function(){return A=new m.default(A),D.editor.applyDelta(A,B)},B,!0)}}]),H}();L.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},L.events=r.default.events,L.sources=r.default.sources,L.version="1.3.7",L.imports={delta:m.default,parchment:n.default,"core/module":s.default,"core/theme":q.default};function T(H,I){if(I=(0,u.default)(!0,{container:H,modules:{clipboard:!0,keyboard:!0,history:!0}},I),!I.theme||I.theme===L.DEFAULTS.theme)I.theme=q.default;else if(I.theme=L.import("themes/"+I.theme),I.theme==null)throw new Error("Invalid theme "+I.theme+". Did you register it?");var A=(0,u.default)(!0,{},I.theme.DEFAULTS);[A,I].forEach(function(W){W.modules=W.modules||{},Object.keys(W.modules).forEach(function(F){W.modules[F]===!0&&(W.modules[F]={})})});var D=Object.keys(A.modules).concat(Object.keys(I.modules)),B=D.reduce(function(W,F){var P=L.import("modules/"+F);return P==null?C.error("Cannot load "+F+" module. Are you sure you registered it?"):W[F]=P.DEFAULTS||{},W},{});return I.modules!=null&&I.modules.toolbar&&I.modules.toolbar.constructor!==Object&&(I.modules.toolbar={container:I.modules.toolbar}),I=(0,u.default)(!0,{},L.DEFAULTS,{modules:B},A,I),["bounds","container","scrollingContainer"].forEach(function(W){typeof I[W]=="string"&&(I[W]=document.querySelector(I[W]))}),I.modules=Object.keys(I.modules).reduce(function(W,F){return I.modules[F]&&(W[F]=I.modules[F]),W},{}),I}function R(H,I,A,D){if(this.options.strict&&!this.isEnabled()&&I===r.default.sources.USER)return new m.default;var B=A==null?null:this.getSelection(),W=this.editor.delta,F=H();if(B!=null&&(A===!0&&(A=B.index),D==null?B=z(B,F,I):D!==0&&(B=z(B,A,D,I)),this.setSelection(B,r.default.sources.SILENT)),F.length()>0){var P,U=[r.default.events.TEXT_CHANGE,F,W,I];if((P=this.emitter).emit.apply(P,[r.default.events.EDITOR_CHANGE].concat(U)),I!==r.default.sources.SILENT){var G;(G=this.emitter).emit.apply(G,U)}}return F}function M(H,I,A,D,B){var W={};return typeof H.index=="number"&&typeof H.length=="number"?typeof I!="number"?(B=D,D=A,A=I,I=H.length,H=H.index):(I=H.length,H=H.index):typeof I!="number"&&(B=D,D=A,A=I,I=0),(typeof A=="undefined"?"undefined":w(A))==="object"?(W=A,B=D):typeof A=="string"&&(D!=null?W[A]=D:B=A),B=B||r.default.sources.API,[H,I,W,B]}function z(H,I,A,D){if(H==null)return null;var B=void 0,W=void 0;if(I instanceof m.default){var F=[H.index,H.index+H.length].map(function(K){return I.transformPosition(K,D!==r.default.sources.USER)}),P=g(F,2);B=P[0],W=P[1]}else{var U=[H.index,H.index+H.length].map(function(K){return K<I||K===I&&D===r.default.sources.USER?K:A>=0?K+A:Math.max(I,K+A)}),G=g(U,2);B=G[0],W=G[1]}return new a.Range(B,W-B)}c.expandConfig=T,c.overload=M,c.default=L},function(v,c,h){Object.defineProperty(c,"__esModule",{value:!0});var w=function(){function l(n,a){for(var d=0;d<a.length;d++){var i=a[d];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(n,a,d){return a&&l(n.prototype,a),d&&l(n,d),n}}(),g=function l(n,a,d){n===null&&(n=Function.prototype);var i=Object.getOwnPropertyDescriptor(n,a);if(i===void 0){var u=Object.getPrototypeOf(n);return u===null?void 0:l(u,a,d)}else{if("value"in i)return i.value;var j=i.get;return j===void 0?void 0:j.call(d)}},_=h(7),y=o(_),m=h(0),p=o(m);function o(l){return l&&l.__esModule?l:{default:l}}function t(l,n){if(!(l instanceof n))throw new TypeError("Cannot call a class as a function")}function r(l,n){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:l}function f(l,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);l.prototype=Object.create(n&&n.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(l,n):l.__proto__=n)}var s=function(l){f(n,l);function n(){return t(this,n),r(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return w(n,[{key:"formatAt",value:function(d,i,u,j){if(n.compare(this.statics.blotName,u)<0&&p.default.query(u,p.default.Scope.BLOT)){var b=this.isolate(d,i);j&&b.wrap(u,j)}else g(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"formatAt",this).call(this,d,i,u,j)}},{key:"optimize",value:function(d){if(g(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"optimize",this).call(this,d),this.parent instanceof n&&n.compare(this.statics.blotName,this.parent.statics.blotName)>0){var i=this.parent.isolate(this.offset(),this.length());this.moveChildren(i),i.wrap(this)}}}],[{key:"compare",value:function(d,i){var u=n.order.indexOf(d),j=n.order.indexOf(i);return u>=0||j>=0?u-j:d===i?0:d<i?-1:1}}]),n}(p.default.Inline);s.allowedChildren=[s,p.default.Embed,y.default],s.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],c.default=s},function(v,c,h){Object.defineProperty(c,"__esModule",{value:!0});var w=h(0),g=_(w);function _(t){return t&&t.__esModule?t:{default:t}}function y(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function m(t,r){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:t}function p(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(t,r):t.__proto__=r)}var o=function(t){p(r,t);function r(){return y(this,r),m(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return r}(g.default.Text);c.default=o},function(v,c,h){Object.defineProperty(c,"__esModule",{value:!0});var w=function(){function a(d,i){for(var u=0;u<i.length;u++){var j=i[u];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(d,j.key,j)}}return function(d,i,u){return i&&a(d.prototype,i),u&&a(d,u),d}}(),g=function a(d,i,u){d===null&&(d=Function.prototype);var j=Object.getOwnPropertyDescriptor(d,i);if(j===void 0){var b=Object.getPrototypeOf(d);return b===null?void 0:a(b,i,u)}else{if("value"in j)return j.value;var E=j.get;return E===void 0?void 0:E.call(u)}},_=h(54),y=o(_),m=h(10),p=o(m);function o(a){return a&&a.__esModule?a:{default:a}}function t(a,d){if(!(a instanceof d))throw new TypeError("Cannot call a class as a function")}function r(a,d){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:a}function f(a,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);a.prototype=Object.create(d&&d.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(a,d):a.__proto__=d)}var s=(0,p.default)("quill:events"),l=["selectionchange","mousedown","mouseup","click"];l.forEach(function(a){document.addEventListener(a,function(){for(var d=arguments.length,i=Array(d),u=0;u<d;u++)i[u]=arguments[u];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(j){if(j.__quill&&j.__quill.emitter){var b;(b=j.__quill.emitter).handleDOM.apply(b,i)}})})});var n=function(a){f(d,a);function d(){t(this,d);var i=r(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return i.listeners={},i.on("error",s.error),i}return w(d,[{key:"emit",value:function(){s.log.apply(s,arguments),g(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(u){for(var j=arguments.length,b=Array(j>1?j-1:0),E=1;E<j;E++)b[E-1]=arguments[E];(this.listeners[u.type]||[]).forEach(function(q){var S=q.node,x=q.handler;(u.target===S||S.contains(u.target))&&x.apply(void 0,[u].concat(b))})}},{key:"listenDOM",value:function(u,j,b){this.listeners[u]||(this.listeners[u]=[]),this.listeners[u].push({node:j,handler:b})}}]),d}(y.default);n.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},n.sources={API:"api",SILENT:"silent",USER:"user"},c.default=n},function(v,c,h){Object.defineProperty(c,"__esModule",{value:!0});function w(_,y){if(!(_ instanceof y))throw new TypeError("Cannot call a class as a function")}var g=function _(y){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};w(this,_),this.quill=y,this.options=m};g.DEFAULTS={},c.default=g},function(v,c,h){Object.defineProperty(c,"__esModule",{value:!0});var w=["error","warn","log","info"],g="warn";function _(m){if(w.indexOf(m)<=w.indexOf(g)){for(var p,o=arguments.length,t=Array(o>1?o-1:0),r=1;r<o;r++)t[r-1]=arguments[r];(p=console)[m].apply(p,t)}}function y(m){return w.reduce(function(p,o){return p[o]=_.bind(console,o,m),p},{})}_.level=y.level=function(m){g=m},c.default=y},function(v,c,h){var w=Array.prototype.slice,g=h(52),_=h(53),y=v.exports=function(t,r,f){return f||(f={}),t===r?!0:t instanceof Date&&r instanceof Date?t.getTime()===r.getTime():!t||!r||typeof t!="object"&&typeof r!="object"?f.strict?t===r:t==r:o(t,r,f)};function m(t){return t==null}function p(t){return!(!t||typeof t!="object"||typeof t.length!="number"||typeof t.copy!="function"||typeof t.slice!="function"||t.length>0&&typeof t[0]!="number")}function o(t,r,f){var s,l;if(m(t)||m(r)||t.prototype!==r.prototype)return!1;if(_(t))return _(r)?(t=w.call(t),r=w.call(r),y(t,r,f)):!1;if(p(t)){if(!p(r)||t.length!==r.length)return!1;for(s=0;s<t.length;s++)if(t[s]!==r[s])return!1;return!0}try{var n=g(t),a=g(r)}catch(d){return!1}if(n.length!=a.length)return!1;for(n.sort(),a.sort(),s=n.length-1;s>=0;s--)if(n[s]!=a[s])return!1;for(s=n.length-1;s>=0;s--)if(l=n[s],!y(t[l],r[l],f))return!1;return typeof t==typeof r}},function(v,c,h){Object.defineProperty(c,"__esModule",{value:!0});var w=h(1),g=function(){function _(y,m,p){p===void 0&&(p={}),this.attrName=y,this.keyName=m;var o=w.Scope.TYPE&w.Scope.ATTRIBUTE;p.scope!=null?this.scope=p.scope&w.Scope.LEVEL|o:this.scope=w.Scope.ATTRIBUTE,p.whitelist!=null&&(this.whitelist=p.whitelist)}return _.keys=function(y){return[].map.call(y.attributes,function(m){return m.name})},_.prototype.add=function(y,m){return this.canAdd(y,m)?(y.setAttribute(this.keyName,m),!0):!1},_.prototype.canAdd=function(y,m){var p=w.query(y,w.Scope.BLOT&(this.scope|w.Scope.TYPE));return p==null?!1:this.whitelist==null?!0:typeof m=="string"?this.whitelist.indexOf(m.replace(/["']/g,""))>-1:this.whitelist.indexOf(m)>-1},_.prototype.remove=function(y){y.removeAttribute(this.keyName)},_.prototype.value=function(y){var m=y.getAttribute(this.keyName);return this.canAdd(y,m)&&m?m:""},_}();c.default=g},function(v,c,h){Object.defineProperty(c,"__esModule",{value:!0}),c.default=c.Code=void 0;var w=function(){function E(q,S){var x=[],k=!0,C=!1,L=void 0;try{for(var T=q[Symbol.iterator](),R;!(k=(R=T.next()).done)&&(x.push(R.value),!(S&&x.length===S));k=!0);}catch(M){C=!0,L=M}finally{try{!k&&T.return&&T.return()}finally{if(C)throw L}}return x}return function(q,S){if(Array.isArray(q))return q;if(Symbol.iterator in Object(q))return E(q,S);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),g=function(){function E(q,S){for(var x=0;x<S.length;x++){var k=S[x];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(q,k.key,k)}}return function(q,S,x){return S&&E(q.prototype,S),x&&E(q,x),q}}(),_=function E(q,S,x){q===null&&(q=Function.prototype);var k=Object.getOwnPropertyDescriptor(q,S);if(k===void 0){var C=Object.getPrototypeOf(q);return C===null?void 0:E(C,S,x)}else{if("value"in k)return k.value;var L=k.get;return L===void 0?void 0:L.call(x)}},y=h(2),m=a(y),p=h(0),o=a(p),t=h(4),r=a(t),f=h(6),s=a(f),l=h(7),n=a(l);function a(E){return E&&E.__esModule?E:{default:E}}function d(E,q){if(!(E instanceof q))throw new TypeError("Cannot call a class as a function")}function i(E,q){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return q&&(typeof q=="object"||typeof q=="function")?q:E}function u(E,q){if(typeof q!="function"&&q!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof q);E.prototype=Object.create(q&&q.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),q&&(Object.setPrototypeOf?Object.setPrototypeOf(E,q):E.__proto__=q)}var j=function(E){u(q,E);function q(){return d(this,q),i(this,(q.__proto__||Object.getPrototypeOf(q)).apply(this,arguments))}return q}(s.default);j.blotName="code",j.tagName="CODE";var b=function(E){u(q,E);function q(){return d(this,q),i(this,(q.__proto__||Object.getPrototypeOf(q)).apply(this,arguments))}return g(q,[{key:"delta",value:function(){var x=this,k=this.domNode.textContent;return k.endsWith(`
`)&&(k=k.slice(0,-1)),k.split(`
`).reduce(function(C,L){return C.insert(L).insert(`
`,x.formats())},new m.default)}},{key:"format",value:function(x,k){if(!(x===this.statics.blotName&&k)){var C=this.descendant(n.default,this.length()-1),L=w(C,1),T=L[0];T!=null&&T.deleteAt(T.length()-1,1),_(q.prototype.__proto__||Object.getPrototypeOf(q.prototype),"format",this).call(this,x,k)}}},{key:"formatAt",value:function(x,k,C,L){if(k!==0&&!(o.default.query(C,o.default.Scope.BLOCK)==null||C===this.statics.blotName&&L===this.statics.formats(this.domNode))){var T=this.newlineIndex(x);if(!(T<0||T>=x+k)){var R=this.newlineIndex(x,!0)+1,M=T-R+1,z=this.isolate(R,M),H=z.next;z.format(C,L),H instanceof q&&H.formatAt(0,x-R+k-M,C,L)}}}},{key:"insertAt",value:function(x,k,C){if(C==null){var L=this.descendant(n.default,x),T=w(L,2),R=T[0],M=T[1];R.insertAt(M,k)}}},{key:"length",value:function(){var x=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?x:x+1}},{key:"newlineIndex",value:function(x){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(k)return this.domNode.textContent.slice(0,x).lastIndexOf(`
`);var C=this.domNode.textContent.slice(x).indexOf(`
`);return C>-1?x+C:-1}},{key:"optimize",value:function(x){this.domNode.textContent.endsWith(`
`)||this.appendChild(o.default.create("text",`
`)),_(q.prototype.__proto__||Object.getPrototypeOf(q.prototype),"optimize",this).call(this,x);var k=this.next;k!=null&&k.prev===this&&k.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===k.statics.formats(k.domNode)&&(k.optimize(x),k.moveChildren(this),k.remove())}},{key:"replace",value:function(x){_(q.prototype.__proto__||Object.getPrototypeOf(q.prototype),"replace",this).call(this,x),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(k){var C=o.default.find(k);C==null?k.parentNode.removeChild(k):C instanceof o.default.Embed?C.remove():C.unwrap()})}}],[{key:"create",value:function(x){var k=_(q.__proto__||Object.getPrototypeOf(q),"create",this).call(this,x);return k.setAttribute("spellcheck",!1),k}},{key:"formats",value:function(){return!0}}]),q}(r.default);b.blotName="code-block",b.tagName="PRE",b.TAB="  ",c.Code=j,c.default=b},function(v,c,h){Object.defineProperty(c,"__esModule",{value:!0});var w=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},g=function(){function H(I,A){var D=[],B=!0,W=!1,F=void 0;try{for(var P=I[Symbol.iterator](),U;!(B=(U=P.next()).done)&&(D.push(U.value),!(A&&D.length===A));B=!0);}catch(G){W=!0,F=G}finally{try{!B&&P.return&&P.return()}finally{if(W)throw F}}return D}return function(I,A){if(Array.isArray(I))return I;if(Symbol.iterator in Object(I))return H(I,A);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_=function(){function H(I,A){for(var D=0;D<A.length;D++){var B=A[D];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(I,B.key,B)}}return function(I,A,D){return A&&H(I.prototype,A),D&&H(I,D),I}}(),y=h(2),m=k(y),p=h(20),o=k(p),t=h(0),r=k(t),f=h(13),s=k(f),l=h(24),n=k(l),a=h(4),d=k(a),i=h(16),u=k(i),j=h(21),b=k(j),E=h(11),q=k(E),S=h(3),x=k(S);function k(H){return H&&H.__esModule?H:{default:H}}function C(H,I,A){return I in H?Object.defineProperty(H,I,{value:A,enumerable:!0,configurable:!0,writable:!0}):H[I]=A,H}function L(H,I){if(!(H instanceof I))throw new TypeError("Cannot call a class as a function")}var T=/^[ -~]*$/,R=function(){function H(I){L(this,H),this.scroll=I,this.delta=this.getDelta()}return _(H,[{key:"applyDelta",value:function(A){var D=this,B=!1;this.scroll.update();var W=this.scroll.length();return this.scroll.batchStart(),A=z(A),A.reduce(function(F,P){var U=P.retain||P.delete||P.insert.length||1,G=P.attributes||{};if(P.insert!=null){if(typeof P.insert=="string"){var K=P.insert;K.endsWith(`
`)&&B&&(B=!1,K=K.slice(0,-1)),F>=W&&!K.endsWith(`
`)&&(B=!0),D.scroll.insertAt(F,K);var J=D.scroll.line(F),te=g(J,2),ie=te[0],oe=te[1],le=(0,x.default)({},(0,a.bubbleFormats)(ie));if(ie instanceof d.default){var de=ie.descendant(r.default.Leaf,oe),Oe=g(de,1),ge=Oe[0];le=(0,x.default)(le,(0,a.bubbleFormats)(ge))}G=o.default.attributes.diff(le,G)||{}}else if(w(P.insert)==="object"){var Z=Object.keys(P.insert)[0];if(Z==null)return F;D.scroll.insertAt(F,Z,P.insert[Z])}W+=U}return Object.keys(G).forEach(function(Y){D.scroll.formatAt(F,U,Y,G[Y])}),F+U},0),A.reduce(function(F,P){return typeof P.delete=="number"?(D.scroll.deleteAt(F,P.delete),F):F+(P.retain||P.insert.length||1)},0),this.scroll.batchEnd(),this.update(A)}},{key:"deleteText",value:function(A,D){return this.scroll.deleteAt(A,D),this.update(new m.default().retain(A).delete(D))}},{key:"formatLine",value:function(A,D){var B=this,W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(W).forEach(function(F){if(!(B.scroll.whitelist!=null&&!B.scroll.whitelist[F])){var P=B.scroll.lines(A,Math.max(D,1)),U=D;P.forEach(function(G){var K=G.length();if(!(G instanceof s.default))G.format(F,W[F]);else{var J=A-G.offset(B.scroll),te=G.newlineIndex(J+U)-J+1;G.formatAt(J,te,F,W[F])}U-=K})}}),this.scroll.optimize(),this.update(new m.default().retain(A).retain(D,(0,b.default)(W)))}},{key:"formatText",value:function(A,D){var B=this,W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(W).forEach(function(F){B.scroll.formatAt(A,D,F,W[F])}),this.update(new m.default().retain(A).retain(D,(0,b.default)(W)))}},{key:"getContents",value:function(A,D){return this.delta.slice(A,A+D)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(A,D){return A.concat(D.delta())},new m.default)}},{key:"getFormat",value:function(A){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,B=[],W=[];D===0?this.scroll.path(A).forEach(function(P){var U=g(P,1),G=U[0];G instanceof d.default?B.push(G):G instanceof r.default.Leaf&&W.push(G)}):(B=this.scroll.lines(A,D),W=this.scroll.descendants(r.default.Leaf,A,D));var F=[B,W].map(function(P){if(P.length===0)return{};for(var U=(0,a.bubbleFormats)(P.shift());Object.keys(U).length>0;){var G=P.shift();if(G==null)return U;U=M((0,a.bubbleFormats)(G),U)}return U});return x.default.apply(x.default,F)}},{key:"getText",value:function(A,D){return this.getContents(A,D).filter(function(B){return typeof B.insert=="string"}).map(function(B){return B.insert}).join("")}},{key:"insertEmbed",value:function(A,D,B){return this.scroll.insertAt(A,D,B),this.update(new m.default().retain(A).insert(C({},D,B)))}},{key:"insertText",value:function(A,D){var B=this,W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return D=D.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(A,D),Object.keys(W).forEach(function(F){B.scroll.formatAt(A,D.length,F,W[F])}),this.update(new m.default().retain(A).insert(D,(0,b.default)(W)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var A=this.scroll.children.head;return A.statics.blotName!==d.default.blotName||A.children.length>1?!1:A.children.head instanceof u.default}},{key:"removeFormat",value:function(A,D){var B=this.getText(A,D),W=this.scroll.line(A+D),F=g(W,2),P=F[0],U=F[1],G=0,K=new m.default;P!=null&&(P instanceof s.default?G=P.newlineIndex(U)-U+1:G=P.length()-U,K=P.delta().slice(U,U+G-1).insert(`
`));var J=this.getContents(A,D+G),te=J.diff(new m.default().insert(B).concat(K)),ie=new m.default().retain(A).concat(te);return this.applyDelta(ie)}},{key:"update",value:function(A){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,W=this.delta;if(D.length===1&&D[0].type==="characterData"&&D[0].target.data.match(T)&&r.default.find(D[0].target)){var F=r.default.find(D[0].target),P=(0,a.bubbleFormats)(F),U=F.offset(this.scroll),G=D[0].oldValue.replace(n.default.CONTENTS,""),K=new m.default().insert(G),J=new m.default().insert(F.value()),te=new m.default().retain(U).concat(K.diff(J,B));A=te.reduce(function(ie,oe){return oe.insert?ie.insert(oe.insert,P):ie.push(oe)},new m.default),this.delta=W.compose(A)}else this.delta=this.getDelta(),(!A||!(0,q.default)(W.compose(A),this.delta))&&(A=W.diff(this.delta,B));return A}}]),H}();function M(H,I){return Object.keys(I).reduce(function(A,D){return H[D]==null||(I[D]===H[D]?A[D]=I[D]:Array.isArray(I[D])?I[D].indexOf(H[D])<0&&(A[D]=I[D].concat([H[D]])):A[D]=[I[D],H[D]]),A},{})}function z(H){return H.reduce(function(I,A){if(A.insert===1){var D=(0,b.default)(A.attributes);return delete D.image,I.insert({image:A.attributes.image},D)}if(A.attributes!=null&&(A.attributes.list===!0||A.attributes.bullet===!0)&&(A=(0,b.default)(A),A.attributes.list?A.attributes.list="ordered":(A.attributes.list="bullet",delete A.attributes.bullet)),typeof A.insert=="string"){var B=A.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return I.insert(B,A.attributes)}return I.push(A)},new m.default)}c.default=R},function(v,c,h){Object.defineProperty(c,"__esModule",{value:!0}),c.default=c.Range=void 0;var w=function(){function E(q,S){var x=[],k=!0,C=!1,L=void 0;try{for(var T=q[Symbol.iterator](),R;!(k=(R=T.next()).done)&&(x.push(R.value),!(S&&x.length===S));k=!0);}catch(M){C=!0,L=M}finally{try{!k&&T.return&&T.return()}finally{if(C)throw L}}return x}return function(q,S){if(Array.isArray(q))return q;if(Symbol.iterator in Object(q))return E(q,S);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),g=function(){function E(q,S){for(var x=0;x<S.length;x++){var k=S[x];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(q,k.key,k)}}return function(q,S,x){return S&&E(q.prototype,S),x&&E(q,x),q}}(),_=h(0),y=n(_),m=h(21),p=n(m),o=h(11),t=n(o),r=h(8),f=n(r),s=h(10),l=n(s);function n(E){return E&&E.__esModule?E:{default:E}}function a(E){if(Array.isArray(E)){for(var q=0,S=Array(E.length);q<E.length;q++)S[q]=E[q];return S}else return Array.from(E)}function d(E,q){if(!(E instanceof q))throw new TypeError("Cannot call a class as a function")}var i=(0,l.default)("quill:selection"),u=function E(q){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;d(this,E),this.index=q,this.length=S},j=function(){function E(q,S){var x=this;d(this,E),this.emitter=S,this.scroll=q,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=y.default.create("cursor",this),this.lastRange=this.savedRange=new u(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){x.mouseDown||setTimeout(x.update.bind(x,f.default.sources.USER),1)}),this.emitter.on(f.default.events.EDITOR_CHANGE,function(k,C){k===f.default.events.TEXT_CHANGE&&C.length()>0&&x.update(f.default.sources.SILENT)}),this.emitter.on(f.default.events.SCROLL_BEFORE_UPDATE,function(){if(x.hasFocus()){var k=x.getNativeRange();k!=null&&k.start.node!==x.cursor.textNode&&x.emitter.once(f.default.events.SCROLL_UPDATE,function(){try{x.setNativeRange(k.start.node,k.start.offset,k.end.node,k.end.offset)}catch(C){}})}}),this.emitter.on(f.default.events.SCROLL_OPTIMIZE,function(k,C){if(C.range){var L=C.range,T=L.startNode,R=L.startOffset,M=L.endNode,z=L.endOffset;x.setNativeRange(T,R,M,z)}}),this.update(f.default.sources.SILENT)}return g(E,[{key:"handleComposition",value:function(){var S=this;this.root.addEventListener("compositionstart",function(){S.composing=!0}),this.root.addEventListener("compositionend",function(){if(S.composing=!1,S.cursor.parent){var x=S.cursor.restore();if(!x)return;setTimeout(function(){S.setNativeRange(x.startNode,x.startOffset,x.endNode,x.endOffset)},1)}})}},{key:"handleDragging",value:function(){var S=this;this.emitter.listenDOM("mousedown",document.body,function(){S.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){S.mouseDown=!1,S.update(f.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(S,x){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[S])){this.scroll.update();var k=this.getNativeRange();if(!(k==null||!k.native.collapsed||y.default.query(S,y.default.Scope.BLOCK))){if(k.start.node!==this.cursor.textNode){var C=y.default.find(k.start.node,!1);if(C==null)return;if(C instanceof y.default.Leaf){var L=C.split(k.start.offset);C.parent.insertBefore(this.cursor,L)}else C.insertBefore(this.cursor,k.start.node);this.cursor.attach()}this.cursor.format(S,x),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(S){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,k=this.scroll.length();S=Math.min(S,k-1),x=Math.min(S+x,k-1)-S;var C=void 0,L=this.scroll.leaf(S),T=w(L,2),R=T[0],M=T[1];if(R==null)return null;var z=R.position(M,!0),H=w(z,2);C=H[0],M=H[1];var I=document.createRange();if(x>0){I.setStart(C,M);var A=this.scroll.leaf(S+x),D=w(A,2);if(R=D[0],M=D[1],R==null)return null;var B=R.position(M,!0),W=w(B,2);return C=W[0],M=W[1],I.setEnd(C,M),I.getBoundingClientRect()}else{var F="left",P=void 0;return C instanceof Text?(M<C.data.length?(I.setStart(C,M),I.setEnd(C,M+1)):(I.setStart(C,M-1),I.setEnd(C,M),F="right"),P=I.getBoundingClientRect()):(P=R.domNode.getBoundingClientRect(),M>0&&(F="right")),{bottom:P.top+P.height,height:P.height,left:P[F],right:P[F],top:P.top,width:0}}}},{key:"getNativeRange",value:function(){var S=document.getSelection();if(S==null||S.rangeCount<=0)return null;var x=S.getRangeAt(0);if(x==null)return null;var k=this.normalizeNative(x);return i.info("getNativeRange",k),k}},{key:"getRange",value:function(){var S=this.getNativeRange();if(S==null)return[null,null];var x=this.normalizedToRange(S);return[x,S]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(S){var x=this,k=[[S.start.node,S.start.offset]];S.native.collapsed||k.push([S.end.node,S.end.offset]);var C=k.map(function(R){var M=w(R,2),z=M[0],H=M[1],I=y.default.find(z,!0),A=I.offset(x.scroll);return H===0?A:I instanceof y.default.Container?A+I.length():A+I.index(z,H)}),L=Math.min(Math.max.apply(Math,a(C)),this.scroll.length()-1),T=Math.min.apply(Math,[L].concat(a(C)));return new u(T,L-T)}},{key:"normalizeNative",value:function(S){if(!b(this.root,S.startContainer)||!S.collapsed&&!b(this.root,S.endContainer))return null;var x={start:{node:S.startContainer,offset:S.startOffset},end:{node:S.endContainer,offset:S.endOffset},native:S};return[x.start,x.end].forEach(function(k){for(var C=k.node,L=k.offset;!(C instanceof Text)&&C.childNodes.length>0;)if(C.childNodes.length>L)C=C.childNodes[L],L=0;else if(C.childNodes.length===L)C=C.lastChild,L=C instanceof Text?C.data.length:C.childNodes.length+1;else break;k.node=C,k.offset=L}),x}},{key:"rangeToNative",value:function(S){var x=this,k=S.collapsed?[S.index]:[S.index,S.index+S.length],C=[],L=this.scroll.length();return k.forEach(function(T,R){T=Math.min(L-1,T);var M=void 0,z=x.scroll.leaf(T),H=w(z,2),I=H[0],A=H[1],D=I.position(A,R!==0),B=w(D,2);M=B[0],A=B[1],C.push(M,A)}),C.length<2&&(C=C.concat(C)),C}},{key:"scrollIntoView",value:function(S){var x=this.lastRange;if(x!=null){var k=this.getBounds(x.index,x.length);if(k!=null){var C=this.scroll.length()-1,L=this.scroll.line(Math.min(x.index,C)),T=w(L,1),R=T[0],M=R;if(x.length>0){var z=this.scroll.line(Math.min(x.index+x.length,C)),H=w(z,1);M=H[0]}if(!(R==null||M==null)){var I=S.getBoundingClientRect();k.top<I.top?S.scrollTop-=I.top-k.top:k.bottom>I.bottom&&(S.scrollTop+=k.bottom-I.bottom)}}}}},{key:"setNativeRange",value:function(S,x){var k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:S,C=arguments.length>3&&arguments[3]!==void 0?arguments[3]:x,L=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(i.info("setNativeRange",S,x,k,C),!(S!=null&&(this.root.parentNode==null||S.parentNode==null||k.parentNode==null))){var T=document.getSelection();if(T!=null)if(S!=null){this.hasFocus()||this.root.focus();var R=(this.getNativeRange()||{}).native;if(R==null||L||S!==R.startContainer||x!==R.startOffset||k!==R.endContainer||C!==R.endOffset){S.tagName=="BR"&&(x=[].indexOf.call(S.parentNode.childNodes,S),S=S.parentNode),k.tagName=="BR"&&(C=[].indexOf.call(k.parentNode.childNodes,k),k=k.parentNode);var M=document.createRange();M.setStart(S,x),M.setEnd(k,C),T.removeAllRanges(),T.addRange(M)}}else T.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(S){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:f.default.sources.API;if(typeof x=="string"&&(k=x,x=!1),i.info("setRange",S),S!=null){var C=this.rangeToNative(S);this.setNativeRange.apply(this,a(C).concat([x]))}else this.setNativeRange(null);this.update(k)}},{key:"update",value:function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:f.default.sources.USER,x=this.lastRange,k=this.getRange(),C=w(k,2),L=C[0],T=C[1];if(this.lastRange=L,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,t.default)(x,this.lastRange)){var R;!this.composing&&T!=null&&T.native.collapsed&&T.start.node!==this.cursor.textNode&&this.cursor.restore();var M=[f.default.events.SELECTION_CHANGE,(0,p.default)(this.lastRange),(0,p.default)(x),S];if((R=this.emitter).emit.apply(R,[f.default.events.EDITOR_CHANGE].concat(M)),S!==f.default.sources.SILENT){var z;(z=this.emitter).emit.apply(z,M)}}}}]),E}();function b(E,q){try{q.parentNode}catch(S){return!1}return q instanceof Text&&(q=q.parentNode),E.contains(q)}c.Range=u,c.default=j},function(v,c,h){Object.defineProperty(c,"__esModule",{value:!0});var w=function(){function f(s,l){for(var n=0;n<l.length;n++){var a=l[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(s,a.key,a)}}return function(s,l,n){return l&&f(s.prototype,l),n&&f(s,n),s}}(),g=function f(s,l,n){s===null&&(s=Function.prototype);var a=Object.getOwnPropertyDescriptor(s,l);if(a===void 0){var d=Object.getPrototypeOf(s);return d===null?void 0:f(d,l,n)}else{if("value"in a)return a.value;var i=a.get;return i===void 0?void 0:i.call(n)}},_=h(0),y=m(_);function m(f){return f&&f.__esModule?f:{default:f}}function p(f,s){if(!(f instanceof s))throw new TypeError("Cannot call a class as a function")}function o(f,s){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s&&(typeof s=="object"||typeof s=="function")?s:f}function t(f,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof s);f.prototype=Object.create(s&&s.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),s&&(Object.setPrototypeOf?Object.setPrototypeOf(f,s):f.__proto__=s)}var r=function(f){t(s,f);function s(){return p(this,s),o(this,(s.__proto__||Object.getPrototypeOf(s)).apply(this,arguments))}return w(s,[{key:"insertInto",value:function(n,a){n.children.length===0?g(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"insertInto",this).call(this,n,a):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),s}(y.default.Embed);r.blotName="break",r.tagName="BR",c.default=r},function(v,c,h){var w=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var f in r)r.hasOwnProperty(f)&&(t[f]=r[f])};return function(t,r){o(t,r);function f(){this.constructor=t}t.prototype=r===null?Object.create(r):(f.prototype=r.prototype,new f)}}();Object.defineProperty(c,"__esModule",{value:!0});var g=h(44),_=h(30),y=h(1),m=function(o){w(t,o);function t(r){var f=o.call(this,r)||this;return f.build(),f}return t.prototype.appendChild=function(r){this.insertBefore(r)},t.prototype.attach=function(){o.prototype.attach.call(this),this.children.forEach(function(r){r.attach()})},t.prototype.build=function(){var r=this;this.children=new g.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(f){try{var s=p(f);r.insertBefore(s,r.children.head||void 0)}catch(l){if(l instanceof y.ParchmentError)return;throw l}})},t.prototype.deleteAt=function(r,f){if(r===0&&f===this.length())return this.remove();this.children.forEachAt(r,f,function(s,l,n){s.deleteAt(l,n)})},t.prototype.descendant=function(r,f){var s=this.children.find(f),l=s[0],n=s[1];return r.blotName==null&&r(l)||r.blotName!=null&&l instanceof r?[l,n]:l instanceof t?l.descendant(r,n):[null,-1]},t.prototype.descendants=function(r,f,s){f===void 0&&(f=0),s===void 0&&(s=Number.MAX_VALUE);var l=[],n=s;return this.children.forEachAt(f,s,function(a,d,i){(r.blotName==null&&r(a)||r.blotName!=null&&a instanceof r)&&l.push(a),a instanceof t&&(l=l.concat(a.descendants(r,d,n))),n-=i}),l},t.prototype.detach=function(){this.children.forEach(function(r){r.detach()}),o.prototype.detach.call(this)},t.prototype.formatAt=function(r,f,s,l){this.children.forEachAt(r,f,function(n,a,d){n.formatAt(a,d,s,l)})},t.prototype.insertAt=function(r,f,s){var l=this.children.find(r),n=l[0],a=l[1];if(n)n.insertAt(a,f,s);else{var d=s==null?y.create("text",f):y.create(f,s);this.appendChild(d)}},t.prototype.insertBefore=function(r,f){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(s){return r instanceof s}))throw new y.ParchmentError("Cannot insert "+r.statics.blotName+" into "+this.statics.blotName);r.insertInto(this,f)},t.prototype.length=function(){return this.children.reduce(function(r,f){return r+f.length()},0)},t.prototype.moveChildren=function(r,f){this.children.forEach(function(s){r.insertBefore(s,f)})},t.prototype.optimize=function(r){if(o.prototype.optimize.call(this,r),this.children.length===0)if(this.statics.defaultChild!=null){var f=y.create(this.statics.defaultChild);this.appendChild(f),f.optimize(r)}else this.remove()},t.prototype.path=function(r,f){f===void 0&&(f=!1);var s=this.children.find(r,f),l=s[0],n=s[1],a=[[this,r]];return l instanceof t?a.concat(l.path(n,f)):(l!=null&&a.push([l,n]),a)},t.prototype.removeChild=function(r){this.children.remove(r)},t.prototype.replace=function(r){r instanceof t&&r.moveChildren(this),o.prototype.replace.call(this,r)},t.prototype.split=function(r,f){if(f===void 0&&(f=!1),!f){if(r===0)return this;if(r===this.length())return this.next}var s=this.clone();return this.parent.insertBefore(s,this.next),this.children.forEachAt(r,this.length(),function(l,n,a){l=l.split(n,f),s.appendChild(l)}),s},t.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},t.prototype.update=function(r,f){var s=this,l=[],n=[];r.forEach(function(a){a.target===s.domNode&&a.type==="childList"&&(l.push.apply(l,a.addedNodes),n.push.apply(n,a.removedNodes))}),n.forEach(function(a){if(!(a.parentNode!=null&&a.tagName!=="IFRAME"&&document.body.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var d=y.find(a);d!=null&&(d.domNode.parentNode==null||d.domNode.parentNode===s.domNode)&&d.detach()}}),l.filter(function(a){return a.parentNode==s.domNode}).sort(function(a,d){return a===d?0:a.compareDocumentPosition(d)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(a){var d=null;a.nextSibling!=null&&(d=y.find(a.nextSibling));var i=p(a);(i.next!=d||i.next==null)&&(i.parent!=null&&i.parent.removeChild(s),s.insertBefore(i,d||void 0))})},t}(_.default);function p(o){var t=y.find(o);if(t==null)try{t=y.create(o)}catch(r){t=y.create(y.Scope.INLINE),[].slice.call(o.childNodes).forEach(function(f){t.domNode.appendChild(f)}),o.parentNode&&o.parentNode.replaceChild(t.domNode,o),t.attach()}return t}c.default=m},function(v,c,h){var w=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var f in r)r.hasOwnProperty(f)&&(t[f]=r[f])};return function(t,r){o(t,r);function f(){this.constructor=t}t.prototype=r===null?Object.create(r):(f.prototype=r.prototype,new f)}}();Object.defineProperty(c,"__esModule",{value:!0});var g=h(12),_=h(31),y=h(17),m=h(1),p=function(o){w(t,o);function t(r){var f=o.call(this,r)||this;return f.attributes=new _.default(f.domNode),f}return t.formats=function(r){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return r.tagName.toLowerCase()},t.prototype.format=function(r,f){var s=m.query(r);s instanceof g.default?this.attributes.attribute(s,f):f&&s!=null&&(r!==this.statics.blotName||this.formats()[r]!==f)&&this.replaceWith(r,f)},t.prototype.formats=function(){var r=this.attributes.values(),f=this.statics.formats(this.domNode);return f!=null&&(r[this.statics.blotName]=f),r},t.prototype.replaceWith=function(r,f){var s=o.prototype.replaceWith.call(this,r,f);return this.attributes.copy(s),s},t.prototype.update=function(r,f){var s=this;o.prototype.update.call(this,r,f),r.some(function(l){return l.target===s.domNode&&l.type==="attributes"})&&this.attributes.build()},t.prototype.wrap=function(r,f){var s=o.prototype.wrap.call(this,r,f);return s instanceof t&&s.statics.scope===this.statics.scope&&this.attributes.move(s),s},t}(y.default);c.default=p},function(v,c,h){var w=this&&this.__extends||function(){var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,o){p.__proto__=o}||function(p,o){for(var t in o)o.hasOwnProperty(t)&&(p[t]=o[t])};return function(p,o){m(p,o);function t(){this.constructor=p}p.prototype=o===null?Object.create(o):(t.prototype=o.prototype,new t)}}();Object.defineProperty(c,"__esModule",{value:!0});var g=h(30),_=h(1),y=function(m){w(p,m);function p(){return m!==null&&m.apply(this,arguments)||this}return p.value=function(o){return!0},p.prototype.index=function(o,t){return this.domNode===o||this.domNode.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(t,1):-1},p.prototype.position=function(o,t){var r=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return o>0&&(r+=1),[this.parent.domNode,r]},p.prototype.value=function(){var o;return o={},o[this.statics.blotName]=this.statics.value(this.domNode)||!0,o},p.scope=_.Scope.INLINE_BLOT,p}(g.default);c.default=y},function(v,c,h){var w=h(11),g=h(3),_={attributes:{compose:function(m,p,o){typeof m!="object"&&(m={}),typeof p!="object"&&(p={});var t=g(!0,{},p);o||(t=Object.keys(t).reduce(function(f,s){return t[s]!=null&&(f[s]=t[s]),f},{}));for(var r in m)m[r]!==void 0&&p[r]===void 0&&(t[r]=m[r]);return Object.keys(t).length>0?t:void 0},diff:function(m,p){typeof m!="object"&&(m={}),typeof p!="object"&&(p={});var o=Object.keys(m).concat(Object.keys(p)).reduce(function(t,r){return w(m[r],p[r])||(t[r]=p[r]===void 0?null:p[r]),t},{});return Object.keys(o).length>0?o:void 0},transform:function(m,p,o){if(typeof m!="object")return p;if(typeof p=="object"){if(!o)return p;var t=Object.keys(p).reduce(function(r,f){return m[f]===void 0&&(r[f]=p[f]),r},{});return Object.keys(t).length>0?t:void 0}}},iterator:function(m){return new y(m)},length:function(m){return typeof m.delete=="number"?m.delete:typeof m.retain=="number"?m.retain:typeof m.insert=="string"?m.insert.length:1}};function y(m){this.ops=m,this.index=0,this.offset=0}y.prototype.hasNext=function(){return this.peekLength()<1/0},y.prototype.next=function(m){m||(m=1/0);var p=this.ops[this.index];if(p){var o=this.offset,t=_.length(p);if(m>=t-o?(m=t-o,this.index+=1,this.offset=0):this.offset+=m,typeof p.delete=="number")return{delete:m};var r={};return p.attributes&&(r.attributes=p.attributes),typeof p.retain=="number"?r.retain=m:typeof p.insert=="string"?r.insert=p.insert.substr(o,m):r.insert=p.insert,r}else return{retain:1/0}},y.prototype.peek=function(){return this.ops[this.index]},y.prototype.peekLength=function(){return this.ops[this.index]?_.length(this.ops[this.index])-this.offset:1/0},y.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},y.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var m=this.offset,p=this.index,o=this.next(),t=this.ops.slice(this.index);return this.offset=m,this.index=p,[o].concat(t)}else return[]},v.exports=_},function(v,c){var h=function(){function w(s,l){return l!=null&&s instanceof l}var g;try{g=Map}catch(s){g=function(){}}var _;try{_=Set}catch(s){_=function(){}}var y;try{y=Promise}catch(s){y=function(){}}function m(s,l,n,a,d){typeof l=="object"&&(n=l.depth,a=l.prototype,d=l.includeNonEnumerable,l=l.circular);var i=[],u=[],j=typeof Buffer!="undefined";typeof l=="undefined"&&(l=!0),typeof n=="undefined"&&(n=1/0);function b(E,q){if(E===null)return null;if(q===0)return E;var S,x;if(typeof E!="object")return E;if(w(E,g))S=new g;else if(w(E,_))S=new _;else if(w(E,y))S=new y(function(I,A){E.then(function(D){I(b(D,q-1))},function(D){A(b(D,q-1))})});else if(m.__isArray(E))S=[];else if(m.__isRegExp(E))S=new RegExp(E.source,f(E)),E.lastIndex&&(S.lastIndex=E.lastIndex);else if(m.__isDate(E))S=new Date(E.getTime());else{if(j&&Buffer.isBuffer(E))return Buffer.allocUnsafe?S=Buffer.allocUnsafe(E.length):S=new Buffer(E.length),E.copy(S),S;w(E,Error)?S=Object.create(E):typeof a=="undefined"?(x=Object.getPrototypeOf(E),S=Object.create(x)):(S=Object.create(a),x=a)}if(l){var k=i.indexOf(E);if(k!=-1)return u[k];i.push(E),u.push(S)}w(E,g)&&E.forEach(function(I,A){var D=b(A,q-1),B=b(I,q-1);S.set(D,B)}),w(E,_)&&E.forEach(function(I){var A=b(I,q-1);S.add(A)});for(var C in E){var L;x&&(L=Object.getOwnPropertyDescriptor(x,C)),!(L&&L.set==null)&&(S[C]=b(E[C],q-1))}if(Object.getOwnPropertySymbols)for(var T=Object.getOwnPropertySymbols(E),C=0;C<T.length;C++){var R=T[C],M=Object.getOwnPropertyDescriptor(E,R);M&&!M.enumerable&&!d||(S[R]=b(E[R],q-1),M.enumerable||Object.defineProperty(S,R,{enumerable:!1}))}if(d)for(var z=Object.getOwnPropertyNames(E),C=0;C<z.length;C++){var H=z[C],M=Object.getOwnPropertyDescriptor(E,H);M&&M.enumerable||(S[H]=b(E[H],q-1),Object.defineProperty(S,H,{enumerable:!1}))}return S}return b(s,n)}m.clonePrototype=function(l){if(l===null)return null;var n=function(){};return n.prototype=l,new n};function p(s){return Object.prototype.toString.call(s)}m.__objToStr=p;function o(s){return typeof s=="object"&&p(s)==="[object Date]"}m.__isDate=o;function t(s){return typeof s=="object"&&p(s)==="[object Array]"}m.__isArray=t;function r(s){return typeof s=="object"&&p(s)==="[object RegExp]"}m.__isRegExp=r;function f(s){var l="";return s.global&&(l+="g"),s.ignoreCase&&(l+="i"),s.multiline&&(l+="m"),l}return m.__getRegExpFlags=f,m}();typeof v=="object"&&v.exports&&(v.exports=h)},function(v,c,h){Object.defineProperty(c,"__esModule",{value:!0});var w=function(){function S(x,k){var C=[],L=!0,T=!1,R=void 0;try{for(var M=x[Symbol.iterator](),z;!(L=(z=M.next()).done)&&(C.push(z.value),!(k&&C.length===k));L=!0);}catch(H){T=!0,R=H}finally{try{!L&&M.return&&M.return()}finally{if(T)throw R}}return C}return function(x,k){if(Array.isArray(x))return x;if(Symbol.iterator in Object(x))return S(x,k);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),g=function(){function S(x,k){for(var C=0;C<k.length;C++){var L=k[C];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(x,L.key,L)}}return function(x,k,C){return k&&S(x.prototype,k),C&&S(x,C),x}}(),_=function S(x,k,C){x===null&&(x=Function.prototype);var L=Object.getOwnPropertyDescriptor(x,k);if(L===void 0){var T=Object.getPrototypeOf(x);return T===null?void 0:S(T,k,C)}else{if("value"in L)return L.value;var R=L.get;return R===void 0?void 0:R.call(C)}},y=h(0),m=i(y),p=h(8),o=i(p),t=h(4),r=i(t),f=h(16),s=i(f),l=h(13),n=i(l),a=h(25),d=i(a);function i(S){return S&&S.__esModule?S:{default:S}}function u(S,x){if(!(S instanceof x))throw new TypeError("Cannot call a class as a function")}function j(S,x){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:S}function b(S,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);S.prototype=Object.create(x&&x.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(S,x):S.__proto__=x)}function E(S){return S instanceof r.default||S instanceof t.BlockEmbed}var q=function(S){b(x,S);function x(k,C){u(this,x);var L=j(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,k));return L.emitter=C.emitter,Array.isArray(C.whitelist)&&(L.whitelist=C.whitelist.reduce(function(T,R){return T[R]=!0,T},{})),L.domNode.addEventListener("DOMNodeInserted",function(){}),L.optimize(),L.enable(),L}return g(x,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(C,L){var T=this.line(C),R=w(T,2),M=R[0],z=R[1],H=this.line(C+L),I=w(H,1),A=I[0];if(_(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"deleteAt",this).call(this,C,L),A!=null&&M!==A&&z>0){if(M instanceof t.BlockEmbed||A instanceof t.BlockEmbed){this.optimize();return}if(M instanceof n.default){var D=M.newlineIndex(M.length(),!0);if(D>-1&&(M=M.split(D+1),M===A)){this.optimize();return}}else if(A instanceof n.default){var B=A.newlineIndex(0);B>-1&&A.split(B+1)}var W=A.children.head instanceof s.default?null:A.children.head;M.moveChildren(A,W),M.remove()}this.optimize()}},{key:"enable",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",C)}},{key:"formatAt",value:function(C,L,T,R){this.whitelist!=null&&!this.whitelist[T]||(_(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"formatAt",this).call(this,C,L,T,R),this.optimize())}},{key:"insertAt",value:function(C,L,T){if(!(T!=null&&this.whitelist!=null&&!this.whitelist[L])){if(C>=this.length())if(T==null||m.default.query(L,m.default.Scope.BLOCK)==null){var R=m.default.create(this.statics.defaultChild);this.appendChild(R),T==null&&L.endsWith(`
`)&&(L=L.slice(0,-1)),R.insertAt(0,L,T)}else{var M=m.default.create(L,T);this.appendChild(M)}else _(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"insertAt",this).call(this,C,L,T);this.optimize()}}},{key:"insertBefore",value:function(C,L){if(C.statics.scope===m.default.Scope.INLINE_BLOT){var T=m.default.create(this.statics.defaultChild);T.appendChild(C),C=T}_(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"insertBefore",this).call(this,C,L)}},{key:"leaf",value:function(C){return this.path(C).pop()||[null,-1]}},{key:"line",value:function(C){return C===this.length()?this.line(C-1):this.descendant(E,C)}},{key:"lines",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,T=function R(M,z,H){var I=[],A=H;return M.children.forEachAt(z,H,function(D,B,W){E(D)?I.push(D):D instanceof m.default.Container&&(I=I.concat(R(D,B,A))),A-=W}),I};return T(this,C,L)}},{key:"optimize",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(_(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"optimize",this).call(this,C,L),C.length>0&&this.emitter.emit(o.default.events.SCROLL_OPTIMIZE,C,L))}},{key:"path",value:function(C){return _(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"path",this).call(this,C).slice(1)}},{key:"update",value:function(C){if(this.batch!==!0){var L=o.default.sources.USER;typeof C=="string"&&(L=C),Array.isArray(C)||(C=this.observer.takeRecords()),C.length>0&&this.emitter.emit(o.default.events.SCROLL_BEFORE_UPDATE,L,C),_(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"update",this).call(this,C.concat([])),C.length>0&&this.emitter.emit(o.default.events.SCROLL_UPDATE,L,C)}}}]),x}(m.default.Scroll);q.blotName="scroll",q.className="ql-editor",q.tagName="DIV",q.defaultChild="block",q.allowedChildren=[r.default,t.BlockEmbed,d.default],c.default=q},function(v,c,h){Object.defineProperty(c,"__esModule",{value:!0}),c.SHORTKEY=c.default=void 0;var w=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P},g=function(){function P(U,G){var K=[],J=!0,te=!1,ie=void 0;try{for(var oe=U[Symbol.iterator](),le;!(J=(le=oe.next()).done)&&(K.push(le.value),!(G&&K.length===G));J=!0);}catch(de){te=!0,ie=de}finally{try{!J&&oe.return&&oe.return()}finally{if(te)throw ie}}return K}return function(U,G){if(Array.isArray(U))return U;if(Symbol.iterator in Object(U))return P(U,G);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_=function(){function P(U,G){for(var K=0;K<G.length;K++){var J=G[K];J.enumerable=J.enumerable||!1,J.configurable=!0,"value"in J&&(J.writable=!0),Object.defineProperty(U,J.key,J)}}return function(U,G,K){return G&&P(U.prototype,G),K&&P(U,K),U}}(),y=h(21),m=S(y),p=h(11),o=S(p),t=h(3),r=S(t),f=h(2),s=S(f),l=h(20),n=S(l),a=h(0),d=S(a),i=h(5),u=S(i),j=h(10),b=S(j),E=h(9),q=S(E);function S(P){return P&&P.__esModule?P:{default:P}}function x(P,U,G){return U in P?Object.defineProperty(P,U,{value:G,enumerable:!0,configurable:!0,writable:!0}):P[U]=G,P}function k(P,U){if(!(P instanceof U))throw new TypeError("Cannot call a class as a function")}function C(P,U){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return U&&(typeof U=="object"||typeof U=="function")?U:P}function L(P,U){if(typeof U!="function"&&U!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof U);P.prototype=Object.create(U&&U.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),U&&(Object.setPrototypeOf?Object.setPrototypeOf(P,U):P.__proto__=U)}var T=(0,b.default)("quill:keyboard"),R=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",M=function(P){L(U,P),_(U,null,[{key:"match",value:function(K,J){return J=F(J),["altKey","ctrlKey","metaKey","shiftKey"].some(function(te){return!!J[te]!==K[te]&&J[te]!==null})?!1:J.key===(K.which||K.keyCode)}}]);function U(G,K){k(this,U);var J=C(this,(U.__proto__||Object.getPrototypeOf(U)).call(this,G,K));return J.bindings={},Object.keys(J.options.bindings).forEach(function(te){te==="list autofill"&&G.scroll.whitelist!=null&&!G.scroll.whitelist.list||J.options.bindings[te]&&J.addBinding(J.options.bindings[te])}),J.addBinding({key:U.keys.ENTER,shiftKey:null},D),J.addBinding({key:U.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(J.addBinding({key:U.keys.BACKSPACE},{collapsed:!0},H),J.addBinding({key:U.keys.DELETE},{collapsed:!0},I)):(J.addBinding({key:U.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},H),J.addBinding({key:U.keys.DELETE},{collapsed:!0,suffix:/^.?$/},I)),J.addBinding({key:U.keys.BACKSPACE},{collapsed:!1},A),J.addBinding({key:U.keys.DELETE},{collapsed:!1},A),J.addBinding({key:U.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},H),J.listen(),J}return _(U,[{key:"addBinding",value:function(K){var J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ie=F(K);if(ie==null||ie.key==null)return T.warn("Attempted to add invalid keyboard binding",ie);typeof J=="function"&&(J={handler:J}),typeof te=="function"&&(te={handler:te}),ie=(0,r.default)(ie,J,te),this.bindings[ie.key]=this.bindings[ie.key]||[],this.bindings[ie.key].push(ie)}},{key:"listen",value:function(){var K=this;this.quill.root.addEventListener("keydown",function(J){if(!J.defaultPrevented){var te=J.which||J.keyCode,ie=(K.bindings[te]||[]).filter(function(me){return U.match(J,me)});if(ie.length!==0){var oe=K.quill.getSelection();if(!(oe==null||!K.quill.hasFocus())){var le=K.quill.getLine(oe.index),de=g(le,2),Oe=de[0],ge=de[1],Z=K.quill.getLeaf(oe.index),Y=g(Z,2),ee=Y[0],re=Y[1],X=oe.length===0?[ee,re]:K.quill.getLeaf(oe.index+oe.length),se=g(X,2),ue=se[0],ce=se[1],we=ee instanceof d.default.Text?ee.value().slice(0,re):"",Ee=ue instanceof d.default.Text?ue.value().slice(ce):"",pe={collapsed:oe.length===0,empty:oe.length===0&&Oe.length()<=1,format:K.quill.getFormat(oe),offset:ge,prefix:we,suffix:Ee},He=ie.some(function(me){if(me.collapsed!=null&&me.collapsed!==pe.collapsed||me.empty!=null&&me.empty!==pe.empty||me.offset!=null&&me.offset!==pe.offset)return!1;if(Array.isArray(me.format)){if(me.format.every(function(je){return pe.format[je]==null}))return!1}else if(w(me.format)==="object"&&!Object.keys(me.format).every(function(je){return me.format[je]===!0?pe.format[je]!=null:me.format[je]===!1?pe.format[je]==null:(0,o.default)(me.format[je],pe.format[je])}))return!1;return me.prefix!=null&&!me.prefix.test(pe.prefix)||me.suffix!=null&&!me.suffix.test(pe.suffix)?!1:me.handler.call(K,oe,pe)!==!0});He&&J.preventDefault()}}}})}}]),U}(q.default);M.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},M.DEFAULTS={bindings:{bold:W("bold"),italic:W("italic"),underline:W("underline"),indent:{key:M.keys.TAB,format:["blockquote","indent","list"],handler:function(U,G){if(G.collapsed&&G.offset!==0)return!0;this.quill.format("indent","+1",u.default.sources.USER)}},outdent:{key:M.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(U,G){if(G.collapsed&&G.offset!==0)return!0;this.quill.format("indent","-1",u.default.sources.USER)}},"outdent backspace":{key:M.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(U,G){G.format.indent!=null?this.quill.format("indent","-1",u.default.sources.USER):G.format.list!=null&&this.quill.format("list",!1,u.default.sources.USER)}},"indent code-block":B(!0),"outdent code-block":B(!1),"remove tab":{key:M.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(U){this.quill.deleteText(U.index-1,1,u.default.sources.USER)}},tab:{key:M.keys.TAB,handler:function(U){this.quill.history.cutoff();var G=new s.default().retain(U.index).delete(U.length).insert("	");this.quill.updateContents(G,u.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(U.index+1,u.default.sources.SILENT)}},"list empty enter":{key:M.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(U,G){this.quill.format("list",!1,u.default.sources.USER),G.format.indent&&this.quill.format("indent",!1,u.default.sources.USER)}},"checklist enter":{key:M.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(U){var G=this.quill.getLine(U.index),K=g(G,2),J=K[0],te=K[1],ie=(0,r.default)({},J.formats(),{list:"checked"}),oe=new s.default().retain(U.index).insert(`
`,ie).retain(J.length()-te-1).retain(1,{list:"unchecked"});this.quill.updateContents(oe,u.default.sources.USER),this.quill.setSelection(U.index+1,u.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:M.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(U,G){var K=this.quill.getLine(U.index),J=g(K,2),te=J[0],ie=J[1],oe=new s.default().retain(U.index).insert(`
`,G.format).retain(te.length()-ie-1).retain(1,{header:null});this.quill.updateContents(oe,u.default.sources.USER),this.quill.setSelection(U.index+1,u.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(U,G){var K=G.prefix.length,J=this.quill.getLine(U.index),te=g(J,2),ie=te[0],oe=te[1];if(oe>K)return!0;var le=void 0;switch(G.prefix.trim()){case"[]":case"[ ]":le="unchecked";break;case"[x]":le="checked";break;case"-":case"*":le="bullet";break;default:le="ordered"}this.quill.insertText(U.index," ",u.default.sources.USER),this.quill.history.cutoff();var de=new s.default().retain(U.index-oe).delete(K+1).retain(ie.length()-2-oe).retain(1,{list:le});this.quill.updateContents(de,u.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(U.index-K,u.default.sources.SILENT)}},"code exit":{key:M.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(U){var G=this.quill.getLine(U.index),K=g(G,2),J=K[0],te=K[1],ie=new s.default().retain(U.index+J.length()-te-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(ie,u.default.sources.USER)}},"embed left":z(M.keys.LEFT,!1),"embed left shift":z(M.keys.LEFT,!0),"embed right":z(M.keys.RIGHT,!1),"embed right shift":z(M.keys.RIGHT,!0)}};function z(P,U){var G,K=P===M.keys.LEFT?"prefix":"suffix";return G={key:P,shiftKey:U,altKey:null},x(G,K,/^$/),x(G,"handler",function(te){var ie=te.index;P===M.keys.RIGHT&&(ie+=te.length+1);var oe=this.quill.getLeaf(ie),le=g(oe,1),de=le[0];return de instanceof d.default.Embed?(P===M.keys.LEFT?U?this.quill.setSelection(te.index-1,te.length+1,u.default.sources.USER):this.quill.setSelection(te.index-1,u.default.sources.USER):U?this.quill.setSelection(te.index,te.length+1,u.default.sources.USER):this.quill.setSelection(te.index+te.length+1,u.default.sources.USER),!1):!0}),G}function H(P,U){if(!(P.index===0||this.quill.getLength()<=1)){var G=this.quill.getLine(P.index),K=g(G,1),J=K[0],te={};if(U.offset===0){var ie=this.quill.getLine(P.index-1),oe=g(ie,1),le=oe[0];if(le!=null&&le.length()>1){var de=J.formats(),Oe=this.quill.getFormat(P.index-1,1);te=n.default.attributes.diff(de,Oe)||{}}}var ge=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(U.prefix)?2:1;this.quill.deleteText(P.index-ge,ge,u.default.sources.USER),Object.keys(te).length>0&&this.quill.formatLine(P.index-ge,ge,te,u.default.sources.USER),this.quill.focus()}}function I(P,U){var G=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(U.suffix)?2:1;if(!(P.index>=this.quill.getLength()-G)){var K={},J=0,te=this.quill.getLine(P.index),ie=g(te,1),oe=ie[0];if(U.offset>=oe.length()-1){var le=this.quill.getLine(P.index+1),de=g(le,1),Oe=de[0];if(Oe){var ge=oe.formats(),Z=this.quill.getFormat(P.index,1);K=n.default.attributes.diff(ge,Z)||{},J=Oe.length()}}this.quill.deleteText(P.index,G,u.default.sources.USER),Object.keys(K).length>0&&this.quill.formatLine(P.index+J-1,G,K,u.default.sources.USER)}}function A(P){var U=this.quill.getLines(P),G={};if(U.length>1){var K=U[0].formats(),J=U[U.length-1].formats();G=n.default.attributes.diff(J,K)||{}}this.quill.deleteText(P,u.default.sources.USER),Object.keys(G).length>0&&this.quill.formatLine(P.index,1,G,u.default.sources.USER),this.quill.setSelection(P.index,u.default.sources.SILENT),this.quill.focus()}function D(P,U){var G=this;P.length>0&&this.quill.scroll.deleteAt(P.index,P.length);var K=Object.keys(U.format).reduce(function(J,te){return d.default.query(te,d.default.Scope.BLOCK)&&!Array.isArray(U.format[te])&&(J[te]=U.format[te]),J},{});this.quill.insertText(P.index,`
`,K,u.default.sources.USER),this.quill.setSelection(P.index+1,u.default.sources.SILENT),this.quill.focus(),Object.keys(U.format).forEach(function(J){K[J]==null&&(Array.isArray(U.format[J])||J!=="link"&&G.quill.format(J,U.format[J],u.default.sources.USER))})}function B(P){return{key:M.keys.TAB,shiftKey:!P,format:{"code-block":!0},handler:function(G){var K=d.default.query("code-block"),J=G.index,te=G.length,ie=this.quill.scroll.descendant(K,J),oe=g(ie,2),le=oe[0],de=oe[1];if(le!=null){var Oe=this.quill.getIndex(le),ge=le.newlineIndex(de,!0)+1,Z=le.newlineIndex(Oe+de+te),Y=le.domNode.textContent.slice(ge,Z).split(`
`);de=0,Y.forEach(function(ee,re){P?(le.insertAt(ge+de,K.TAB),de+=K.TAB.length,re===0?J+=K.TAB.length:te+=K.TAB.length):ee.startsWith(K.TAB)&&(le.deleteAt(ge+de,K.TAB.length),de-=K.TAB.length,re===0?J-=K.TAB.length:te-=K.TAB.length),de+=ee.length+1}),this.quill.update(u.default.sources.USER),this.quill.setSelection(J,te,u.default.sources.SILENT)}}}}function W(P){return{key:P[0].toUpperCase(),shortKey:!0,handler:function(G,K){this.quill.format(P,!K.format[P],u.default.sources.USER)}}}function F(P){if(typeof P=="string"||typeof P=="number")return F({key:P});if((typeof P=="undefined"?"undefined":w(P))==="object"&&(P=(0,m.default)(P,!1)),typeof P.key=="string")if(M.keys[P.key.toUpperCase()]!=null)P.key=M.keys[P.key.toUpperCase()];else if(P.key.length===1)P.key=P.key.toUpperCase().charCodeAt(0);else return null;return P.shortKey&&(P[R]=P.shortKey,delete P.shortKey),P}c.default=M,c.SHORTKEY=R},function(v,c,h){Object.defineProperty(c,"__esModule",{value:!0});var w=function(){function n(a,d){var i=[],u=!0,j=!1,b=void 0;try{for(var E=a[Symbol.iterator](),q;!(u=(q=E.next()).done)&&(i.push(q.value),!(d&&i.length===d));u=!0);}catch(S){j=!0,b=S}finally{try{!u&&E.return&&E.return()}finally{if(j)throw b}}return i}return function(a,d){if(Array.isArray(a))return a;if(Symbol.iterator in Object(a))return n(a,d);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),g=function n(a,d,i){a===null&&(a=Function.prototype);var u=Object.getOwnPropertyDescriptor(a,d);if(u===void 0){var j=Object.getPrototypeOf(a);return j===null?void 0:n(j,d,i)}else{if("value"in u)return u.value;var b=u.get;return b===void 0?void 0:b.call(i)}},_=function(){function n(a,d){for(var i=0;i<d.length;i++){var u=d[i];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(a,u.key,u)}}return function(a,d,i){return d&&n(a.prototype,d),i&&n(a,i),a}}(),y=h(0),m=t(y),p=h(7),o=t(p);function t(n){return n&&n.__esModule?n:{default:n}}function r(n,a){if(!(n instanceof a))throw new TypeError("Cannot call a class as a function")}function f(n,a){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a&&(typeof a=="object"||typeof a=="function")?a:n}function s(n,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);n.prototype=Object.create(a&&a.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(n,a):n.__proto__=a)}var l=function(n){s(a,n),_(a,null,[{key:"value",value:function(){}}]);function a(d,i){r(this,a);var u=f(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,d));return u.selection=i,u.textNode=document.createTextNode(a.CONTENTS),u.domNode.appendChild(u.textNode),u._length=0,u}return _(a,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(i,u){if(this._length!==0)return g(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"format",this).call(this,i,u);for(var j=this,b=0;j!=null&&j.statics.scope!==m.default.Scope.BLOCK_BLOT;)b+=j.offset(j.parent),j=j.parent;j!=null&&(this._length=a.CONTENTS.length,j.optimize(),j.formatAt(b,a.CONTENTS.length,i,u),this._length=0)}},{key:"index",value:function(i,u){return i===this.textNode?0:g(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"index",this).call(this,i,u)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){g(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var i=this.textNode,u=this.selection.getNativeRange(),j=void 0,b=void 0,E=void 0;if(u!=null&&u.start.node===i&&u.end.node===i){var q=[i,u.start.offset,u.end.offset];j=q[0],b=q[1],E=q[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==a.CONTENTS){var S=this.textNode.data.split(a.CONTENTS).join("");this.next instanceof o.default?(j=this.next.domNode,this.next.insertAt(0,S),this.textNode.data=a.CONTENTS):(this.textNode.data=S,this.parent.insertBefore(m.default.create(this.textNode),this),this.textNode=document.createTextNode(a.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),b!=null){var x=[b,E].map(function(C){return Math.max(0,Math.min(j.data.length,C-1))}),k=w(x,2);return b=k[0],E=k[1],{startNode:j,startOffset:b,endNode:j,endOffset:E}}}}},{key:"update",value:function(i,u){var j=this;if(i.some(function(E){return E.type==="characterData"&&E.target===j.textNode})){var b=this.restore();b&&(u.range=b)}}},{key:"value",value:function(){return""}}]),a}(m.default.Embed);l.blotName="cursor",l.className="ql-cursor",l.tagName="span",l.CONTENTS="\uFEFF",c.default=l},function(v,c,h){Object.defineProperty(c,"__esModule",{value:!0});var w=h(0),g=m(w),_=h(4),y=m(_);function m(f){return f&&f.__esModule?f:{default:f}}function p(f,s){if(!(f instanceof s))throw new TypeError("Cannot call a class as a function")}function o(f,s){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s&&(typeof s=="object"||typeof s=="function")?s:f}function t(f,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof s);f.prototype=Object.create(s&&s.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),s&&(Object.setPrototypeOf?Object.setPrototypeOf(f,s):f.__proto__=s)}var r=function(f){t(s,f);function s(){return p(this,s),o(this,(s.__proto__||Object.getPrototypeOf(s)).apply(this,arguments))}return s}(g.default.Container);r.allowedChildren=[y.default,_.BlockEmbed,r],c.default=r},function(v,c,h){Object.defineProperty(c,"__esModule",{value:!0}),c.ColorStyle=c.ColorClass=c.ColorAttributor=void 0;var w=function(){function l(n,a){for(var d=0;d<a.length;d++){var i=a[d];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(n,a,d){return a&&l(n.prototype,a),d&&l(n,d),n}}(),g=function l(n,a,d){n===null&&(n=Function.prototype);var i=Object.getOwnPropertyDescriptor(n,a);if(i===void 0){var u=Object.getPrototypeOf(n);return u===null?void 0:l(u,a,d)}else{if("value"in i)return i.value;var j=i.get;return j===void 0?void 0:j.call(d)}},_=h(0),y=m(_);function m(l){return l&&l.__esModule?l:{default:l}}function p(l,n){if(!(l instanceof n))throw new TypeError("Cannot call a class as a function")}function o(l,n){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:l}function t(l,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);l.prototype=Object.create(n&&n.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(l,n):l.__proto__=n)}var r=function(l){t(n,l);function n(){return p(this,n),o(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return w(n,[{key:"value",value:function(d){var i=g(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"value",this).call(this,d);return i.startsWith("rgb(")?(i=i.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+i.split(",").map(function(u){return("00"+parseInt(u).toString(16)).slice(-2)}).join("")):i}}]),n}(y.default.Attributor.Style),f=new y.default.Attributor.Class("color","ql-color",{scope:y.default.Scope.INLINE}),s=new r("color","color",{scope:y.default.Scope.INLINE});c.ColorAttributor=r,c.ColorClass=f,c.ColorStyle=s},function(v,c,h){Object.defineProperty(c,"__esModule",{value:!0}),c.sanitize=c.default=void 0;var w=function(){function s(l,n){for(var a=0;a<n.length;a++){var d=n[a];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(l,d.key,d)}}return function(l,n,a){return n&&s(l.prototype,n),a&&s(l,a),l}}(),g=function s(l,n,a){l===null&&(l=Function.prototype);var d=Object.getOwnPropertyDescriptor(l,n);if(d===void 0){var i=Object.getPrototypeOf(l);return i===null?void 0:s(i,n,a)}else{if("value"in d)return d.value;var u=d.get;return u===void 0?void 0:u.call(a)}},_=h(6),y=m(_);function m(s){return s&&s.__esModule?s:{default:s}}function p(s,l){if(!(s instanceof l))throw new TypeError("Cannot call a class as a function")}function o(s,l){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l&&(typeof l=="object"||typeof l=="function")?l:s}function t(s,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof l);s.prototype=Object.create(l&&l.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(s,l):s.__proto__=l)}var r=function(s){t(l,s);function l(){return p(this,l),o(this,(l.__proto__||Object.getPrototypeOf(l)).apply(this,arguments))}return w(l,[{key:"format",value:function(a,d){if(a!==this.statics.blotName||!d)return g(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"format",this).call(this,a,d);d=this.constructor.sanitize(d),this.domNode.setAttribute("href",d)}}],[{key:"create",value:function(a){var d=g(l.__proto__||Object.getPrototypeOf(l),"create",this).call(this,a);return a=this.sanitize(a),d.setAttribute("href",a),d.setAttribute("rel","noopener noreferrer"),d.setAttribute("target","_blank"),d}},{key:"formats",value:function(a){return a.getAttribute("href")}},{key:"sanitize",value:function(a){return f(a,this.PROTOCOL_WHITELIST)?a:this.SANITIZED_URL}}]),l}(y.default);r.blotName="link",r.tagName="A",r.SANITIZED_URL="about:blank",r.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function f(s,l){var n=document.createElement("a");n.href=s;var a=n.href.slice(0,n.href.indexOf(":"));return l.indexOf(a)>-1}c.default=r,c.sanitize=f},function(v,c,h){Object.defineProperty(c,"__esModule",{value:!0});var w=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},g=function(){function l(n,a){for(var d=0;d<a.length;d++){var i=a[d];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(n,a,d){return a&&l(n.prototype,a),d&&l(n,d),n}}(),_=h(23),y=o(_),m=h(107),p=o(m);function o(l){return l&&l.__esModule?l:{default:l}}function t(l,n){if(!(l instanceof n))throw new TypeError("Cannot call a class as a function")}var r=0;function f(l,n){l.setAttribute(n,l.getAttribute(n)!=="true")}var s=function(){function l(n){var a=this;t(this,l),this.select=n,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){a.togglePicker()}),this.label.addEventListener("keydown",function(d){switch(d.keyCode){case y.default.keys.ENTER:a.togglePicker();break;case y.default.keys.ESCAPE:a.escape(),d.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return g(l,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),f(this.label,"aria-expanded"),f(this.options,"aria-hidden")}},{key:"buildItem",value:function(a){var d=this,i=document.createElement("span");return i.tabIndex="0",i.setAttribute("role","button"),i.classList.add("ql-picker-item"),a.hasAttribute("value")&&i.setAttribute("data-value",a.getAttribute("value")),a.textContent&&i.setAttribute("data-label",a.textContent),i.addEventListener("click",function(){d.selectItem(i,!0)}),i.addEventListener("keydown",function(u){switch(u.keyCode){case y.default.keys.ENTER:d.selectItem(i,!0),u.preventDefault();break;case y.default.keys.ESCAPE:d.escape(),u.preventDefault();break}}),i}},{key:"buildLabel",value:function(){var a=document.createElement("span");return a.classList.add("ql-picker-label"),a.innerHTML=p.default,a.tabIndex="0",a.setAttribute("role","button"),a.setAttribute("aria-expanded","false"),this.container.appendChild(a),a}},{key:"buildOptions",value:function(){var a=this,d=document.createElement("span");d.classList.add("ql-picker-options"),d.setAttribute("aria-hidden","true"),d.tabIndex="-1",d.id="ql-picker-options-"+r,r+=1,this.label.setAttribute("aria-controls",d.id),this.options=d,[].slice.call(this.select.options).forEach(function(i){var u=a.buildItem(i);d.appendChild(u),i.selected===!0&&a.selectItem(u)}),this.container.appendChild(d)}},{key:"buildPicker",value:function(){var a=this;[].slice.call(this.select.attributes).forEach(function(d){a.container.setAttribute(d.name,d.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var a=this;this.close(),setTimeout(function(){return a.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(a){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=this.container.querySelector(".ql-selected");if(a!==i&&(i!=null&&i.classList.remove("ql-selected"),a!=null&&(a.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(a.parentNode.children,a),a.hasAttribute("data-value")?this.label.setAttribute("data-value",a.getAttribute("data-value")):this.label.removeAttribute("data-value"),a.hasAttribute("data-label")?this.label.setAttribute("data-label",a.getAttribute("data-label")):this.label.removeAttribute("data-label"),d))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event=="undefined"?"undefined":w(Event))==="object"){var u=document.createEvent("Event");u.initEvent("change",!0,!0),this.select.dispatchEvent(u)}this.close()}}},{key:"update",value:function(){var a=void 0;if(this.select.selectedIndex>-1){var d=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];a=this.select.options[this.select.selectedIndex],this.selectItem(d)}else this.selectItem(null);var i=a!=null&&a!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",i)}}]),l}();c.default=s},function(v,c,h){Object.defineProperty(c,"__esModule",{value:!0});var w=h(0),g=T(w),_=h(5),y=T(_),m=h(4),p=T(m),o=h(16),t=T(o),r=h(25),f=T(r),s=h(24),l=T(s),n=h(35),a=T(n),d=h(6),i=T(d),u=h(22),j=T(u),b=h(7),E=T(b),q=h(55),S=T(q),x=h(42),k=T(x),C=h(23),L=T(C);function T(R){return R&&R.__esModule?R:{default:R}}y.default.register({"blots/block":p.default,"blots/block/embed":m.BlockEmbed,"blots/break":t.default,"blots/container":f.default,"blots/cursor":l.default,"blots/embed":a.default,"blots/inline":i.default,"blots/scroll":j.default,"blots/text":E.default,"modules/clipboard":S.default,"modules/history":k.default,"modules/keyboard":L.default}),g.default.register(p.default,t.default,l.default,i.default,j.default,E.default),c.default=y.default},function(v,c,h){Object.defineProperty(c,"__esModule",{value:!0});var w=h(1),g=function(){function _(y){this.domNode=y,this.domNode[w.DATA_KEY]={blot:this}}return Object.defineProperty(_.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),_.create=function(y){if(this.tagName==null)throw new w.ParchmentError("Blot definition missing tagName");var m;return Array.isArray(this.tagName)?(typeof y=="string"&&(y=y.toUpperCase(),parseInt(y).toString()===y&&(y=parseInt(y))),typeof y=="number"?m=document.createElement(this.tagName[y-1]):this.tagName.indexOf(y)>-1?m=document.createElement(y):m=document.createElement(this.tagName[0])):m=document.createElement(this.tagName),this.className&&m.classList.add(this.className),m},_.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},_.prototype.clone=function(){var y=this.domNode.cloneNode(!1);return w.create(y)},_.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[w.DATA_KEY]},_.prototype.deleteAt=function(y,m){var p=this.isolate(y,m);p.remove()},_.prototype.formatAt=function(y,m,p,o){var t=this.isolate(y,m);if(w.query(p,w.Scope.BLOT)!=null&&o)t.wrap(p,o);else if(w.query(p,w.Scope.ATTRIBUTE)!=null){var r=w.create(this.statics.scope);t.wrap(r),r.format(p,o)}},_.prototype.insertAt=function(y,m,p){var o=p==null?w.create("text",m):w.create(m,p),t=this.split(y);this.parent.insertBefore(o,t)},_.prototype.insertInto=function(y,m){m===void 0&&(m=null),this.parent!=null&&this.parent.children.remove(this);var p=null;y.children.insertBefore(this,m),m!=null&&(p=m.domNode),(this.domNode.parentNode!=y.domNode||this.domNode.nextSibling!=p)&&y.domNode.insertBefore(this.domNode,p),this.parent=y,this.attach()},_.prototype.isolate=function(y,m){var p=this.split(y);return p.split(m),p},_.prototype.length=function(){return 1},_.prototype.offset=function(y){return y===void 0&&(y=this.parent),this.parent==null||this==y?0:this.parent.children.offset(this)+this.parent.offset(y)},_.prototype.optimize=function(y){this.domNode[w.DATA_KEY]!=null&&delete this.domNode[w.DATA_KEY].mutations},_.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},_.prototype.replace=function(y){y.parent!=null&&(y.parent.insertBefore(this,y.next),y.remove())},_.prototype.replaceWith=function(y,m){var p=typeof y=="string"?w.create(y,m):y;return p.replace(this),p},_.prototype.split=function(y,m){return y===0?this:this.next},_.prototype.update=function(y,m){},_.prototype.wrap=function(y,m){var p=typeof y=="string"?w.create(y,m):y;return this.parent!=null&&this.parent.insertBefore(p,this.next),p.appendChild(this),p},_.blotName="abstract",_}();c.default=g},function(v,c,h){Object.defineProperty(c,"__esModule",{value:!0});var w=h(12),g=h(32),_=h(33),y=h(1),m=function(){function p(o){this.attributes={},this.domNode=o,this.build()}return p.prototype.attribute=function(o,t){t?o.add(this.domNode,t)&&(o.value(this.domNode)!=null?this.attributes[o.attrName]=o:delete this.attributes[o.attrName]):(o.remove(this.domNode),delete this.attributes[o.attrName])},p.prototype.build=function(){var o=this;this.attributes={};var t=w.default.keys(this.domNode),r=g.default.keys(this.domNode),f=_.default.keys(this.domNode);t.concat(r).concat(f).forEach(function(s){var l=y.query(s,y.Scope.ATTRIBUTE);l instanceof w.default&&(o.attributes[l.attrName]=l)})},p.prototype.copy=function(o){var t=this;Object.keys(this.attributes).forEach(function(r){var f=t.attributes[r].value(t.domNode);o.format(r,f)})},p.prototype.move=function(o){var t=this;this.copy(o),Object.keys(this.attributes).forEach(function(r){t.attributes[r].remove(t.domNode)}),this.attributes={}},p.prototype.values=function(){var o=this;return Object.keys(this.attributes).reduce(function(t,r){return t[r]=o.attributes[r].value(o.domNode),t},{})},p}();c.default=m},function(v,c,h){var w=this&&this.__extends||function(){var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,o){p.__proto__=o}||function(p,o){for(var t in o)o.hasOwnProperty(t)&&(p[t]=o[t])};return function(p,o){m(p,o);function t(){this.constructor=p}p.prototype=o===null?Object.create(o):(t.prototype=o.prototype,new t)}}();Object.defineProperty(c,"__esModule",{value:!0});var g=h(12);function _(m,p){var o=m.getAttribute("class")||"";return o.split(/\s+/).filter(function(t){return t.indexOf(p+"-")===0})}var y=function(m){w(p,m);function p(){return m!==null&&m.apply(this,arguments)||this}return p.keys=function(o){return(o.getAttribute("class")||"").split(/\s+/).map(function(t){return t.split("-").slice(0,-1).join("-")})},p.prototype.add=function(o,t){return this.canAdd(o,t)?(this.remove(o),o.classList.add(this.keyName+"-"+t),!0):!1},p.prototype.remove=function(o){var t=_(o,this.keyName);t.forEach(function(r){o.classList.remove(r)}),o.classList.length===0&&o.removeAttribute("class")},p.prototype.value=function(o){var t=_(o,this.keyName)[0]||"",r=t.slice(this.keyName.length+1);return this.canAdd(o,r)?r:""},p}(g.default);c.default=y},function(v,c,h){var w=this&&this.__extends||function(){var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,o){p.__proto__=o}||function(p,o){for(var t in o)o.hasOwnProperty(t)&&(p[t]=o[t])};return function(p,o){m(p,o);function t(){this.constructor=p}p.prototype=o===null?Object.create(o):(t.prototype=o.prototype,new t)}}();Object.defineProperty(c,"__esModule",{value:!0});var g=h(12);function _(m){var p=m.split("-"),o=p.slice(1).map(function(t){return t[0].toUpperCase()+t.slice(1)}).join("");return p[0]+o}var y=function(m){w(p,m);function p(){return m!==null&&m.apply(this,arguments)||this}return p.keys=function(o){return(o.getAttribute("style")||"").split(";").map(function(t){var r=t.split(":");return r[0].trim()})},p.prototype.add=function(o,t){return this.canAdd(o,t)?(o.style[_(this.keyName)]=t,!0):!1},p.prototype.remove=function(o){o.style[_(this.keyName)]="",o.getAttribute("style")||o.removeAttribute("style")},p.prototype.value=function(o){var t=o.style[_(this.keyName)];return this.canAdd(o,t)?t:""},p}(g.default);c.default=y},function(v,c,h){Object.defineProperty(c,"__esModule",{value:!0});var w=function(){function y(m,p){for(var o=0;o<p.length;o++){var t=p[o];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(m,t.key,t)}}return function(m,p,o){return p&&y(m.prototype,p),o&&y(m,o),m}}();function g(y,m){if(!(y instanceof m))throw new TypeError("Cannot call a class as a function")}var _=function(){function y(m,p){g(this,y),this.quill=m,this.options=p,this.modules={}}return w(y,[{key:"init",value:function(){var p=this;Object.keys(this.options.modules).forEach(function(o){p.modules[o]==null&&p.addModule(o)})}},{key:"addModule",value:function(p){var o=this.quill.constructor.import("modules/"+p);return this.modules[p]=new o(this.quill,this.options.modules[p]||{}),this.modules[p]}}]),y}();_.DEFAULTS={modules:{}},_.themes={default:_},c.default=_},function(v,c,h){Object.defineProperty(c,"__esModule",{value:!0});var w=function(){function n(a,d){for(var i=0;i<d.length;i++){var u=d[i];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(a,u.key,u)}}return function(a,d,i){return d&&n(a.prototype,d),i&&n(a,i),a}}(),g=function n(a,d,i){a===null&&(a=Function.prototype);var u=Object.getOwnPropertyDescriptor(a,d);if(u===void 0){var j=Object.getPrototypeOf(a);return j===null?void 0:n(j,d,i)}else{if("value"in u)return u.value;var b=u.get;return b===void 0?void 0:b.call(i)}},_=h(0),y=o(_),m=h(7),p=o(m);function o(n){return n&&n.__esModule?n:{default:n}}function t(n,a){if(!(n instanceof a))throw new TypeError("Cannot call a class as a function")}function r(n,a){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a&&(typeof a=="object"||typeof a=="function")?a:n}function f(n,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);n.prototype=Object.create(a&&a.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(n,a):n.__proto__=a)}var s="\uFEFF",l=function(n){f(a,n);function a(d){t(this,a);var i=r(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,d));return i.contentNode=document.createElement("span"),i.contentNode.setAttribute("contenteditable",!1),[].slice.call(i.domNode.childNodes).forEach(function(u){i.contentNode.appendChild(u)}),i.leftGuard=document.createTextNode(s),i.rightGuard=document.createTextNode(s),i.domNode.appendChild(i.leftGuard),i.domNode.appendChild(i.contentNode),i.domNode.appendChild(i.rightGuard),i}return w(a,[{key:"index",value:function(i,u){return i===this.leftGuard?0:i===this.rightGuard?1:g(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"index",this).call(this,i,u)}},{key:"restore",value:function(i){var u=void 0,j=void 0,b=i.data.split(s).join("");if(i===this.leftGuard)if(this.prev instanceof p.default){var E=this.prev.length();this.prev.insertAt(E,b),u={startNode:this.prev.domNode,startOffset:E+b.length}}else j=document.createTextNode(b),this.parent.insertBefore(y.default.create(j),this),u={startNode:j,startOffset:b.length};else i===this.rightGuard&&(this.next instanceof p.default?(this.next.insertAt(0,b),u={startNode:this.next.domNode,startOffset:b.length}):(j=document.createTextNode(b),this.parent.insertBefore(y.default.create(j),this.next),u={startNode:j,startOffset:b.length}));return i.data=s,u}},{key:"update",value:function(i,u){var j=this;i.forEach(function(b){if(b.type==="characterData"&&(b.target===j.leftGuard||b.target===j.rightGuard)){var E=j.restore(b.target);E&&(u.range=E)}})}}]),a}(y.default.Embed);c.default=l},function(v,c,h){Object.defineProperty(c,"__esModule",{value:!0}),c.AlignStyle=c.AlignClass=c.AlignAttribute=void 0;var w=h(0),g=_(w);function _(t){return t&&t.__esModule?t:{default:t}}var y={scope:g.default.Scope.BLOCK,whitelist:["right","center","justify"]},m=new g.default.Attributor.Attribute("align","align",y),p=new g.default.Attributor.Class("align","ql-align",y),o=new g.default.Attributor.Style("align","text-align",y);c.AlignAttribute=m,c.AlignClass=p,c.AlignStyle=o},function(v,c,h){Object.defineProperty(c,"__esModule",{value:!0}),c.BackgroundStyle=c.BackgroundClass=void 0;var w=h(0),g=y(w),_=h(26);function y(o){return o&&o.__esModule?o:{default:o}}var m=new g.default.Attributor.Class("background","ql-bg",{scope:g.default.Scope.INLINE}),p=new _.ColorAttributor("background","background-color",{scope:g.default.Scope.INLINE});c.BackgroundClass=m,c.BackgroundStyle=p},function(v,c,h){Object.defineProperty(c,"__esModule",{value:!0}),c.DirectionStyle=c.DirectionClass=c.DirectionAttribute=void 0;var w=h(0),g=_(w);function _(t){return t&&t.__esModule?t:{default:t}}var y={scope:g.default.Scope.BLOCK,whitelist:["rtl"]},m=new g.default.Attributor.Attribute("direction","dir",y),p=new g.default.Attributor.Class("direction","ql-direction",y),o=new g.default.Attributor.Style("direction","direction",y);c.DirectionAttribute=m,c.DirectionClass=p,c.DirectionStyle=o},function(v,c,h){Object.defineProperty(c,"__esModule",{value:!0}),c.FontClass=c.FontStyle=void 0;var w=function(){function n(a,d){for(var i=0;i<d.length;i++){var u=d[i];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(a,u.key,u)}}return function(a,d,i){return d&&n(a.prototype,d),i&&n(a,i),a}}(),g=function n(a,d,i){a===null&&(a=Function.prototype);var u=Object.getOwnPropertyDescriptor(a,d);if(u===void 0){var j=Object.getPrototypeOf(a);return j===null?void 0:n(j,d,i)}else{if("value"in u)return u.value;var b=u.get;return b===void 0?void 0:b.call(i)}},_=h(0),y=m(_);function m(n){return n&&n.__esModule?n:{default:n}}function p(n,a){if(!(n instanceof a))throw new TypeError("Cannot call a class as a function")}function o(n,a){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a&&(typeof a=="object"||typeof a=="function")?a:n}function t(n,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);n.prototype=Object.create(a&&a.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(n,a):n.__proto__=a)}var r={scope:y.default.Scope.INLINE,whitelist:["serif","monospace"]},f=new y.default.Attributor.Class("font","ql-font",r),s=function(n){t(a,n);function a(){return p(this,a),o(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return w(a,[{key:"value",value:function(i){return g(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"value",this).call(this,i).replace(/["']/g,"")}}]),a}(y.default.Attributor.Style),l=new s("font","font-family",r);c.FontStyle=l,c.FontClass=f},function(v,c,h){Object.defineProperty(c,"__esModule",{value:!0}),c.SizeStyle=c.SizeClass=void 0;var w=h(0),g=_(w);function _(p){return p&&p.__esModule?p:{default:p}}var y=new g.default.Attributor.Class("size","ql-size",{scope:g.default.Scope.INLINE,whitelist:["small","large","huge"]}),m=new g.default.Attributor.Style("size","font-size",{scope:g.default.Scope.INLINE,whitelist:["10px","18px","32px"]});c.SizeClass=y,c.SizeStyle=m},function(v,c,h){v.exports={align:{"":h(76),center:h(77),right:h(78),justify:h(79)},background:h(80),blockquote:h(81),bold:h(82),clean:h(83),code:h(58),"code-block":h(58),color:h(84),direction:{"":h(85),rtl:h(86)},float:{center:h(87),full:h(88),left:h(89),right:h(90)},formula:h(91),header:{1:h(92),2:h(93)},italic:h(94),image:h(95),indent:{"+1":h(96),"-1":h(97)},link:h(98),list:{ordered:h(99),bullet:h(100),check:h(101)},script:{sub:h(102),super:h(103)},strike:h(104),underline:h(105),video:h(106)}},function(v,c,h){Object.defineProperty(c,"__esModule",{value:!0}),c.getLastChangeIndex=c.default=void 0;var w=function(){function d(i,u){for(var j=0;j<u.length;j++){var b=u[j];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(i,b.key,b)}}return function(i,u,j){return u&&d(i.prototype,u),j&&d(i,j),i}}(),g=h(0),_=t(g),y=h(5),m=t(y),p=h(9),o=t(p);function t(d){return d&&d.__esModule?d:{default:d}}function r(d,i){if(!(d instanceof i))throw new TypeError("Cannot call a class as a function")}function f(d,i){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i&&(typeof i=="object"||typeof i=="function")?i:d}function s(d,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof i);d.prototype=Object.create(i&&i.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(d,i):d.__proto__=i)}var l=function(d){s(i,d);function i(u,j){r(this,i);var b=f(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,u,j));return b.lastRecorded=0,b.ignoreChange=!1,b.clear(),b.quill.on(m.default.events.EDITOR_CHANGE,function(E,q,S,x){E!==m.default.events.TEXT_CHANGE||b.ignoreChange||(!b.options.userOnly||x===m.default.sources.USER?b.record(q,S):b.transform(q))}),b.quill.keyboard.addBinding({key:"Z",shortKey:!0},b.undo.bind(b)),b.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},b.redo.bind(b)),/Win/i.test(navigator.platform)&&b.quill.keyboard.addBinding({key:"Y",shortKey:!0},b.redo.bind(b)),b}return w(i,[{key:"change",value:function(j,b){if(this.stack[j].length!==0){var E=this.stack[j].pop();this.stack[b].push(E),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(E[j],m.default.sources.USER),this.ignoreChange=!1;var q=a(E[j]);this.quill.setSelection(q)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(j,b){if(j.ops.length!==0){this.stack.redo=[];var E=this.quill.getContents().diff(b),q=Date.now();if(this.lastRecorded+this.options.delay>q&&this.stack.undo.length>0){var S=this.stack.undo.pop();E=E.compose(S.undo),j=S.redo.compose(j)}else this.lastRecorded=q;this.stack.undo.push({redo:j,undo:E}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(j){this.stack.undo.forEach(function(b){b.undo=j.transform(b.undo,!0),b.redo=j.transform(b.redo,!0)}),this.stack.redo.forEach(function(b){b.undo=j.transform(b.undo,!0),b.redo=j.transform(b.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),i}(o.default);l.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function n(d){var i=d.ops[d.ops.length-1];return i==null?!1:i.insert!=null?typeof i.insert=="string"&&i.insert.endsWith(`
`):i.attributes!=null?Object.keys(i.attributes).some(function(u){return _.default.query(u,_.default.Scope.BLOCK)!=null}):!1}function a(d){var i=d.reduce(function(j,b){return j+=b.delete||0,j},0),u=d.length()-i;return n(d)&&(u-=1),u}c.default=l,c.getLastChangeIndex=a},function(v,c,h){Object.defineProperty(c,"__esModule",{value:!0}),c.default=c.BaseTooltip=void 0;var w=function(){function D(B,W){for(var F=0;F<W.length;F++){var P=W[F];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(B,P.key,P)}}return function(B,W,F){return W&&D(B.prototype,W),F&&D(B,F),B}}(),g=function D(B,W,F){B===null&&(B=Function.prototype);var P=Object.getOwnPropertyDescriptor(B,W);if(P===void 0){var U=Object.getPrototypeOf(B);return U===null?void 0:D(U,W,F)}else{if("value"in P)return P.value;var G=P.get;return G===void 0?void 0:G.call(F)}},_=h(3),y=q(_),m=h(2),p=q(m),o=h(8),t=q(o),r=h(23),f=q(r),s=h(34),l=q(s),n=h(59),a=q(n),d=h(60),i=q(d),u=h(28),j=q(u),b=h(61),E=q(b);function q(D){return D&&D.__esModule?D:{default:D}}function S(D,B){if(!(D instanceof B))throw new TypeError("Cannot call a class as a function")}function x(D,B){if(!D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return B&&(typeof B=="object"||typeof B=="function")?B:D}function k(D,B){if(typeof B!="function"&&B!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof B);D.prototype=Object.create(B&&B.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),B&&(Object.setPrototypeOf?Object.setPrototypeOf(D,B):D.__proto__=B)}var C=[!1,"center","right","justify"],L=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],T=[!1,"serif","monospace"],R=["1","2","3",!1],M=["small",!1,"large","huge"],z=function(D){k(B,D);function B(W,F){S(this,B);var P=x(this,(B.__proto__||Object.getPrototypeOf(B)).call(this,W,F)),U=function G(K){if(!document.body.contains(W.root))return document.body.removeEventListener("click",G);P.tooltip!=null&&!P.tooltip.root.contains(K.target)&&document.activeElement!==P.tooltip.textbox&&!P.quill.hasFocus()&&P.tooltip.hide(),P.pickers!=null&&P.pickers.forEach(function(J){J.container.contains(K.target)||J.close()})};return W.emitter.listenDOM("click",document.body,U),P}return w(B,[{key:"addModule",value:function(F){var P=g(B.prototype.__proto__||Object.getPrototypeOf(B.prototype),"addModule",this).call(this,F);return F==="toolbar"&&this.extendToolbar(P),P}},{key:"buildButtons",value:function(F,P){F.forEach(function(U){var G=U.getAttribute("class")||"";G.split(/\s+/).forEach(function(K){if(K.startsWith("ql-")&&(K=K.slice(3),P[K]!=null))if(K==="direction")U.innerHTML=P[K][""]+P[K].rtl;else if(typeof P[K]=="string")U.innerHTML=P[K];else{var J=U.value||"";J!=null&&P[K][J]&&(U.innerHTML=P[K][J])}})})}},{key:"buildPickers",value:function(F,P){var U=this;this.pickers=F.map(function(K){if(K.classList.contains("ql-align"))return K.querySelector("option")==null&&A(K,C),new i.default(K,P.align);if(K.classList.contains("ql-background")||K.classList.contains("ql-color")){var J=K.classList.contains("ql-background")?"background":"color";return K.querySelector("option")==null&&A(K,L,J==="background"?"#ffffff":"#000000"),new a.default(K,P[J])}else return K.querySelector("option")==null&&(K.classList.contains("ql-font")?A(K,T):K.classList.contains("ql-header")?A(K,R):K.classList.contains("ql-size")&&A(K,M)),new j.default(K)});var G=function(){U.pickers.forEach(function(J){J.update()})};this.quill.on(t.default.events.EDITOR_CHANGE,G)}}]),B}(l.default);z.DEFAULTS=(0,y.default)(!0,{},l.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var B=this,W=this.container.querySelector("input.ql-image[type=file]");W==null&&(W=document.createElement("input"),W.setAttribute("type","file"),W.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),W.classList.add("ql-image"),W.addEventListener("change",function(){if(W.files!=null&&W.files[0]!=null){var F=new FileReader;F.onload=function(P){var U=B.quill.getSelection(!0);B.quill.updateContents(new p.default().retain(U.index).delete(U.length).insert({image:P.target.result}),t.default.sources.USER),B.quill.setSelection(U.index+1,t.default.sources.SILENT),W.value=""},F.readAsDataURL(W.files[0])}}),this.container.appendChild(W)),W.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var H=function(D){k(B,D);function B(W,F){S(this,B);var P=x(this,(B.__proto__||Object.getPrototypeOf(B)).call(this,W,F));return P.textbox=P.root.querySelector('input[type="text"]'),P.listen(),P}return w(B,[{key:"listen",value:function(){var F=this;this.textbox.addEventListener("keydown",function(P){f.default.match(P,"enter")?(F.save(),P.preventDefault()):f.default.match(P,"escape")&&(F.cancel(),P.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),P!=null?this.textbox.value=P:F!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+F)||""),this.root.setAttribute("data-mode",F)}},{key:"restoreFocus",value:function(){var F=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=F}},{key:"save",value:function(){var F=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var P=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",F,t.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",F,t.default.sources.USER)),this.quill.root.scrollTop=P;break}case"video":F=I(F);case"formula":{if(!F)break;var U=this.quill.getSelection(!0);if(U!=null){var G=U.index+U.length;this.quill.insertEmbed(G,this.root.getAttribute("data-mode"),F,t.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(G+1," ",t.default.sources.USER),this.quill.setSelection(G+2,t.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),B}(E.default);function I(D){var B=D.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||D.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return B?(B[1]||"https")+"://www.youtube.com/embed/"+B[2]+"?showinfo=0":(B=D.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(B[1]||"https")+"://player.vimeo.com/video/"+B[2]+"/":D}function A(D,B){var W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;B.forEach(function(F){var P=document.createElement("option");F===W?P.setAttribute("selected","selected"):P.setAttribute("value",F),D.appendChild(P)})}c.BaseTooltip=H,c.default=z},function(v,c,h){Object.defineProperty(c,"__esModule",{value:!0});var w=function(){function g(){this.head=this.tail=null,this.length=0}return g.prototype.append=function(){for(var _=[],y=0;y<arguments.length;y++)_[y]=arguments[y];this.insertBefore(_[0],null),_.length>1&&this.append.apply(this,_.slice(1))},g.prototype.contains=function(_){for(var y,m=this.iterator();y=m();)if(y===_)return!0;return!1},g.prototype.insertBefore=function(_,y){_&&(_.next=y,y!=null?(_.prev=y.prev,y.prev!=null&&(y.prev.next=_),y.prev=_,y===this.head&&(this.head=_)):this.tail!=null?(this.tail.next=_,_.prev=this.tail,this.tail=_):(_.prev=null,this.head=this.tail=_),this.length+=1)},g.prototype.offset=function(_){for(var y=0,m=this.head;m!=null;){if(m===_)return y;y+=m.length(),m=m.next}return-1},g.prototype.remove=function(_){this.contains(_)&&(_.prev!=null&&(_.prev.next=_.next),_.next!=null&&(_.next.prev=_.prev),_===this.head&&(this.head=_.next),_===this.tail&&(this.tail=_.prev),this.length-=1)},g.prototype.iterator=function(_){return _===void 0&&(_=this.head),function(){var y=_;return _!=null&&(_=_.next),y}},g.prototype.find=function(_,y){y===void 0&&(y=!1);for(var m,p=this.iterator();m=p();){var o=m.length();if(_<o||y&&_===o&&(m.next==null||m.next.length()!==0))return[m,_];_-=o}return[null,0]},g.prototype.forEach=function(_){for(var y,m=this.iterator();y=m();)_(y)},g.prototype.forEachAt=function(_,y,m){if(!(y<=0))for(var p=this.find(_),o=p[0],t=p[1],r,f=_-t,s=this.iterator(o);(r=s())&&f<_+y;){var l=r.length();_>f?m(r,_-f,Math.min(y,f+l-_)):m(r,0,Math.min(l,_+y-f)),f+=l}},g.prototype.map=function(_){return this.reduce(function(y,m){return y.push(_(m)),y},[])},g.prototype.reduce=function(_,y){for(var m,p=this.iterator();m=p();)y=_(y,m);return y},g}();c.default=w},function(v,c,h){var w=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var f in r)r.hasOwnProperty(f)&&(t[f]=r[f])};return function(t,r){o(t,r);function f(){this.constructor=t}t.prototype=r===null?Object.create(r):(f.prototype=r.prototype,new f)}}();Object.defineProperty(c,"__esModule",{value:!0});var g=h(17),_=h(1),y={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},m=100,p=function(o){w(t,o);function t(r){var f=o.call(this,r)||this;return f.scroll=f,f.observer=new MutationObserver(function(s){f.update(s)}),f.observer.observe(f.domNode,y),f.attach(),f}return t.prototype.detach=function(){o.prototype.detach.call(this),this.observer.disconnect()},t.prototype.deleteAt=function(r,f){this.update(),r===0&&f===this.length()?this.children.forEach(function(s){s.remove()}):o.prototype.deleteAt.call(this,r,f)},t.prototype.formatAt=function(r,f,s,l){this.update(),o.prototype.formatAt.call(this,r,f,s,l)},t.prototype.insertAt=function(r,f,s){this.update(),o.prototype.insertAt.call(this,r,f,s)},t.prototype.optimize=function(r,f){var s=this;r===void 0&&(r=[]),f===void 0&&(f={}),o.prototype.optimize.call(this,f);for(var l=[].slice.call(this.observer.takeRecords());l.length>0;)r.push(l.pop());for(var n=function(u,j){j===void 0&&(j=!0),!(u==null||u===s)&&u.domNode.parentNode!=null&&(u.domNode[_.DATA_KEY].mutations==null&&(u.domNode[_.DATA_KEY].mutations=[]),j&&n(u.parent))},a=function(u){u.domNode[_.DATA_KEY]==null||u.domNode[_.DATA_KEY].mutations==null||(u instanceof g.default&&u.children.forEach(a),u.optimize(f))},d=r,i=0;d.length>0;i+=1){if(i>=m)throw new Error("[Parchment] Maximum optimize iterations reached");for(d.forEach(function(u){var j=_.find(u.target,!0);j!=null&&(j.domNode===u.target&&(u.type==="childList"?(n(_.find(u.previousSibling,!1)),[].forEach.call(u.addedNodes,function(b){var E=_.find(b,!1);n(E,!1),E instanceof g.default&&E.children.forEach(function(q){n(q,!1)})})):u.type==="attributes"&&n(j.prev)),n(j))}),this.children.forEach(a),d=[].slice.call(this.observer.takeRecords()),l=d.slice();l.length>0;)r.push(l.pop())}},t.prototype.update=function(r,f){var s=this;f===void 0&&(f={}),r=r||this.observer.takeRecords(),r.map(function(l){var n=_.find(l.target,!0);return n==null?null:n.domNode[_.DATA_KEY].mutations==null?(n.domNode[_.DATA_KEY].mutations=[l],n):(n.domNode[_.DATA_KEY].mutations.push(l),null)}).forEach(function(l){l==null||l===s||l.domNode[_.DATA_KEY]==null||l.update(l.domNode[_.DATA_KEY].mutations||[],f)}),this.domNode[_.DATA_KEY].mutations!=null&&o.prototype.update.call(this,this.domNode[_.DATA_KEY].mutations,f),this.optimize(r,f)},t.blotName="scroll",t.defaultChild="block",t.scope=_.Scope.BLOCK_BLOT,t.tagName="DIV",t}(g.default);c.default=p},function(v,c,h){var w=this&&this.__extends||function(){var p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,t){o.__proto__=t}||function(o,t){for(var r in t)t.hasOwnProperty(r)&&(o[r]=t[r])};return function(o,t){p(o,t);function r(){this.constructor=o}o.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();Object.defineProperty(c,"__esModule",{value:!0});var g=h(18),_=h(1);function y(p,o){if(Object.keys(p).length!==Object.keys(o).length)return!1;for(var t in p)if(p[t]!==o[t])return!1;return!0}var m=function(p){w(o,p);function o(){return p!==null&&p.apply(this,arguments)||this}return o.formats=function(t){if(t.tagName!==o.tagName)return p.formats.call(this,t)},o.prototype.format=function(t,r){var f=this;t===this.statics.blotName&&!r?(this.children.forEach(function(s){s instanceof g.default||(s=s.wrap(o.blotName,!0)),f.attributes.copy(s)}),this.unwrap()):p.prototype.format.call(this,t,r)},o.prototype.formatAt=function(t,r,f,s){if(this.formats()[f]!=null||_.query(f,_.Scope.ATTRIBUTE)){var l=this.isolate(t,r);l.format(f,s)}else p.prototype.formatAt.call(this,t,r,f,s)},o.prototype.optimize=function(t){p.prototype.optimize.call(this,t);var r=this.formats();if(Object.keys(r).length===0)return this.unwrap();var f=this.next;f instanceof o&&f.prev===this&&y(r,f.formats())&&(f.moveChildren(this),f.remove())},o.blotName="inline",o.scope=_.Scope.INLINE_BLOT,o.tagName="SPAN",o}(g.default);c.default=m},function(v,c,h){var w=this&&this.__extends||function(){var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,o){p.__proto__=o}||function(p,o){for(var t in o)o.hasOwnProperty(t)&&(p[t]=o[t])};return function(p,o){m(p,o);function t(){this.constructor=p}p.prototype=o===null?Object.create(o):(t.prototype=o.prototype,new t)}}();Object.defineProperty(c,"__esModule",{value:!0});var g=h(18),_=h(1),y=function(m){w(p,m);function p(){return m!==null&&m.apply(this,arguments)||this}return p.formats=function(o){var t=_.query(p.blotName).tagName;if(o.tagName!==t)return m.formats.call(this,o)},p.prototype.format=function(o,t){_.query(o,_.Scope.BLOCK)!=null&&(o===this.statics.blotName&&!t?this.replaceWith(p.blotName):m.prototype.format.call(this,o,t))},p.prototype.formatAt=function(o,t,r,f){_.query(r,_.Scope.BLOCK)!=null?this.format(r,f):m.prototype.formatAt.call(this,o,t,r,f)},p.prototype.insertAt=function(o,t,r){if(r==null||_.query(t,_.Scope.INLINE)!=null)m.prototype.insertAt.call(this,o,t,r);else{var f=this.split(o),s=_.create(t,r);f.parent.insertBefore(s,f)}},p.prototype.update=function(o,t){navigator.userAgent.match(/Trident/)?this.build():m.prototype.update.call(this,o,t)},p.blotName="block",p.scope=_.Scope.BLOCK_BLOT,p.tagName="P",p}(g.default);c.default=y},function(v,c,h){var w=this&&this.__extends||function(){var y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,p){m.__proto__=p}||function(m,p){for(var o in p)p.hasOwnProperty(o)&&(m[o]=p[o])};return function(m,p){y(m,p);function o(){this.constructor=m}m.prototype=p===null?Object.create(p):(o.prototype=p.prototype,new o)}}();Object.defineProperty(c,"__esModule",{value:!0});var g=h(19),_=function(y){w(m,y);function m(){return y!==null&&y.apply(this,arguments)||this}return m.formats=function(p){},m.prototype.format=function(p,o){y.prototype.formatAt.call(this,0,this.length(),p,o)},m.prototype.formatAt=function(p,o,t,r){p===0&&o===this.length()?this.format(t,r):y.prototype.formatAt.call(this,p,o,t,r)},m.prototype.formats=function(){return this.statics.formats(this.domNode)},m}(g.default);c.default=_},function(v,c,h){var w=this&&this.__extends||function(){var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,o){p.__proto__=o}||function(p,o){for(var t in o)o.hasOwnProperty(t)&&(p[t]=o[t])};return function(p,o){m(p,o);function t(){this.constructor=p}p.prototype=o===null?Object.create(o):(t.prototype=o.prototype,new t)}}();Object.defineProperty(c,"__esModule",{value:!0});var g=h(19),_=h(1),y=function(m){w(p,m);function p(o){var t=m.call(this,o)||this;return t.text=t.statics.value(t.domNode),t}return p.create=function(o){return document.createTextNode(o)},p.value=function(o){var t=o.data;return t.normalize&&(t=t.normalize()),t},p.prototype.deleteAt=function(o,t){this.domNode.data=this.text=this.text.slice(0,o)+this.text.slice(o+t)},p.prototype.index=function(o,t){return this.domNode===o?t:-1},p.prototype.insertAt=function(o,t,r){r==null?(this.text=this.text.slice(0,o)+t+this.text.slice(o),this.domNode.data=this.text):m.prototype.insertAt.call(this,o,t,r)},p.prototype.length=function(){return this.text.length},p.prototype.optimize=function(o){m.prototype.optimize.call(this,o),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof p&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},p.prototype.position=function(o,t){return[this.domNode,o]},p.prototype.split=function(o,t){if(t===void 0&&(t=!1),!t){if(o===0)return this;if(o===this.length())return this.next}var r=_.create(this.domNode.splitText(o));return this.parent.insertBefore(r,this.next),this.text=this.statics.value(this.domNode),r},p.prototype.update=function(o,t){var r=this;o.some(function(f){return f.type==="characterData"&&f.target===r.domNode})&&(this.text=this.statics.value(this.domNode))},p.prototype.value=function(){return this.text},p.blotName="text",p.scope=_.Scope.INLINE_BLOT,p}(g.default);c.default=y},function(v,c,h){var w=document.createElement("div");if(w.classList.toggle("test-class",!1),w.classList.contains("test-class")){var g=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(_,y){return arguments.length>1&&!this.contains(_)==!y?y:g.call(this,_)}}String.prototype.startsWith||(String.prototype.startsWith=function(_,y){return y=y||0,this.substr(y,_.length)===_}),String.prototype.endsWith||(String.prototype.endsWith=function(_,y){var m=this.toString();(typeof y!="number"||!isFinite(y)||Math.floor(y)!==y||y>m.length)&&(y=m.length),y-=_.length;var p=m.indexOf(_,y);return p!==-1&&p===y}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(y){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof y!="function")throw new TypeError("predicate must be a function");for(var m=Object(this),p=m.length>>>0,o=arguments[1],t,r=0;r<p;r++)if(t=m[r],y.call(o,t,r,m))return t}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(v,c){var h=-1,w=1,g=0;function _(i,u,j){if(i==u)return i?[[g,i]]:[];(j<0||i.length<j)&&(j=null);var b=o(i,u),E=i.substring(0,b);i=i.substring(b),u=u.substring(b),b=t(i,u);var q=i.substring(i.length-b);i=i.substring(0,i.length-b),u=u.substring(0,u.length-b);var S=y(i,u);return E&&S.unshift([g,E]),q&&S.push([g,q]),f(S),j!=null&&(S=n(S,j)),S=a(S),S}function y(i,u){var j;if(!i)return[[w,u]];if(!u)return[[h,i]];var b=i.length>u.length?i:u,E=i.length>u.length?u:i,q=b.indexOf(E);if(q!=-1)return j=[[w,b.substring(0,q)],[g,E],[w,b.substring(q+E.length)]],i.length>u.length&&(j[0][0]=j[2][0]=h),j;if(E.length==1)return[[h,i],[w,u]];var S=r(i,u);if(S){var x=S[0],k=S[1],C=S[2],L=S[3],T=S[4],R=_(x,C),M=_(k,L);return R.concat([[g,T]],M)}return m(i,u)}function m(i,u){for(var j=i.length,b=u.length,E=Math.ceil((j+b)/2),q=E,S=2*E,x=new Array(S),k=new Array(S),C=0;C<S;C++)x[C]=-1,k[C]=-1;x[q+1]=0,k[q+1]=0;for(var L=j-b,T=L%2!=0,R=0,M=0,z=0,H=0,I=0;I<E;I++){for(var A=-I+R;A<=I-M;A+=2){var D=q+A,B;A==-I||A!=I&&x[D-1]<x[D+1]?B=x[D+1]:B=x[D-1]+1;for(var W=B-A;B<j&&W<b&&i.charAt(B)==u.charAt(W);)B++,W++;if(x[D]=B,B>j)M+=2;else if(W>b)R+=2;else if(T){var F=q+L-A;if(F>=0&&F<S&&k[F]!=-1){var P=j-k[F];if(B>=P)return p(i,u,B,W)}}}for(var U=-I+z;U<=I-H;U+=2){var F=q+U,P;U==-I||U!=I&&k[F-1]<k[F+1]?P=k[F+1]:P=k[F-1]+1;for(var G=P-U;P<j&&G<b&&i.charAt(j-P-1)==u.charAt(b-G-1);)P++,G++;if(k[F]=P,P>j)H+=2;else if(G>b)z+=2;else if(!T){var D=q+L-U;if(D>=0&&D<S&&x[D]!=-1){var B=x[D],W=q+B-D;if(P=j-P,B>=P)return p(i,u,B,W)}}}}return[[h,i],[w,u]]}function p(i,u,j,b){var E=i.substring(0,j),q=u.substring(0,b),S=i.substring(j),x=u.substring(b),k=_(E,q),C=_(S,x);return k.concat(C)}function o(i,u){if(!i||!u||i.charAt(0)!=u.charAt(0))return 0;for(var j=0,b=Math.min(i.length,u.length),E=b,q=0;j<E;)i.substring(q,E)==u.substring(q,E)?(j=E,q=j):b=E,E=Math.floor((b-j)/2+j);return E}function t(i,u){if(!i||!u||i.charAt(i.length-1)!=u.charAt(u.length-1))return 0;for(var j=0,b=Math.min(i.length,u.length),E=b,q=0;j<E;)i.substring(i.length-E,i.length-q)==u.substring(u.length-E,u.length-q)?(j=E,q=j):b=E,E=Math.floor((b-j)/2+j);return E}function r(i,u){var j=i.length>u.length?i:u,b=i.length>u.length?u:i;if(j.length<4||b.length*2<j.length)return null;function E(M,z,H){for(var I=M.substring(H,H+Math.floor(M.length/4)),A=-1,D="",B,W,F,P;(A=z.indexOf(I,A+1))!=-1;){var U=o(M.substring(H),z.substring(A)),G=t(M.substring(0,H),z.substring(0,A));D.length<G+U&&(D=z.substring(A-G,A)+z.substring(A,A+U),B=M.substring(0,H-G),W=M.substring(H+U),F=z.substring(0,A-G),P=z.substring(A+U))}return D.length*2>=M.length?[B,W,F,P,D]:null}var q=E(j,b,Math.ceil(j.length/4)),S=E(j,b,Math.ceil(j.length/2)),x;if(!q&&!S)return null;S?q?x=q[4].length>S[4].length?q:S:x=S:x=q;var k,C,L,T;i.length>u.length?(k=x[0],C=x[1],L=x[2],T=x[3]):(L=x[0],T=x[1],k=x[2],C=x[3]);var R=x[4];return[k,C,L,T,R]}function f(i){i.push([g,""]);for(var u=0,j=0,b=0,E="",q="",S;u<i.length;)switch(i[u][0]){case w:b++,q+=i[u][1],u++;break;case h:j++,E+=i[u][1],u++;break;case g:j+b>1?(j!==0&&b!==0&&(S=o(q,E),S!==0&&(u-j-b>0&&i[u-j-b-1][0]==g?i[u-j-b-1][1]+=q.substring(0,S):(i.splice(0,0,[g,q.substring(0,S)]),u++),q=q.substring(S),E=E.substring(S)),S=t(q,E),S!==0&&(i[u][1]=q.substring(q.length-S)+i[u][1],q=q.substring(0,q.length-S),E=E.substring(0,E.length-S))),j===0?i.splice(u-b,j+b,[w,q]):b===0?i.splice(u-j,j+b,[h,E]):i.splice(u-j-b,j+b,[h,E],[w,q]),u=u-j-b+(j?1:0)+(b?1:0)+1):u!==0&&i[u-1][0]==g?(i[u-1][1]+=i[u][1],i.splice(u,1)):u++,b=0,j=0,E="",q="";break}i[i.length-1][1]===""&&i.pop();var x=!1;for(u=1;u<i.length-1;)i[u-1][0]==g&&i[u+1][0]==g&&(i[u][1].substring(i[u][1].length-i[u-1][1].length)==i[u-1][1]?(i[u][1]=i[u-1][1]+i[u][1].substring(0,i[u][1].length-i[u-1][1].length),i[u+1][1]=i[u-1][1]+i[u+1][1],i.splice(u-1,1),x=!0):i[u][1].substring(0,i[u+1][1].length)==i[u+1][1]&&(i[u-1][1]+=i[u+1][1],i[u][1]=i[u][1].substring(i[u+1][1].length)+i[u+1][1],i.splice(u+1,1),x=!0)),u++;x&&f(i)}var s=_;s.INSERT=w,s.DELETE=h,s.EQUAL=g,v.exports=s;function l(i,u){if(u===0)return[g,i];for(var j=0,b=0;b<i.length;b++){var E=i[b];if(E[0]===h||E[0]===g){var q=j+E[1].length;if(u===q)return[b+1,i];if(u<q){i=i.slice();var S=u-j,x=[E[0],E[1].slice(0,S)],k=[E[0],E[1].slice(S)];return i.splice(b,1,x,k),[b+1,i]}else j=q}}throw new Error("cursor_pos is out of bounds!")}function n(i,u){var j=l(i,u),b=j[1],E=j[0],q=b[E],S=b[E+1];if(q==null)return i;if(q[0]!==g)return i;if(S!=null&&q[1]+S[1]===S[1]+q[1])return b.splice(E,2,S,q),d(b,E,2);if(S!=null&&S[1].indexOf(q[1])===0){b.splice(E,2,[S[0],q[1]],[0,q[1]]);var x=S[1].slice(q[1].length);return x.length>0&&b.splice(E+2,0,[S[0],x]),d(b,E,3)}else return i}function a(i){for(var u=!1,j=function(S){return S.charCodeAt(0)>=56320&&S.charCodeAt(0)<=57343},b=function(S){return S.charCodeAt(S.length-1)>=55296&&S.charCodeAt(S.length-1)<=56319},E=2;E<i.length;E+=1)i[E-2][0]===g&&b(i[E-2][1])&&i[E-1][0]===h&&j(i[E-1][1])&&i[E][0]===w&&j(i[E][1])&&(u=!0,i[E-1][1]=i[E-2][1].slice(-1)+i[E-1][1],i[E][1]=i[E-2][1].slice(-1)+i[E][1],i[E-2][1]=i[E-2][1].slice(0,-1));if(!u)return i;for(var q=[],E=0;E<i.length;E+=1)i[E][1].length>0&&q.push(i[E]);return q}function d(i,u,j){for(var b=u+j-1;b>=0&&b>=u-1;b--)if(b+1<i.length){var E=i[b],q=i[b+1];E[0]===q[1]&&i.splice(b,2,[E[0],E[1]+q[1]])}return i}},function(v,c){c=v.exports=typeof Object.keys=="function"?Object.keys:h,c.shim=h;function h(w){var g=[];for(var _ in w)g.push(_);return g}},function(v,c){var h=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";c=v.exports=h?w:g,c.supported=w;function w(_){return Object.prototype.toString.call(_)=="[object Arguments]"}c.unsupported=g;function g(_){return _&&typeof _=="object"&&typeof _.length=="number"&&Object.prototype.hasOwnProperty.call(_,"callee")&&!Object.prototype.propertyIsEnumerable.call(_,"callee")||!1}},function(v,c){var h=Object.prototype.hasOwnProperty,w="~";function g(){}Object.create&&(g.prototype=Object.create(null),new g().__proto__||(w=!1));function _(m,p,o){this.fn=m,this.context=p,this.once=o||!1}function y(){this._events=new g,this._eventsCount=0}y.prototype.eventNames=function(){var p=[],o,t;if(this._eventsCount===0)return p;for(t in o=this._events)h.call(o,t)&&p.push(w?t.slice(1):t);return Object.getOwnPropertySymbols?p.concat(Object.getOwnPropertySymbols(o)):p},y.prototype.listeners=function(p,o){var t=w?w+p:p,r=this._events[t];if(o)return!!r;if(!r)return[];if(r.fn)return[r.fn];for(var f=0,s=r.length,l=new Array(s);f<s;f++)l[f]=r[f].fn;return l},y.prototype.emit=function(p,o,t,r,f,s){var l=w?w+p:p;if(!this._events[l])return!1;var n=this._events[l],a=arguments.length,d,i;if(n.fn){switch(n.once&&this.removeListener(p,n.fn,void 0,!0),a){case 1:return n.fn.call(n.context),!0;case 2:return n.fn.call(n.context,o),!0;case 3:return n.fn.call(n.context,o,t),!0;case 4:return n.fn.call(n.context,o,t,r),!0;case 5:return n.fn.call(n.context,o,t,r,f),!0;case 6:return n.fn.call(n.context,o,t,r,f,s),!0}for(i=1,d=new Array(a-1);i<a;i++)d[i-1]=arguments[i];n.fn.apply(n.context,d)}else{var u=n.length,j;for(i=0;i<u;i++)switch(n[i].once&&this.removeListener(p,n[i].fn,void 0,!0),a){case 1:n[i].fn.call(n[i].context);break;case 2:n[i].fn.call(n[i].context,o);break;case 3:n[i].fn.call(n[i].context,o,t);break;case 4:n[i].fn.call(n[i].context,o,t,r);break;default:if(!d)for(j=1,d=new Array(a-1);j<a;j++)d[j-1]=arguments[j];n[i].fn.apply(n[i].context,d)}}return!0},y.prototype.on=function(p,o,t){var r=new _(o,t||this),f=w?w+p:p;return this._events[f]?this._events[f].fn?this._events[f]=[this._events[f],r]:this._events[f].push(r):(this._events[f]=r,this._eventsCount++),this},y.prototype.once=function(p,o,t){var r=new _(o,t||this,!0),f=w?w+p:p;return this._events[f]?this._events[f].fn?this._events[f]=[this._events[f],r]:this._events[f].push(r):(this._events[f]=r,this._eventsCount++),this},y.prototype.removeListener=function(p,o,t,r){var f=w?w+p:p;if(!this._events[f])return this;if(!o)return--this._eventsCount===0?this._events=new g:delete this._events[f],this;var s=this._events[f];if(s.fn)s.fn===o&&(!r||s.once)&&(!t||s.context===t)&&(--this._eventsCount===0?this._events=new g:delete this._events[f]);else{for(var l=0,n=[],a=s.length;l<a;l++)(s[l].fn!==o||r&&!s[l].once||t&&s[l].context!==t)&&n.push(s[l]);n.length?this._events[f]=n.length===1?n[0]:n:--this._eventsCount===0?this._events=new g:delete this._events[f]}return this},y.prototype.removeAllListeners=function(p){var o;return p?(o=w?w+p:p,this._events[o]&&(--this._eventsCount===0?this._events=new g:delete this._events[o])):(this._events=new g,this._eventsCount=0),this},y.prototype.off=y.prototype.removeListener,y.prototype.addListener=y.prototype.on,y.prototype.setMaxListeners=function(){return this},y.prefixed=w,y.EventEmitter=y,typeof v!="undefined"&&(v.exports=y)},function(v,c,h){Object.defineProperty(c,"__esModule",{value:!0}),c.matchText=c.matchSpacing=c.matchNewline=c.matchBlot=c.matchAttributor=c.default=void 0;var w=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Z){return typeof Z}:function(Z){return Z&&typeof Symbol=="function"&&Z.constructor===Symbol&&Z!==Symbol.prototype?"symbol":typeof Z},g=function(){function Z(Y,ee){var re=[],X=!0,se=!1,ue=void 0;try{for(var ce=Y[Symbol.iterator](),we;!(X=(we=ce.next()).done)&&(re.push(we.value),!(ee&&re.length===ee));X=!0);}catch(Ee){se=!0,ue=Ee}finally{try{!X&&ce.return&&ce.return()}finally{if(se)throw ue}}return re}return function(Y,ee){if(Array.isArray(Y))return Y;if(Symbol.iterator in Object(Y))return Z(Y,ee);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_=function(){function Z(Y,ee){for(var re=0;re<ee.length;re++){var X=ee[re];X.enumerable=X.enumerable||!1,X.configurable=!0,"value"in X&&(X.writable=!0),Object.defineProperty(Y,X.key,X)}}return function(Y,ee,re){return ee&&Z(Y.prototype,ee),re&&Z(Y,re),Y}}(),y=h(3),m=k(y),p=h(2),o=k(p),t=h(0),r=k(t),f=h(5),s=k(f),l=h(10),n=k(l),a=h(9),d=k(a),i=h(36),u=h(37),j=h(13),b=k(j),E=h(26),q=h(38),S=h(39),x=h(40);function k(Z){return Z&&Z.__esModule?Z:{default:Z}}function C(Z,Y,ee){return Y in Z?Object.defineProperty(Z,Y,{value:ee,enumerable:!0,configurable:!0,writable:!0}):Z[Y]=ee,Z}function L(Z,Y){if(!(Z instanceof Y))throw new TypeError("Cannot call a class as a function")}function T(Z,Y){if(!Z)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Y&&(typeof Y=="object"||typeof Y=="function")?Y:Z}function R(Z,Y){if(typeof Y!="function"&&Y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Y);Z.prototype=Object.create(Y&&Y.prototype,{constructor:{value:Z,enumerable:!1,writable:!0,configurable:!0}}),Y&&(Object.setPrototypeOf?Object.setPrototypeOf(Z,Y):Z.__proto__=Y)}var M=(0,n.default)("quill:clipboard"),z="__ql-matcher",H=[[Node.TEXT_NODE,ge],[Node.TEXT_NODE,le],["br",te],[Node.ELEMENT_NODE,le],[Node.ELEMENT_NODE,J],[Node.ELEMENT_NODE,de],[Node.ELEMENT_NODE,K],[Node.ELEMENT_NODE,Oe],["li",oe],["b",G.bind(G,"bold")],["i",G.bind(G,"italic")],["style",ie]],I=[i.AlignAttribute,q.DirectionAttribute].reduce(function(Z,Y){return Z[Y.keyName]=Y,Z},{}),A=[i.AlignStyle,u.BackgroundStyle,E.ColorStyle,q.DirectionStyle,S.FontStyle,x.SizeStyle].reduce(function(Z,Y){return Z[Y.keyName]=Y,Z},{}),D=function(Z){R(Y,Z);function Y(ee,re){L(this,Y);var X=T(this,(Y.__proto__||Object.getPrototypeOf(Y)).call(this,ee,re));return X.quill.root.addEventListener("paste",X.onPaste.bind(X)),X.container=X.quill.addContainer("ql-clipboard"),X.container.setAttribute("contenteditable",!0),X.container.setAttribute("tabindex",-1),X.matchers=[],H.concat(X.options.matchers).forEach(function(se){var ue=g(se,2),ce=ue[0],we=ue[1];!re.matchVisual&&we===de||X.addMatcher(ce,we)}),X}return _(Y,[{key:"addMatcher",value:function(re,X){this.matchers.push([re,X])}},{key:"convert",value:function(re){if(typeof re=="string")return this.container.innerHTML=re.replace(/\>\r?\n +\</g,"><"),this.convert();var X=this.quill.getFormat(this.quill.selection.savedRange.index);if(X[b.default.blotName]){var se=this.container.innerText;return this.container.innerHTML="",new o.default().insert(se,C({},b.default.blotName,X[b.default.blotName]))}var ue=this.prepareMatching(),ce=g(ue,2),we=ce[0],Ee=ce[1],pe=U(this.container,we,Ee);return F(pe,`
`)&&pe.ops[pe.ops.length-1].attributes==null&&(pe=pe.compose(new o.default().retain(pe.length()-1).delete(1))),M.log("convert",this.container.innerHTML,pe),this.container.innerHTML="",pe}},{key:"dangerouslyPasteHTML",value:function(re,X){var se=arguments.length>2&&arguments[2]!==void 0?arguments[2]:s.default.sources.API;if(typeof re=="string")this.quill.setContents(this.convert(re),X),this.quill.setSelection(0,s.default.sources.SILENT);else{var ue=this.convert(X);this.quill.updateContents(new o.default().retain(re).concat(ue),se),this.quill.setSelection(re+ue.length(),s.default.sources.SILENT)}}},{key:"onPaste",value:function(re){var X=this;if(!(re.defaultPrevented||!this.quill.isEnabled())){var se=this.quill.getSelection(),ue=new o.default().retain(se.index),ce=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(s.default.sources.SILENT),setTimeout(function(){ue=ue.concat(X.convert()).delete(se.length),X.quill.updateContents(ue,s.default.sources.USER),X.quill.setSelection(ue.length()-se.length,s.default.sources.SILENT),X.quill.scrollingContainer.scrollTop=ce,X.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var re=this,X=[],se=[];return this.matchers.forEach(function(ue){var ce=g(ue,2),we=ce[0],Ee=ce[1];switch(we){case Node.TEXT_NODE:se.push(Ee);break;case Node.ELEMENT_NODE:X.push(Ee);break;default:[].forEach.call(re.container.querySelectorAll(we),function(pe){pe[z]=pe[z]||[],pe[z].push(Ee)});break}}),[X,se]}}]),Y}(d.default);D.DEFAULTS={matchers:[],matchVisual:!0};function B(Z,Y,ee){return(typeof Y=="undefined"?"undefined":w(Y))==="object"?Object.keys(Y).reduce(function(re,X){return B(re,X,Y[X])},Z):Z.reduce(function(re,X){return X.attributes&&X.attributes[Y]?re.push(X):re.insert(X.insert,(0,m.default)({},C({},Y,ee),X.attributes))},new o.default)}function W(Z){if(Z.nodeType!==Node.ELEMENT_NODE)return{};var Y="__ql-computed-style";return Z[Y]||(Z[Y]=window.getComputedStyle(Z))}function F(Z,Y){for(var ee="",re=Z.ops.length-1;re>=0&&ee.length<Y.length;--re){var X=Z.ops[re];if(typeof X.insert!="string")break;ee=X.insert+ee}return ee.slice(-1*Y.length)===Y}function P(Z){if(Z.childNodes.length===0)return!1;var Y=W(Z);return["block","list-item"].indexOf(Y.display)>-1}function U(Z,Y,ee){return Z.nodeType===Z.TEXT_NODE?ee.reduce(function(re,X){return X(Z,re)},new o.default):Z.nodeType===Z.ELEMENT_NODE?[].reduce.call(Z.childNodes||[],function(re,X){var se=U(X,Y,ee);return X.nodeType===Z.ELEMENT_NODE&&(se=Y.reduce(function(ue,ce){return ce(X,ue)},se),se=(X[z]||[]).reduce(function(ue,ce){return ce(X,ue)},se)),re.concat(se)},new o.default):new o.default}function G(Z,Y,ee){return B(ee,Z,!0)}function K(Z,Y){var ee=r.default.Attributor.Attribute.keys(Z),re=r.default.Attributor.Class.keys(Z),X=r.default.Attributor.Style.keys(Z),se={};return ee.concat(re).concat(X).forEach(function(ue){var ce=r.default.query(ue,r.default.Scope.ATTRIBUTE);ce!=null&&(se[ce.attrName]=ce.value(Z),se[ce.attrName])||(ce=I[ue],ce!=null&&(ce.attrName===ue||ce.keyName===ue)&&(se[ce.attrName]=ce.value(Z)||void 0),ce=A[ue],ce!=null&&(ce.attrName===ue||ce.keyName===ue)&&(ce=A[ue],se[ce.attrName]=ce.value(Z)||void 0))}),Object.keys(se).length>0&&(Y=B(Y,se)),Y}function J(Z,Y){var ee=r.default.query(Z);if(ee==null)return Y;if(ee.prototype instanceof r.default.Embed){var re={},X=ee.value(Z);X!=null&&(re[ee.blotName]=X,Y=new o.default().insert(re,ee.formats(Z)))}else typeof ee.formats=="function"&&(Y=B(Y,ee.blotName,ee.formats(Z)));return Y}function te(Z,Y){return F(Y,`
`)||Y.insert(`
`),Y}function ie(){return new o.default}function oe(Z,Y){var ee=r.default.query(Z);if(ee==null||ee.blotName!=="list-item"||!F(Y,`
`))return Y;for(var re=-1,X=Z.parentNode;!X.classList.contains("ql-clipboard");)(r.default.query(X)||{}).blotName==="list"&&(re+=1),X=X.parentNode;return re<=0?Y:Y.compose(new o.default().retain(Y.length()-1).retain(1,{indent:re}))}function le(Z,Y){return F(Y,`
`)||(P(Z)||Y.length()>0&&Z.nextSibling&&P(Z.nextSibling))&&Y.insert(`
`),Y}function de(Z,Y){if(P(Z)&&Z.nextElementSibling!=null&&!F(Y,`

`)){var ee=Z.offsetHeight+parseFloat(W(Z).marginTop)+parseFloat(W(Z).marginBottom);Z.nextElementSibling.offsetTop>Z.offsetTop+ee*1.5&&Y.insert(`
`)}return Y}function Oe(Z,Y){var ee={},re=Z.style||{};return re.fontStyle&&W(Z).fontStyle==="italic"&&(ee.italic=!0),re.fontWeight&&(W(Z).fontWeight.startsWith("bold")||parseInt(W(Z).fontWeight)>=700)&&(ee.bold=!0),Object.keys(ee).length>0&&(Y=B(Y,ee)),parseFloat(re.textIndent||0)>0&&(Y=new o.default().insert("	").concat(Y)),Y}function ge(Z,Y){var ee=Z.data;if(Z.parentNode.tagName==="O:P")return Y.insert(ee.trim());if(ee.trim().length===0&&Z.parentNode.classList.contains("ql-clipboard"))return Y;if(!W(Z.parentNode).whiteSpace.startsWith("pre")){var re=function(se,ue){return ue=ue.replace(/[^\u00a0]/g,""),ue.length<1&&se?" ":ue};ee=ee.replace(/\r\n/g," ").replace(/\n/g," "),ee=ee.replace(/\s\s+/g,re.bind(re,!0)),(Z.previousSibling==null&&P(Z.parentNode)||Z.previousSibling!=null&&P(Z.previousSibling))&&(ee=ee.replace(/^\s+/,re.bind(re,!1))),(Z.nextSibling==null&&P(Z.parentNode)||Z.nextSibling!=null&&P(Z.nextSibling))&&(ee=ee.replace(/\s+$/,re.bind(re,!1)))}return Y.insert(ee)}c.default=D,c.matchAttributor=K,c.matchBlot=J,c.matchNewline=le,c.matchSpacing=de,c.matchText=ge},function(v,c,h){Object.defineProperty(c,"__esModule",{value:!0});var w=function(){function f(s,l){for(var n=0;n<l.length;n++){var a=l[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(s,a.key,a)}}return function(s,l,n){return l&&f(s.prototype,l),n&&f(s,n),s}}(),g=function f(s,l,n){s===null&&(s=Function.prototype);var a=Object.getOwnPropertyDescriptor(s,l);if(a===void 0){var d=Object.getPrototypeOf(s);return d===null?void 0:f(d,l,n)}else{if("value"in a)return a.value;var i=a.get;return i===void 0?void 0:i.call(n)}},_=h(6),y=m(_);function m(f){return f&&f.__esModule?f:{default:f}}function p(f,s){if(!(f instanceof s))throw new TypeError("Cannot call a class as a function")}function o(f,s){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s&&(typeof s=="object"||typeof s=="function")?s:f}function t(f,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof s);f.prototype=Object.create(s&&s.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),s&&(Object.setPrototypeOf?Object.setPrototypeOf(f,s):f.__proto__=s)}var r=function(f){t(s,f);function s(){return p(this,s),o(this,(s.__proto__||Object.getPrototypeOf(s)).apply(this,arguments))}return w(s,[{key:"optimize",value:function(n){g(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"optimize",this).call(this,n),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return g(s.__proto__||Object.getPrototypeOf(s),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),s}(y.default);r.blotName="bold",r.tagName=["STRONG","B"],c.default=r},function(v,c,h){Object.defineProperty(c,"__esModule",{value:!0}),c.addControls=c.default=void 0;var w=function(){function x(k,C){var L=[],T=!0,R=!1,M=void 0;try{for(var z=k[Symbol.iterator](),H;!(T=(H=z.next()).done)&&(L.push(H.value),!(C&&L.length===C));T=!0);}catch(I){R=!0,M=I}finally{try{!T&&z.return&&z.return()}finally{if(R)throw M}}return L}return function(k,C){if(Array.isArray(k))return k;if(Symbol.iterator in Object(k))return x(k,C);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),g=function(){function x(k,C){for(var L=0;L<C.length;L++){var T=C[L];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(k,T.key,T)}}return function(k,C,L){return C&&x(k.prototype,C),L&&x(k,L),k}}(),_=h(2),y=n(_),m=h(0),p=n(m),o=h(5),t=n(o),r=h(10),f=n(r),s=h(9),l=n(s);function n(x){return x&&x.__esModule?x:{default:x}}function a(x,k,C){return k in x?Object.defineProperty(x,k,{value:C,enumerable:!0,configurable:!0,writable:!0}):x[k]=C,x}function d(x,k){if(!(x instanceof k))throw new TypeError("Cannot call a class as a function")}function i(x,k){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:x}function u(x,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);x.prototype=Object.create(k&&k.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(x,k):x.__proto__=k)}var j=(0,f.default)("quill:toolbar"),b=function(x){u(k,x);function k(C,L){d(this,k);var T=i(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,C,L));if(Array.isArray(T.options.container)){var R=document.createElement("div");q(R,T.options.container),C.container.parentNode.insertBefore(R,C.container),T.container=R}else typeof T.options.container=="string"?T.container=document.querySelector(T.options.container):T.container=T.options.container;if(!(T.container instanceof HTMLElement)){var M;return M=j.error("Container required for toolbar",T.options),i(T,M)}return T.container.classList.add("ql-toolbar"),T.controls=[],T.handlers={},Object.keys(T.options.handlers).forEach(function(z){T.addHandler(z,T.options.handlers[z])}),[].forEach.call(T.container.querySelectorAll("button, select"),function(z){T.attach(z)}),T.quill.on(t.default.events.EDITOR_CHANGE,function(z,H){z===t.default.events.SELECTION_CHANGE&&T.update(H)}),T.quill.on(t.default.events.SCROLL_OPTIMIZE,function(){var z=T.quill.selection.getRange(),H=w(z,1),I=H[0];T.update(I)}),T}return g(k,[{key:"addHandler",value:function(L,T){this.handlers[L]=T}},{key:"attach",value:function(L){var T=this,R=[].find.call(L.classList,function(z){return z.indexOf("ql-")===0});if(R){if(R=R.slice(3),L.tagName==="BUTTON"&&L.setAttribute("type","button"),this.handlers[R]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[R]==null){j.warn("ignoring attaching to disabled format",R,L);return}if(p.default.query(R)==null){j.warn("ignoring attaching to nonexistent format",R,L);return}}var M=L.tagName==="SELECT"?"change":"click";L.addEventListener(M,function(z){var H=void 0;if(L.tagName==="SELECT"){if(L.selectedIndex<0)return;var I=L.options[L.selectedIndex];I.hasAttribute("selected")?H=!1:H=I.value||!1}else L.classList.contains("ql-active")?H=!1:H=L.value||!L.hasAttribute("value"),z.preventDefault();T.quill.focus();var A=T.quill.selection.getRange(),D=w(A,1),B=D[0];if(T.handlers[R]!=null)T.handlers[R].call(T,H);else if(p.default.query(R).prototype instanceof p.default.Embed){if(H=prompt("Enter "+R),!H)return;T.quill.updateContents(new y.default().retain(B.index).delete(B.length).insert(a({},R,H)),t.default.sources.USER)}else T.quill.format(R,H,t.default.sources.USER);T.update(B)}),this.controls.push([R,L])}}},{key:"update",value:function(L){var T=L==null?{}:this.quill.getFormat(L);this.controls.forEach(function(R){var M=w(R,2),z=M[0],H=M[1];if(H.tagName==="SELECT"){var I=void 0;if(L==null)I=null;else if(T[z]==null)I=H.querySelector("option[selected]");else if(!Array.isArray(T[z])){var A=T[z];typeof A=="string"&&(A=A.replace(/\"/g,'\\"')),I=H.querySelector('option[value="'+A+'"]')}I==null?(H.value="",H.selectedIndex=-1):I.selected=!0}else if(L==null)H.classList.remove("ql-active");else if(H.hasAttribute("value")){var D=T[z]===H.getAttribute("value")||T[z]!=null&&T[z].toString()===H.getAttribute("value")||T[z]==null&&!H.getAttribute("value");H.classList.toggle("ql-active",D)}else H.classList.toggle("ql-active",T[z]!=null)})}}]),k}(l.default);b.DEFAULTS={};function E(x,k,C){var L=document.createElement("button");L.setAttribute("type","button"),L.classList.add("ql-"+k),C!=null&&(L.value=C),x.appendChild(L)}function q(x,k){Array.isArray(k[0])||(k=[k]),k.forEach(function(C){var L=document.createElement("span");L.classList.add("ql-formats"),C.forEach(function(T){if(typeof T=="string")E(L,T);else{var R=Object.keys(T)[0],M=T[R];Array.isArray(M)?S(L,R,M):E(L,R,M)}}),x.appendChild(L)})}function S(x,k,C){var L=document.createElement("select");L.classList.add("ql-"+k),C.forEach(function(T){var R=document.createElement("option");T!==!1?R.setAttribute("value",T):R.setAttribute("selected","selected"),L.appendChild(R)}),x.appendChild(L)}b.DEFAULTS={container:null,handlers:{clean:function(){var k=this,C=this.quill.getSelection();if(C!=null)if(C.length==0){var L=this.quill.getFormat();Object.keys(L).forEach(function(T){p.default.query(T,p.default.Scope.INLINE)!=null&&k.quill.format(T,!1)})}else this.quill.removeFormat(C,t.default.sources.USER)},direction:function(k){var C=this.quill.getFormat().align;k==="rtl"&&C==null?this.quill.format("align","right",t.default.sources.USER):!k&&C==="right"&&this.quill.format("align",!1,t.default.sources.USER),this.quill.format("direction",k,t.default.sources.USER)},indent:function(k){var C=this.quill.getSelection(),L=this.quill.getFormat(C),T=parseInt(L.indent||0);if(k==="+1"||k==="-1"){var R=k==="+1"?1:-1;L.direction==="rtl"&&(R*=-1),this.quill.format("indent",T+R,t.default.sources.USER)}},link:function(k){k===!0&&(k=prompt("Enter link URL:")),this.quill.format("link",k,t.default.sources.USER)},list:function(k){var C=this.quill.getSelection(),L=this.quill.getFormat(C);k==="check"?L.list==="checked"||L.list==="unchecked"?this.quill.format("list",!1,t.default.sources.USER):this.quill.format("list","unchecked",t.default.sources.USER):this.quill.format("list",k,t.default.sources.USER)}}},c.default=b,c.addControls=q},function(v,c){v.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(v,c,h){Object.defineProperty(c,"__esModule",{value:!0});var w=function(){function f(s,l){for(var n=0;n<l.length;n++){var a=l[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(s,a.key,a)}}return function(s,l,n){return l&&f(s.prototype,l),n&&f(s,n),s}}(),g=function f(s,l,n){s===null&&(s=Function.prototype);var a=Object.getOwnPropertyDescriptor(s,l);if(a===void 0){var d=Object.getPrototypeOf(s);return d===null?void 0:f(d,l,n)}else{if("value"in a)return a.value;var i=a.get;return i===void 0?void 0:i.call(n)}},_=h(28),y=m(_);function m(f){return f&&f.__esModule?f:{default:f}}function p(f,s){if(!(f instanceof s))throw new TypeError("Cannot call a class as a function")}function o(f,s){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s&&(typeof s=="object"||typeof s=="function")?s:f}function t(f,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof s);f.prototype=Object.create(s&&s.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),s&&(Object.setPrototypeOf?Object.setPrototypeOf(f,s):f.__proto__=s)}var r=function(f){t(s,f);function s(l,n){p(this,s);var a=o(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,l));return a.label.innerHTML=n,a.container.classList.add("ql-color-picker"),[].slice.call(a.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(d){d.classList.add("ql-primary")}),a}return w(s,[{key:"buildItem",value:function(n){var a=g(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"buildItem",this).call(this,n);return a.style.backgroundColor=n.getAttribute("value")||"",a}},{key:"selectItem",value:function(n,a){g(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"selectItem",this).call(this,n,a);var d=this.label.querySelector(".ql-color-label"),i=n&&n.getAttribute("data-value")||"";d&&(d.tagName==="line"?d.style.stroke=i:d.style.fill=i)}}]),s}(y.default);c.default=r},function(v,c,h){Object.defineProperty(c,"__esModule",{value:!0});var w=function(){function f(s,l){for(var n=0;n<l.length;n++){var a=l[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(s,a.key,a)}}return function(s,l,n){return l&&f(s.prototype,l),n&&f(s,n),s}}(),g=function f(s,l,n){s===null&&(s=Function.prototype);var a=Object.getOwnPropertyDescriptor(s,l);if(a===void 0){var d=Object.getPrototypeOf(s);return d===null?void 0:f(d,l,n)}else{if("value"in a)return a.value;var i=a.get;return i===void 0?void 0:i.call(n)}},_=h(28),y=m(_);function m(f){return f&&f.__esModule?f:{default:f}}function p(f,s){if(!(f instanceof s))throw new TypeError("Cannot call a class as a function")}function o(f,s){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s&&(typeof s=="object"||typeof s=="function")?s:f}function t(f,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof s);f.prototype=Object.create(s&&s.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),s&&(Object.setPrototypeOf?Object.setPrototypeOf(f,s):f.__proto__=s)}var r=function(f){t(s,f);function s(l,n){p(this,s);var a=o(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,l));return a.container.classList.add("ql-icon-picker"),[].forEach.call(a.container.querySelectorAll(".ql-picker-item"),function(d){d.innerHTML=n[d.getAttribute("data-value")||""]}),a.defaultItem=a.container.querySelector(".ql-selected"),a.selectItem(a.defaultItem),a}return w(s,[{key:"selectItem",value:function(n,a){g(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"selectItem",this).call(this,n,a),n=n||this.defaultItem,this.label.innerHTML=n.innerHTML}}]),s}(y.default);c.default=r},function(v,c,h){Object.defineProperty(c,"__esModule",{value:!0});var w=function(){function y(m,p){for(var o=0;o<p.length;o++){var t=p[o];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(m,t.key,t)}}return function(m,p,o){return p&&y(m.prototype,p),o&&y(m,o),m}}();function g(y,m){if(!(y instanceof m))throw new TypeError("Cannot call a class as a function")}var _=function(){function y(m,p){var o=this;g(this,y),this.quill=m,this.boundsContainer=p||document.body,this.root=m.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){o.root.style.marginTop=-1*o.quill.root.scrollTop+"px"}),this.hide()}return w(y,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(p){var o=p.left+p.width/2-this.root.offsetWidth/2,t=p.bottom+this.quill.root.scrollTop;this.root.style.left=o+"px",this.root.style.top=t+"px",this.root.classList.remove("ql-flip");var r=this.boundsContainer.getBoundingClientRect(),f=this.root.getBoundingClientRect(),s=0;if(f.right>r.right&&(s=r.right-f.right,this.root.style.left=o+s+"px"),f.left<r.left&&(s=r.left-f.left,this.root.style.left=o+s+"px"),f.bottom>r.bottom){var l=f.bottom-f.top,n=p.bottom-p.top+l;this.root.style.top=t-n+"px",this.root.classList.add("ql-flip")}return s}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),y}();c.default=_},function(v,c,h){Object.defineProperty(c,"__esModule",{value:!0});var w=function(){function S(x,k){var C=[],L=!0,T=!1,R=void 0;try{for(var M=x[Symbol.iterator](),z;!(L=(z=M.next()).done)&&(C.push(z.value),!(k&&C.length===k));L=!0);}catch(H){T=!0,R=H}finally{try{!L&&M.return&&M.return()}finally{if(T)throw R}}return C}return function(x,k){if(Array.isArray(x))return x;if(Symbol.iterator in Object(x))return S(x,k);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),g=function S(x,k,C){x===null&&(x=Function.prototype);var L=Object.getOwnPropertyDescriptor(x,k);if(L===void 0){var T=Object.getPrototypeOf(x);return T===null?void 0:S(T,k,C)}else{if("value"in L)return L.value;var R=L.get;return R===void 0?void 0:R.call(C)}},_=function(){function S(x,k){for(var C=0;C<k.length;C++){var L=k[C];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(x,L.key,L)}}return function(x,k,C){return k&&S(x.prototype,k),C&&S(x,C),x}}(),y=h(3),m=d(y),p=h(8),o=d(p),t=h(43),r=d(t),f=h(27),s=d(f),l=h(15),n=h(41),a=d(n);function d(S){return S&&S.__esModule?S:{default:S}}function i(S,x){if(!(S instanceof x))throw new TypeError("Cannot call a class as a function")}function u(S,x){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:S}function j(S,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);S.prototype=Object.create(x&&x.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(S,x):S.__proto__=x)}var b=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],E=function(S){j(x,S);function x(k,C){i(this,x),C.modules.toolbar!=null&&C.modules.toolbar.container==null&&(C.modules.toolbar.container=b);var L=u(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,k,C));return L.quill.container.classList.add("ql-snow"),L}return _(x,[{key:"extendToolbar",value:function(C){C.container.classList.add("ql-snow"),this.buildButtons([].slice.call(C.container.querySelectorAll("button")),a.default),this.buildPickers([].slice.call(C.container.querySelectorAll("select")),a.default),this.tooltip=new q(this.quill,this.options.bounds),C.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(L,T){C.handlers.link.call(C,!T.format.link)})}}]),x}(r.default);E.DEFAULTS=(0,m.default)(!0,{},r.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(x){if(x){var k=this.quill.getSelection();if(k==null||k.length==0)return;var C=this.quill.getText(k);/^\S+@\S+\.\S+$/.test(C)&&C.indexOf("mailto:")!==0&&(C="mailto:"+C);var L=this.quill.theme.tooltip;L.edit("link",C)}else this.quill.format("link",!1)}}}}});var q=function(S){j(x,S);function x(k,C){i(this,x);var L=u(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,k,C));return L.preview=L.root.querySelector("a.ql-preview"),L}return _(x,[{key:"listen",value:function(){var C=this;g(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(L){C.root.classList.contains("ql-editing")?C.save():C.edit("link",C.preview.textContent),L.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(L){if(C.linkRange!=null){var T=C.linkRange;C.restoreFocus(),C.quill.formatText(T,"link",!1,o.default.sources.USER),delete C.linkRange}L.preventDefault(),C.hide()}),this.quill.on(o.default.events.SELECTION_CHANGE,function(L,T,R){if(L!=null){if(L.length===0&&R===o.default.sources.USER){var M=C.quill.scroll.descendant(s.default,L.index),z=w(M,2),H=z[0],I=z[1];if(H!=null){C.linkRange=new l.Range(L.index-I,H.length());var A=s.default.formats(H.domNode);C.preview.textContent=A,C.preview.setAttribute("href",A),C.show(),C.position(C.quill.getBounds(C.linkRange));return}}else delete C.linkRange;C.hide()}})}},{key:"show",value:function(){g(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),x}(t.BaseTooltip);q.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),c.default=E},function(v,c,h){Object.defineProperty(c,"__esModule",{value:!0});var w=h(29),g=X(w),_=h(36),y=h(38),m=h(64),p=h(65),o=X(p),t=h(66),r=X(t),f=h(67),s=X(f),l=h(37),n=h(26),a=h(39),d=h(40),i=h(56),u=X(i),j=h(68),b=X(j),E=h(27),q=X(E),S=h(69),x=X(S),k=h(70),C=X(k),L=h(71),T=X(L),R=h(72),M=X(R),z=h(73),H=X(z),I=h(13),A=X(I),D=h(74),B=X(D),W=h(75),F=X(W),P=h(57),U=X(P),G=h(41),K=X(G),J=h(28),te=X(J),ie=h(59),oe=X(ie),le=h(60),de=X(le),Oe=h(61),ge=X(Oe),Z=h(108),Y=X(Z),ee=h(62),re=X(ee);function X(se){return se&&se.__esModule?se:{default:se}}g.default.register({"attributors/attribute/direction":y.DirectionAttribute,"attributors/class/align":_.AlignClass,"attributors/class/background":l.BackgroundClass,"attributors/class/color":n.ColorClass,"attributors/class/direction":y.DirectionClass,"attributors/class/font":a.FontClass,"attributors/class/size":d.SizeClass,"attributors/style/align":_.AlignStyle,"attributors/style/background":l.BackgroundStyle,"attributors/style/color":n.ColorStyle,"attributors/style/direction":y.DirectionStyle,"attributors/style/font":a.FontStyle,"attributors/style/size":d.SizeStyle},!0),g.default.register({"formats/align":_.AlignClass,"formats/direction":y.DirectionClass,"formats/indent":m.IndentClass,"formats/background":l.BackgroundStyle,"formats/color":n.ColorStyle,"formats/font":a.FontClass,"formats/size":d.SizeClass,"formats/blockquote":o.default,"formats/code-block":A.default,"formats/header":r.default,"formats/list":s.default,"formats/bold":u.default,"formats/code":I.Code,"formats/italic":b.default,"formats/link":q.default,"formats/script":x.default,"formats/strike":C.default,"formats/underline":T.default,"formats/image":M.default,"formats/video":H.default,"formats/list/item":f.ListItem,"modules/formula":B.default,"modules/syntax":F.default,"modules/toolbar":U.default,"themes/bubble":Y.default,"themes/snow":re.default,"ui/icons":K.default,"ui/picker":te.default,"ui/icon-picker":de.default,"ui/color-picker":oe.default,"ui/tooltip":ge.default},!0),c.default=g.default},function(v,c,h){Object.defineProperty(c,"__esModule",{value:!0}),c.IndentClass=void 0;var w=function(){function s(l,n){for(var a=0;a<n.length;a++){var d=n[a];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(l,d.key,d)}}return function(l,n,a){return n&&s(l.prototype,n),a&&s(l,a),l}}(),g=function s(l,n,a){l===null&&(l=Function.prototype);var d=Object.getOwnPropertyDescriptor(l,n);if(d===void 0){var i=Object.getPrototypeOf(l);return i===null?void 0:s(i,n,a)}else{if("value"in d)return d.value;var u=d.get;return u===void 0?void 0:u.call(a)}},_=h(0),y=m(_);function m(s){return s&&s.__esModule?s:{default:s}}function p(s,l){if(!(s instanceof l))throw new TypeError("Cannot call a class as a function")}function o(s,l){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l&&(typeof l=="object"||typeof l=="function")?l:s}function t(s,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof l);s.prototype=Object.create(l&&l.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(s,l):s.__proto__=l)}var r=function(s){t(l,s);function l(){return p(this,l),o(this,(l.__proto__||Object.getPrototypeOf(l)).apply(this,arguments))}return w(l,[{key:"add",value:function(a,d){if(d==="+1"||d==="-1"){var i=this.value(a)||0;d=d==="+1"?i+1:i-1}return d===0?(this.remove(a),!0):g(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"add",this).call(this,a,d)}},{key:"canAdd",value:function(a,d){return g(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"canAdd",this).call(this,a,d)||g(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"canAdd",this).call(this,a,parseInt(d))}},{key:"value",value:function(a){return parseInt(g(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"value",this).call(this,a))||void 0}}]),l}(y.default.Attributor.Class),f=new r("indent","ql-indent",{scope:y.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});c.IndentClass=f},function(v,c,h){Object.defineProperty(c,"__esModule",{value:!0});var w=h(4),g=_(w);function _(t){return t&&t.__esModule?t:{default:t}}function y(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function m(t,r){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:t}function p(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(t,r):t.__proto__=r)}var o=function(t){p(r,t);function r(){return y(this,r),m(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return r}(g.default);o.blotName="blockquote",o.tagName="blockquote",c.default=o},function(v,c,h){Object.defineProperty(c,"__esModule",{value:!0});var w=function(){function r(f,s){for(var l=0;l<s.length;l++){var n=s[l];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(f,n.key,n)}}return function(f,s,l){return s&&r(f.prototype,s),l&&r(f,l),f}}(),g=h(4),_=y(g);function y(r){return r&&r.__esModule?r:{default:r}}function m(r,f){if(!(r instanceof f))throw new TypeError("Cannot call a class as a function")}function p(r,f){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:r}function o(r,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);r.prototype=Object.create(f&&f.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(r,f):r.__proto__=f)}var t=function(r){o(f,r);function f(){return m(this,f),p(this,(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments))}return w(f,null,[{key:"formats",value:function(l){return this.tagName.indexOf(l.tagName)+1}}]),f}(_.default);t.blotName="header",t.tagName=["H1","H2","H3","H4","H5","H6"],c.default=t},function(v,c,h){Object.defineProperty(c,"__esModule",{value:!0}),c.default=c.ListItem=void 0;var w=function(){function i(u,j){for(var b=0;b<j.length;b++){var E=j[b];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(u,E.key,E)}}return function(u,j,b){return j&&i(u.prototype,j),b&&i(u,b),u}}(),g=function i(u,j,b){u===null&&(u=Function.prototype);var E=Object.getOwnPropertyDescriptor(u,j);if(E===void 0){var q=Object.getPrototypeOf(u);return q===null?void 0:i(q,j,b)}else{if("value"in E)return E.value;var S=E.get;return S===void 0?void 0:S.call(b)}},_=h(0),y=r(_),m=h(4),p=r(m),o=h(25),t=r(o);function r(i){return i&&i.__esModule?i:{default:i}}function f(i,u,j){return u in i?Object.defineProperty(i,u,{value:j,enumerable:!0,configurable:!0,writable:!0}):i[u]=j,i}function s(i,u){if(!(i instanceof u))throw new TypeError("Cannot call a class as a function")}function l(i,u){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:i}function n(i,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);i.prototype=Object.create(u&&u.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(i,u):i.__proto__=u)}var a=function(i){n(u,i);function u(){return s(this,u),l(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}return w(u,[{key:"format",value:function(b,E){b===d.blotName&&!E?this.replaceWith(y.default.create(this.statics.scope)):g(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"format",this).call(this,b,E)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():g(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(b,E){return this.parent.isolate(this.offset(this.parent),this.length()),b===this.parent.statics.blotName?(this.parent.replaceWith(b,E),this):(this.parent.unwrap(),g(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"replaceWith",this).call(this,b,E))}}],[{key:"formats",value:function(b){return b.tagName===this.tagName?void 0:g(u.__proto__||Object.getPrototypeOf(u),"formats",this).call(this,b)}}]),u}(p.default);a.blotName="list-item",a.tagName="LI";var d=function(i){n(u,i),w(u,null,[{key:"create",value:function(b){var E=b==="ordered"?"OL":"UL",q=g(u.__proto__||Object.getPrototypeOf(u),"create",this).call(this,E);return(b==="checked"||b==="unchecked")&&q.setAttribute("data-checked",b==="checked"),q}},{key:"formats",value:function(b){if(b.tagName==="OL")return"ordered";if(b.tagName==="UL")return b.hasAttribute("data-checked")?b.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function u(j){s(this,u);var b=l(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,j)),E=function(S){if(S.target.parentNode===j){var x=b.statics.formats(j),k=y.default.find(S.target);x==="checked"?k.format("list","unchecked"):x==="unchecked"&&k.format("list","checked")}};return j.addEventListener("touchstart",E),j.addEventListener("mousedown",E),b}return w(u,[{key:"format",value:function(b,E){this.children.length>0&&this.children.tail.format(b,E)}},{key:"formats",value:function(){return f({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(b,E){if(b instanceof a)g(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"insertBefore",this).call(this,b,E);else{var q=E==null?this.length():E.offset(this),S=this.split(q);S.parent.insertBefore(b,S)}}},{key:"optimize",value:function(b){g(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"optimize",this).call(this,b);var E=this.next;E!=null&&E.prev===this&&E.statics.blotName===this.statics.blotName&&E.domNode.tagName===this.domNode.tagName&&E.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(E.moveChildren(this),E.remove())}},{key:"replace",value:function(b){if(b.statics.blotName!==this.statics.blotName){var E=y.default.create(this.statics.defaultChild);b.moveChildren(E),this.appendChild(E)}g(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"replace",this).call(this,b)}}]),u}(t.default);d.blotName="list",d.scope=y.default.Scope.BLOCK_BLOT,d.tagName=["OL","UL"],d.defaultChild="list-item",d.allowedChildren=[a],c.ListItem=a,c.default=d},function(v,c,h){Object.defineProperty(c,"__esModule",{value:!0});var w=h(56),g=_(w);function _(t){return t&&t.__esModule?t:{default:t}}function y(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function m(t,r){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:t}function p(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(t,r):t.__proto__=r)}var o=function(t){p(r,t);function r(){return y(this,r),m(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return r}(g.default);o.blotName="italic",o.tagName=["EM","I"],c.default=o},function(v,c,h){Object.defineProperty(c,"__esModule",{value:!0});var w=function(){function f(s,l){for(var n=0;n<l.length;n++){var a=l[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(s,a.key,a)}}return function(s,l,n){return l&&f(s.prototype,l),n&&f(s,n),s}}(),g=function f(s,l,n){s===null&&(s=Function.prototype);var a=Object.getOwnPropertyDescriptor(s,l);if(a===void 0){var d=Object.getPrototypeOf(s);return d===null?void 0:f(d,l,n)}else{if("value"in a)return a.value;var i=a.get;return i===void 0?void 0:i.call(n)}},_=h(6),y=m(_);function m(f){return f&&f.__esModule?f:{default:f}}function p(f,s){if(!(f instanceof s))throw new TypeError("Cannot call a class as a function")}function o(f,s){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s&&(typeof s=="object"||typeof s=="function")?s:f}function t(f,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof s);f.prototype=Object.create(s&&s.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),s&&(Object.setPrototypeOf?Object.setPrototypeOf(f,s):f.__proto__=s)}var r=function(f){t(s,f);function s(){return p(this,s),o(this,(s.__proto__||Object.getPrototypeOf(s)).apply(this,arguments))}return w(s,null,[{key:"create",value:function(n){return n==="super"?document.createElement("sup"):n==="sub"?document.createElement("sub"):g(s.__proto__||Object.getPrototypeOf(s),"create",this).call(this,n)}},{key:"formats",value:function(n){if(n.tagName==="SUB")return"sub";if(n.tagName==="SUP")return"super"}}]),s}(y.default);r.blotName="script",r.tagName=["SUB","SUP"],c.default=r},function(v,c,h){Object.defineProperty(c,"__esModule",{value:!0});var w=h(6),g=_(w);function _(t){return t&&t.__esModule?t:{default:t}}function y(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function m(t,r){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:t}function p(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(t,r):t.__proto__=r)}var o=function(t){p(r,t);function r(){return y(this,r),m(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return r}(g.default);o.blotName="strike",o.tagName="S",c.default=o},function(v,c,h){Object.defineProperty(c,"__esModule",{value:!0});var w=h(6),g=_(w);function _(t){return t&&t.__esModule?t:{default:t}}function y(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function m(t,r){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:t}function p(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(t,r):t.__proto__=r)}var o=function(t){p(r,t);function r(){return y(this,r),m(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return r}(g.default);o.blotName="underline",o.tagName="U",c.default=o},function(v,c,h){Object.defineProperty(c,"__esModule",{value:!0});var w=function(){function l(n,a){for(var d=0;d<a.length;d++){var i=a[d];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(n,a,d){return a&&l(n.prototype,a),d&&l(n,d),n}}(),g=function l(n,a,d){n===null&&(n=Function.prototype);var i=Object.getOwnPropertyDescriptor(n,a);if(i===void 0){var u=Object.getPrototypeOf(n);return u===null?void 0:l(u,a,d)}else{if("value"in i)return i.value;var j=i.get;return j===void 0?void 0:j.call(d)}},_=h(0),y=p(_),m=h(27);function p(l){return l&&l.__esModule?l:{default:l}}function o(l,n){if(!(l instanceof n))throw new TypeError("Cannot call a class as a function")}function t(l,n){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:l}function r(l,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);l.prototype=Object.create(n&&n.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(l,n):l.__proto__=n)}var f=["alt","height","width"],s=function(l){r(n,l);function n(){return o(this,n),t(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return w(n,[{key:"format",value:function(d,i){f.indexOf(d)>-1?i?this.domNode.setAttribute(d,i):this.domNode.removeAttribute(d):g(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"format",this).call(this,d,i)}}],[{key:"create",value:function(d){var i=g(n.__proto__||Object.getPrototypeOf(n),"create",this).call(this,d);return typeof d=="string"&&i.setAttribute("src",this.sanitize(d)),i}},{key:"formats",value:function(d){return f.reduce(function(i,u){return d.hasAttribute(u)&&(i[u]=d.getAttribute(u)),i},{})}},{key:"match",value:function(d){return/\.(jpe?g|gif|png)$/.test(d)||/^data:image\/.+;base64/.test(d)}},{key:"sanitize",value:function(d){return(0,m.sanitize)(d,["http","https","data"])?d:"//:0"}},{key:"value",value:function(d){return d.getAttribute("src")}}]),n}(y.default.Embed);s.blotName="image",s.tagName="IMG",c.default=s},function(v,c,h){Object.defineProperty(c,"__esModule",{value:!0});var w=function(){function l(n,a){for(var d=0;d<a.length;d++){var i=a[d];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(n,a,d){return a&&l(n.prototype,a),d&&l(n,d),n}}(),g=function l(n,a,d){n===null&&(n=Function.prototype);var i=Object.getOwnPropertyDescriptor(n,a);if(i===void 0){var u=Object.getPrototypeOf(n);return u===null?void 0:l(u,a,d)}else{if("value"in i)return i.value;var j=i.get;return j===void 0?void 0:j.call(d)}},_=h(4),y=h(27),m=p(y);function p(l){return l&&l.__esModule?l:{default:l}}function o(l,n){if(!(l instanceof n))throw new TypeError("Cannot call a class as a function")}function t(l,n){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:l}function r(l,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);l.prototype=Object.create(n&&n.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(l,n):l.__proto__=n)}var f=["height","width"],s=function(l){r(n,l);function n(){return o(this,n),t(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return w(n,[{key:"format",value:function(d,i){f.indexOf(d)>-1?i?this.domNode.setAttribute(d,i):this.domNode.removeAttribute(d):g(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"format",this).call(this,d,i)}}],[{key:"create",value:function(d){var i=g(n.__proto__||Object.getPrototypeOf(n),"create",this).call(this,d);return i.setAttribute("frameborder","0"),i.setAttribute("allowfullscreen",!0),i.setAttribute("src",this.sanitize(d)),i}},{key:"formats",value:function(d){return f.reduce(function(i,u){return d.hasAttribute(u)&&(i[u]=d.getAttribute(u)),i},{})}},{key:"sanitize",value:function(d){return m.default.sanitize(d)}},{key:"value",value:function(d){return d.getAttribute("src")}}]),n}(_.BlockEmbed);s.blotName="video",s.className="ql-video",s.tagName="IFRAME",c.default=s},function(v,c,h){Object.defineProperty(c,"__esModule",{value:!0}),c.default=c.FormulaBlot=void 0;var w=function(){function d(i,u){for(var j=0;j<u.length;j++){var b=u[j];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(i,b.key,b)}}return function(i,u,j){return u&&d(i.prototype,u),j&&d(i,j),i}}(),g=function d(i,u,j){i===null&&(i=Function.prototype);var b=Object.getOwnPropertyDescriptor(i,u);if(b===void 0){var E=Object.getPrototypeOf(i);return E===null?void 0:d(E,u,j)}else{if("value"in b)return b.value;var q=b.get;return q===void 0?void 0:q.call(j)}},_=h(35),y=r(_),m=h(5),p=r(m),o=h(9),t=r(o);function r(d){return d&&d.__esModule?d:{default:d}}function f(d,i){if(!(d instanceof i))throw new TypeError("Cannot call a class as a function")}function s(d,i){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i&&(typeof i=="object"||typeof i=="function")?i:d}function l(d,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof i);d.prototype=Object.create(i&&i.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(d,i):d.__proto__=i)}var n=function(d){l(i,d);function i(){return f(this,i),s(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return w(i,null,[{key:"create",value:function(j){var b=g(i.__proto__||Object.getPrototypeOf(i),"create",this).call(this,j);return typeof j=="string"&&(window.katex.render(j,b,{throwOnError:!1,errorColor:"#f00"}),b.setAttribute("data-value",j)),b}},{key:"value",value:function(j){return j.getAttribute("data-value")}}]),i}(y.default);n.blotName="formula",n.className="ql-formula",n.tagName="SPAN";var a=function(d){l(i,d),w(i,null,[{key:"register",value:function(){p.default.register(n,!0)}}]);function i(){f(this,i);var u=s(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return u}return i}(t.default);c.FormulaBlot=n,c.default=a},function(v,c,h){Object.defineProperty(c,"__esModule",{value:!0}),c.default=c.CodeToken=c.CodeBlock=void 0;var w=function(){function j(b,E){for(var q=0;q<E.length;q++){var S=E[q];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(b,S.key,S)}}return function(b,E,q){return E&&j(b.prototype,E),q&&j(b,q),b}}(),g=function j(b,E,q){b===null&&(b=Function.prototype);var S=Object.getOwnPropertyDescriptor(b,E);if(S===void 0){var x=Object.getPrototypeOf(b);return x===null?void 0:j(x,E,q)}else{if("value"in S)return S.value;var k=S.get;return k===void 0?void 0:k.call(q)}},_=h(0),y=s(_),m=h(5),p=s(m),o=h(9),t=s(o),r=h(13),f=s(r);function s(j){return j&&j.__esModule?j:{default:j}}function l(j,b){if(!(j instanceof b))throw new TypeError("Cannot call a class as a function")}function n(j,b){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:j}function a(j,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);j.prototype=Object.create(b&&b.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(j,b):j.__proto__=b)}var d=function(j){a(b,j);function b(){return l(this,b),n(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return w(b,[{key:"replaceWith",value:function(q){this.domNode.textContent=this.domNode.textContent,this.attach(),g(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"replaceWith",this).call(this,q)}},{key:"highlight",value:function(q){var S=this.domNode.textContent;this.cachedText!==S&&((S.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=q(S),this.domNode.normalize(),this.attach()),this.cachedText=S)}}]),b}(f.default);d.className="ql-syntax";var i=new y.default.Attributor.Class("token","hljs",{scope:y.default.Scope.INLINE}),u=function(j){a(b,j),w(b,null,[{key:"register",value:function(){p.default.register(i,!0),p.default.register(d,!0)}}]);function b(E,q){l(this,b);var S=n(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,E,q));if(typeof S.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var x=null;return S.quill.on(p.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(x),x=setTimeout(function(){S.highlight(),x=null},S.options.interval)}),S.highlight(),S}return w(b,[{key:"highlight",value:function(){var q=this;if(!this.quill.selection.composing){this.quill.update(p.default.sources.USER);var S=this.quill.getSelection();this.quill.scroll.descendants(d).forEach(function(x){x.highlight(q.options.highlight)}),this.quill.update(p.default.sources.SILENT),S!=null&&this.quill.setSelection(S,p.default.sources.SILENT)}}}]),b}(t.default);u.DEFAULTS={highlight:function(){return window.hljs==null?null:function(j){var b=window.hljs.highlightAuto(j);return b.value}}(),interval:1e3},c.CodeBlock=d,c.CodeToken=i,c.default=u},function(v,c){v.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(v,c){v.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(v,c){v.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(v,c){v.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(v,c){v.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(v,c){v.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(v,c){v.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(v,c){v.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(v,c){v.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(v,c){v.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(v,c){v.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(v,c){v.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(v,c){v.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(v,c){v.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(v,c){v.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(v,c){v.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(v,c){v.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(v,c){v.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(v,c){v.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(v,c){v.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(v,c){v.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(v,c){v.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(v,c){v.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(v,c){v.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(v,c){v.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(v,c){v.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(v,c){v.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(v,c){v.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(v,c){v.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(v,c){v.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(v,c){v.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(v,c){v.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(v,c,h){Object.defineProperty(c,"__esModule",{value:!0}),c.default=c.BubbleTooltip=void 0;var w=function b(E,q,S){E===null&&(E=Function.prototype);var x=Object.getOwnPropertyDescriptor(E,q);if(x===void 0){var k=Object.getPrototypeOf(E);return k===null?void 0:b(k,q,S)}else{if("value"in x)return x.value;var C=x.get;return C===void 0?void 0:C.call(S)}},g=function(){function b(E,q){for(var S=0;S<q.length;S++){var x=q[S];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(E,x.key,x)}}return function(E,q,S){return q&&b(E.prototype,q),S&&b(E,S),E}}(),_=h(3),y=l(_),m=h(8),p=l(m),o=h(43),t=l(o),r=h(15),f=h(41),s=l(f);function l(b){return b&&b.__esModule?b:{default:b}}function n(b,E){if(!(b instanceof E))throw new TypeError("Cannot call a class as a function")}function a(b,E){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:b}function d(b,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);b.prototype=Object.create(E&&E.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(b,E):b.__proto__=E)}var i=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],u=function(b){d(E,b);function E(q,S){n(this,E),S.modules.toolbar!=null&&S.modules.toolbar.container==null&&(S.modules.toolbar.container=i);var x=a(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,q,S));return x.quill.container.classList.add("ql-bubble"),x}return g(E,[{key:"extendToolbar",value:function(S){this.tooltip=new j(this.quill,this.options.bounds),this.tooltip.root.appendChild(S.container),this.buildButtons([].slice.call(S.container.querySelectorAll("button")),s.default),this.buildPickers([].slice.call(S.container.querySelectorAll("select")),s.default)}}]),E}(t.default);u.DEFAULTS=(0,y.default)(!0,{},t.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(E){E?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var j=function(b){d(E,b);function E(q,S){n(this,E);var x=a(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,q,S));return x.quill.on(p.default.events.EDITOR_CHANGE,function(k,C,L,T){if(k===p.default.events.SELECTION_CHANGE)if(C!=null&&C.length>0&&T===p.default.sources.USER){x.show(),x.root.style.left="0px",x.root.style.width="",x.root.style.width=x.root.offsetWidth+"px";var R=x.quill.getLines(C.index,C.length);if(R.length===1)x.position(x.quill.getBounds(C));else{var M=R[R.length-1],z=x.quill.getIndex(M),H=Math.min(M.length()-1,C.index+C.length-z),I=x.quill.getBounds(new r.Range(z,H));x.position(I)}}else document.activeElement!==x.textbox&&x.quill.hasFocus()&&x.hide()}),x}return g(E,[{key:"listen",value:function(){var S=this;w(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){S.root.classList.remove("ql-editing")}),this.quill.on(p.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!S.root.classList.contains("ql-hidden")){var x=S.quill.getSelection();x!=null&&S.position(S.quill.getBounds(x))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(S){var x=w(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"position",this).call(this,S),k=this.root.querySelector(".ql-tooltip-arrow");if(k.style.marginLeft="",x===0)return x;k.style.marginLeft=-1*x-k.offsetWidth/2+"px"}}]),E}(o.BaseTooltip);j.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),c.BubbleTooltip=j,c.default=u},function(v,c,h){v.exports=h(63)}]).default})}(mt)),mt.exports}var Ce,Sa;function wu(){if(Sa)return Ce;Sa=1;var O=Ce&&Ce.__extends||function(){var p=function(o,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,f){r.__proto__=f}||function(r,f){for(var s in f)f.hasOwnProperty(s)&&(r[s]=f[s])},p(o,t)};return function(o,t){p(o,t);function r(){this.constructor=o}o.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),N=Ce&&Ce.__assign||function(){return N=Object.assign||function(p){for(var o,t=1,r=arguments.length;t<r;t++){o=arguments[t];for(var f in o)Object.prototype.hasOwnProperty.call(o,f)&&(p[f]=o[f])}return p},N.apply(this,arguments)},v=Ce&&Ce.__spreadArrays||function(){for(var p=0,o=0,t=arguments.length;o<t;o++)p+=arguments[o].length;for(var r=Array(p),f=0,o=0;o<t;o++)for(var s=arguments[o],l=0,n=s.length;l<n;l++,f++)r[f]=s[l];return r},c=Ce&&Ce.__importDefault||function(p){return p&&p.__esModule?p:{default:p}},h=c(lo()),w=c(so()),g=c(_u()),_=c(Ou()),y=function(p){O(o,p);function o(t){var r=p.call(this,t)||this;r.dirtyProps=["modules","formats","bounds","theme","children"],r.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],r.state={generation:0},r.selection=null,r.onEditorChange=function(s,l,n,a){var d,i,u,j;s==="text-change"?(i=(d=r).onEditorChangeText)===null||i===void 0||i.call(d,r.editor.root.innerHTML,l,a,r.unprivilegedEditor):s==="selection-change"&&((j=(u=r).onEditorChangeSelection)===null||j===void 0||j.call(u,l,a,r.unprivilegedEditor))};var f=r.isControlled()?t.value:t.defaultValue;return r.value=f!=null?f:"",r}return o.prototype.validateProps=function(t){var r;if(h.default.Children.count(t.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(h.default.Children.count(t.children)){var f=h.default.Children.only(t.children);if(((r=f)===null||r===void 0?void 0:r.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&t.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},o.prototype.shouldComponentUpdate=function(t,r){var f=this,s;if(this.validateProps(t),!this.editor||this.state.generation!==r.generation)return!0;if("value"in t){var l=this.getEditorContents(),n=(s=t.value,s!=null?s:"");this.isEqualValue(n,l)||this.setEditorContents(this.editor,n)}return t.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,t.readOnly),v(this.cleanProps,this.dirtyProps).some(function(a){return!g.default(t[a],f.props[a])})},o.prototype.shouldComponentRegenerate=function(t){var r=this;return this.dirtyProps.some(function(f){return!g.default(t[f],r.props[f])})},o.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},o.prototype.componentWillUnmount=function(){this.destroyEditor()},o.prototype.componentDidUpdate=function(t,r){var f=this;if(this.editor&&this.shouldComponentRegenerate(t)){var s=this.editor.getContents(),l=this.editor.getSelection();this.regenerationSnapshot={delta:s,selection:l},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==r.generation){var n=this.regenerationSnapshot,s=n.delta,a=n.selection;delete this.regenerationSnapshot,this.instantiateEditor();var d=this.editor;d.setContents(s),m(function(){return f.setEditorSelection(d,a)})}},o.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},o.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},o.prototype.isControlled=function(){return"value"in this.props},o.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},o.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},o.prototype.createEditor=function(t,r){var f=new _.default(t,r);return r.tabIndex!=null&&this.setEditorTabIndex(f,r.tabIndex),this.hookEditor(f),f},o.prototype.hookEditor=function(t){this.unprivilegedEditor=this.makeUnprivilegedEditor(t),t.on("editor-change",this.onEditorChange)},o.prototype.unhookEditor=function(t){t.off("editor-change",this.onEditorChange)},o.prototype.getEditorContents=function(){return this.value},o.prototype.getEditorSelection=function(){return this.selection},o.prototype.isDelta=function(t){return t&&t.ops},o.prototype.isEqualValue=function(t,r){return this.isDelta(t)&&this.isDelta(r)?g.default(t.ops,r.ops):g.default(t,r)},o.prototype.setEditorContents=function(t,r){var f=this;this.value=r;var s=this.getEditorSelection();typeof r=="string"?t.setContents(t.clipboard.convert(r)):t.setContents(r),m(function(){return f.setEditorSelection(t,s)})},o.prototype.setEditorSelection=function(t,r){if(this.selection=r,r){var f=t.getLength();r.index=Math.max(0,Math.min(r.index,f-1)),r.length=Math.max(0,Math.min(r.length,f-1-r.index)),t.setSelection(r)}},o.prototype.setEditorTabIndex=function(t,r){var f,s;!((s=(f=t)===null||f===void 0?void 0:f.scroll)===null||s===void 0)&&s.domNode&&(t.scroll.domNode.tabIndex=r)},o.prototype.setEditorReadOnly=function(t,r){r?t.disable():t.enable()},o.prototype.makeUnprivilegedEditor=function(t){var r=t;return{getHTML:function(){return r.root.innerHTML},getLength:r.getLength.bind(r),getText:r.getText.bind(r),getContents:r.getContents.bind(r),getSelection:r.getSelection.bind(r),getBounds:r.getBounds.bind(r)}},o.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var t=w.default.findDOMNode(this.editingArea);if(!t)throw new Error("Cannot find element for editing area");if(t.nodeType===3)throw new Error("Editing area cannot be a text node");return t},o.prototype.renderEditingArea=function(){var t=this,r=this.props,f=r.children,s=r.preserveWhitespace,l=this.state.generation,n={key:l,ref:function(a){t.editingArea=a}};return h.default.Children.count(f)?h.default.cloneElement(h.default.Children.only(f),n):s?h.default.createElement("pre",N({},n)):h.default.createElement("div",N({},n))},o.prototype.render=function(){var t;return h.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(t=this.props.className,t!=null?t:""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},o.prototype.onEditorChangeText=function(t,r,f,s){var l,n;if(this.editor){var a=this.isDelta(this.value)?s.getContents():s.getHTML();a!==this.getEditorContents()&&(this.lastDeltaChangeSet=r,this.value=a,(n=(l=this.props).onChange)===null||n===void 0||n.call(l,t,r,f,s))}},o.prototype.onEditorChangeSelection=function(t,r,f){var s,l,n,a,d,i;if(this.editor){var u=this.getEditorSelection(),j=!u&&t,b=u&&!t;g.default(t,u)||(this.selection=t,(l=(s=this.props).onChangeSelection)===null||l===void 0||l.call(s,t,r,f),j?(a=(n=this.props).onFocus)===null||a===void 0||a.call(n,t,r,f):b&&((i=(d=this.props).onBlur)===null||i===void 0||i.call(d,u,r,f)))}},o.prototype.focus=function(){this.editor&&this.editor.focus()},o.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},o.displayName="React Quill",o.Quill=_.default,o.defaultProps={theme:"snow",modules:{},readOnly:!1},o}(h.default.Component);function m(p){Promise.resolve().then(p)}return Ce=y,Ce}wu();const Eu=()=>{var f,s;const{shineSection:O,updateShineSection:N}=Ge(),[v,c]=$.useState(!1),[h,w]=$.useState(!1),[g,_]=$.useState({heading:O==null?void 0:O.heading,description:O==null?void 0:O.description,features:O==null?void 0:O.features});$.useEffect(()=>{_(O)},[O]);const y=l=>{_(n=>Q(V({},n),{heading:l.target.value}))},m=l=>{_(n=>Q(V({},n),{description:l.target.value}))},p=(l,n,a)=>{const d=[...g.features];d[l][n]=a,_(i=>Q(V({},i),{features:d}))},o=()=>{_(l=>Q(V({},l),{features:[...l.features,{title:"",description:"",image:""}]}))},t=l=>{const n=g.features.filter((a,d)=>d!==l);_(a=>Q(V({},a),{features:n}))},r=()=>xe(void 0,null,function*(){var a,d;if(!(g!=null&&g.heading)||!(g!=null&&g.description)){alert("Heading and description are required.");return}if(!(g!=null&&g.features)||g.features.length===0){alert("At least one feature is required.");return}const l=((a=g==null?void 0:g.description)==null?void 0:a.trim().split(/\s+/).length)||0,n=(d=g==null?void 0:g.features)==null?void 0:d.some(i=>{var j;return(((j=i==null?void 0:i.description)==null?void 0:j.trim().split(/\s+/).length)||0)>130});if(l>130||n){alert("Descriptions should not exceed 130 words");return}try{const i=g.features.filter(j=>j.title||j.description||j.image).map(j=>({title:j.title||"",description:j.description||"",image:j.image||""})),u={heading:g.heading,description:g.description,features:i};yield N(u)}catch(i){console.error("Error updating shine section:",i)}});return e.jsxs("div",{children:[e.jsx("div",{onClick:()=>c(!0),className:"myGlobalButton",children:"Shine Section"}),e.jsxs(qe,{open:v,onClose:()=>c(!1),maxWidth:"md",fullWidth:!0,children:[e.jsx(Re,{children:"Shine Section"}),e.jsx(Le,{dividers:!0,children:e.jsxs("div",{style:{padding:20},children:[e.jsx(ne,{label:"Heading",variant:"outlined",fullWidth:!0,value:g==null?void 0:g.heading,onChange:y,style:{marginBottom:20}}),e.jsx(ne,{label:"Description",variant:"outlined",fullWidth:!0,multiline:!0,rows:4,value:g==null?void 0:g.description,onChange:m,style:{marginBottom:20},helperText:`${((f=g==null?void 0:g.description)==null?void 0:f.trim().split(/\s+/).length)||0}/130 words`,error:(((s=g==null?void 0:g.description)==null?void 0:s.trim().split(/\s+/).length)||0)>130}),e.jsx(_e,{container:!0,spacing:3,children:g!=null&&g.features&&(g==null?void 0:g.features.length)>0?g==null?void 0:g.features.map((l,n)=>e.jsx(_e,{item:!0,xs:12,sm:6,md:4,children:e.jsxs(xt,{elevation:3,style:{padding:16,marginBottom:20},children:[e.jsx(Be,{color:"error",onClick:()=>t(n),style:{marginBottom:10},children:e.jsx(De,{})}),e.jsx(ne,{label:"Feature Title",variant:"outlined",fullWidth:!0,value:l.title,onChange:a=>p(n,"title",a.target.value),style:{marginBottom:10}}),e.jsx(ne,{label:"Feature Description",variant:"outlined",fullWidth:!0,multiline:!0,rows:3,value:l.description,onChange:a=>p(n,"description",a.target.value),style:{marginBottom:10},helperText:`${l.description.trim().split(/\s+/).length}/130 words`,error:l.description.trim().split(/\s+/).length>130}),e.jsx(Me,{feature:l,handleFeatureChange:(a,d)=>p(n,a,d),setImageUpload:w,index:n}),l.image&&e.jsx("img",{src:l.image,alt:`Feature ${n}`,style:{width:"100%",marginBottom:10}})]})},l._id)):e.jsx(ye,{variant:"body1",color:"textSecondary",children:"No features available."})}),e.jsx(ae,{variant:"contained",color:"primary",startIcon:e.jsx(We,{}),onClick:o,style:{marginTop:20,marginRight:10},children:"Add Feature"})]})}),e.jsxs(ke,{children:[e.jsx(ae,{onClick:()=>c(!1),color:"secondary",children:"Cancel"}),e.jsx(ae,{variant:"contained",onClick:()=>{r(),c(!1)},color:"primary",disabled:h,children:"Update Shine Section"})]})]})]})},Su=["","home","whysunstar","coorporatebooking","developera and owners","event and conference","social event","Weddings & Special Occasions","Corporate Events","career","travel-agent","tours and travel"],ku=()=>{const[O,N]=$.useState(""),{data:v=[],isLoading:c,error:h}=bl({page:O});xl();const w=_l(),g=jl(),_=Ol(),[y,m]=$.useState({clientHeading:"",clients:[]}),[p,o]=$.useState([]),[t,r]=$.useState(!1);$.useEffect(()=>{m({clientHeading:"",clients:v.map(u=>({_id:u._id,name:u.name,location:u.location,heading:u.heading,description:u.description}))}),o([])},[v]);const f=u=>{N(u.target.value)},s=()=>r(!0),l=()=>r(!1),n=(u,j,b)=>{const E=[...y.clients];E[u]=Q(V({},E[u]),{[j]:b}),m(Q(V({},y),{clients:E}))},a=()=>{m(Q(V({},y),{clients:[...y.clients,{name:"",location:"",heading:"",description:""}]}))},d=u=>{const j=y.clients[u];j._id&&o(b=>[...b,j._id]),m(Q(V({},y),{clients:y.clients.filter((b,E)=>E!==u)}))},i=()=>{if(y.clients.some(b=>b.description.trim().split(/\s+/).length>50)){ve.error("Each description must be 50 words or fewer.");return}y.clients.filter(b=>b._id).forEach(b=>{w.mutate({id:b._id,updateData:{name:b.name,location:b.location,heading:b.heading,description:b.description,page:O}})});const j=y.clients.filter(b=>!b._id).map(b=>({name:b.name,location:b.location,heading:b.heading,description:b.description,page:O}));j.length&&g.mutate(j),p.forEach(b=>_.mutate(b)),r(!1),ve.success("Testimonials saved successfully")};return e.jsxs("div",{children:[e.jsx("div",{className:"myGlobalButton",onClick:s,children:"Edit Testimonials"}),e.jsxs(qe,{open:t,onClose:l,fullWidth:!0,maxWidth:"md",children:[e.jsxs(Re,{children:['Edit Testimonials for "',O||"Default",'"']}),e.jsxs(Le,{dividers:!0,children:[e.jsxs(yn,{fullWidth:!0,margin:"normal",children:[e.jsx(bn,{children:"Choose Page"}),e.jsx(xn,{labelId:"page-select-label",value:O,label:"Choose Page",onChange:f,displayEmpty:!0,renderValue:u=>u===""?"Default Testimonials":u,children:Su.map(u=>e.jsx(Ot,{value:u,className:"capitalize",children:u===""?"Default Testimonials":u},u))})]}),y.clients.map((u,j)=>e.jsx(Pe,{sx:{p:2,mb:2},children:e.jsxs(he,{display:"flex",flexDirection:"column",gap:2,children:[e.jsx(ne,{label:"Name",value:u.name,onChange:b=>n(j,"name",b.target.value)}),e.jsx(ne,{label:"Location",value:u.location,onChange:b=>n(j,"location",b.target.value)}),e.jsx(ne,{label:"Heading",value:u.heading,onChange:b=>n(j,"heading",b.target.value)}),e.jsx(ne,{label:"Description",multiline:!0,rows:3,value:u.description,onChange:b=>n(j,"description",b.target.value),helperText:`${u.description.trim().split(/\s+/).length}/50 words`,error:u.description.trim().split(/\s+/).length>50}),e.jsx(ae,{variant:"outlined",color:"error",startIcon:e.jsx(De,{}),onClick:()=>d(j),children:"Delete"})]})},u._id||j)),e.jsx(ae,{variant:"contained",startIcon:e.jsx(We,{}),onClick:a,children:"Add Testimonial"})]}),e.jsxs(ke,{children:[e.jsx(ae,{onClick:l,children:"Cancel"}),e.jsx(ae,{variant:"contained",onClick:i,children:"Save Changes"})]})]})]})},vt={hero:{title:"",desc:""},advantages:[]};function Tu(O,N){return JSON.stringify(O)===JSON.stringify(N)}const Nu=()=>{const[O,N]=$.useState(!1),[v,c]=$.useState(vt),[h,w]=$.useState(null),g=$.useRef(null),{data:_,isLoading:y,isFetching:m,refetch:p}=wl(),o=El();$.useEffect(()=>{O&&p()},[O,p]),$.useEffect(()=>{var d,i,u,j;if(_){const b={hero:{title:(i=(d=_.hero)==null?void 0:d.title)!=null?i:"",desc:(j=(u=_.hero)==null?void 0:u.desc)!=null?j:""},advantages:Array.isArray(_.advantages)?_.advantages.map(E=>{var q,S;return{title:(q=E.title)!=null?q:"",desc:(S=E.desc)!=null?S:"",types:Array.isArray(E.types)?E.types.map(x=>{var k,C;return{title:(k=x.title)!=null?k:"",desc:(C=x.desc)!=null?C:""}}):[]}}):[]};c(b),w(b)}else!y&&!_&&(c(vt),w(vt))},[_,y]),$.useEffect(()=>{function d(i){i.key==="Escape"&&N(!1)}return O&&window.addEventListener("keydown",d),()=>window.removeEventListener("keydown",d)},[O]);function t(d){g.current&&!g.current.contains(d.target)&&N(!1)}const r=(d,i)=>{c(u=>Q(V({},u),{hero:Q(V({},u.hero),{[d]:i})}))},f=(d,i,u)=>{c(j=>{const b=[...j.advantages||[]];return b[d]=Q(V({},b[d]),{[i]:u}),Q(V({},j),{advantages:b})})},s=(d,i,u,j)=>{c(b=>{const E=[...b.advantages||[]],q=[...E[d].types||[]];return q[i]=Q(V({},q[i]),{[u]:j}),E[d]=Q(V({},E[d]),{types:q}),Q(V({},b),{advantages:E})})},l=()=>{if(!v.hero.title||v.hero.title.trim()==="")return ve.error("Hero title is required"),!1;for(let d=0;d<(v.advantages||[]).length;d++){const i=v.advantages[d];if(!i.title||i.title.trim()==="")return ve.error(`Section #${d+1} title is required`),!1;for(let u=0;u<(i.types||[]).length;u++){const j=i.types[u];if(!j.title||j.title.trim()==="")return ve.error(`Type #${u+1} in section #${d+1} needs a title`),!1}}return!0},n=()=>xe(void 0,null,function*(){var d,i;if(l())try{yield o.mutateAsync(v),ve.success("Tour & Travel content saved"),w(v),N(!1)}catch(u){console.error(u),ve.error(((i=(d=u==null?void 0:u.response)==null?void 0:d.data)==null?void 0:i.message)||"Failed to save")}}),a=!Tu(v,h);return e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"myGlobalButton",onClick:()=>N(!0),"aria-haspopup":"dialog","aria-expanded":O,children:"Tours & Travel"}),O&&e.jsx("div",{className:"tt-modal-overlay",onMouseDown:t,style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:2e3},"aria-modal":"true",role:"dialog","aria-label":"Edit Tours and Travel content",children:e.jsxs("div",{ref:g,className:"tt-modal",onMouseDown:d=>d.stopPropagation(),style:{background:"#fff",width:"min(1000px, 96%)",maxHeight:"90vh",overflowY:"auto",borderRadius:8,padding:20,boxShadow:"0 10px 30px rgba(0,0,0,0.2)"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12},children:[e.jsx("h2",{style:{margin:0},children:"Edit Tours & Travel"}),e.jsx("div",{children:e.jsx("button",{onClick:()=>N(!1),"aria-label":"Close",style:{background:"transparent",border:"none",fontSize:18,cursor:"pointer"},children:"✕"})})]}),y||m?e.jsx("div",{style:{padding:20},children:"Loading content…"}):e.jsxs("div",{children:[e.jsxs("section",{style:{marginBottom:18},children:[e.jsx("h3",{style:{marginBottom:8},children:"Hero"}),e.jsxs("label",{style:{display:"block",marginBottom:6},children:[e.jsxs("div",{style:{fontSize:13,marginBottom:4},children:["Title ",e.jsx("span",{style:{color:"red"},children:"*"})]}),e.jsx("input",{type:"text",value:v.hero.title,onChange:d=>r("title",d.target.value),placeholder:"Hero title",style:{width:"100%",padding:8,borderRadius:6,border:"1px solid #ddd"}})]}),e.jsxs("label",{style:{display:"block"},children:[e.jsx("div",{style:{fontSize:13,marginBottom:4},children:"Description"}),e.jsx("textarea",{value:v.hero.desc,onChange:d=>r("desc",d.target.value),placeholder:"Hero description",rows:3,style:{width:"100%",padding:8,borderRadius:6,border:"1px solid #ddd"}})]})]}),e.jsxs("section",{children:[e.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:e.jsx("h3",{style:{marginBottom:8},children:"Advantages"})}),(v.advantages||[]).length===0&&e.jsx("div",{style:{color:"#666",padding:"8px 0"},children:"No advantage sections yet. Add one to begin."}),(v.advantages||[]).map((d,i)=>e.jsxs("div",{style:{border:"1px solid #eee",padding:12,borderRadius:6,marginBottom:12},children:[e.jsx("div",{style:{display:"flex",justifyContent:"space-between",gap:8},children:e.jsxs("div",{style:{flex:1},children:[e.jsxs("label",{style:{display:"block",marginBottom:6},children:[e.jsxs("div",{style:{fontSize:13,marginBottom:4},children:["Section title ",e.jsx("span",{style:{color:"red"},children:"*"})]}),e.jsx("input",{type:"text",value:d.title,onChange:u=>f(i,"title",u.target.value),placeholder:"Section title",style:{width:"100%",padding:8,borderRadius:6,border:"1px solid #ddd"}})]}),e.jsxs("label",{style:{display:"block"},children:[e.jsx("div",{style:{fontSize:13,marginBottom:4},children:"Section description"}),e.jsx("textarea",{value:d.desc,onChange:u=>f(i,"desc",u.target.value),placeholder:"Section description",rows:2,style:{width:"100%",padding:8,borderRadius:6,border:"1px solid #ddd"}})]})]})}),e.jsxs("div",{style:{marginTop:10},children:[Array.isArray(d.types)&&d.types.length===0&&e.jsx("div",{style:{color:"#666",marginTop:8},children:"No types yet for this section."}),d.types&&d.types.map((u,j)=>e.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr auto",gap:8,marginTop:8,alignItems:"start"},children:e.jsxs("div",{children:[e.jsx("input",{type:"text",value:u.title,onChange:b=>s(i,j,"title",b.target.value),placeholder:"Type title",style:{width:"100%",padding:8,borderRadius:6,border:"1px solid #ddd",marginBottom:6}}),e.jsx("textarea",{value:u.desc,onChange:b=>s(i,j,"desc",b.target.value),placeholder:"Type description (optional)",rows:2,style:{width:"100%",padding:8,borderRadius:6,border:"1px solid #ddd"}})]})},j))]})]},i))]}),e.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:8,marginTop:12},children:[e.jsx("button",{onClick:()=>{c(h!=null?h:vt)},disabled:!a,style:{padding:"8px 12px",borderRadius:6,border:"1px solid #ccc",background:a?"#fff":"#f5f5f5",cursor:a?"pointer":"not-allowed"},children:"Reset"}),e.jsx("button",{onClick:n,disabled:o.isLoading||!a,style:{padding:"8px 14px",borderRadius:6,border:"none",background:o.isLoading||!a?"#aaa":"#0070f3",color:"#fff",cursor:o.isLoading||!a?"not-allowed":"pointer"},children:o.isLoading?"Saving…":"Save"})]})]})]})})]})},ka=({open:O,onClose:N,children:v,title:c,footer:h})=>O?e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:N}),e.jsxs("div",{className:"relative z-10 w-full max-w-5xl max-h-[92vh] overflow-hidden rounded-2xl bg-white shadow-2xl animate-in fade-in zoom-in-95 duration-300",children:[e.jsxs("div",{className:"sticky top-0 z-20 flex items-center justify-between gap-4 border-b border-gray-200 bg-gradient-to-r from-slate-50 to-white px-6 py-4",children:[e.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-cyan-600 bg-clip-text text-transparent",children:c}),e.jsx("button",{className:"p-2 rounded-lg hover:bg-gray-100",onClick:N,children:e.jsx(jt,{size:20,className:"text-gray-600"})})]}),e.jsx("div",{className:"overflow-y-auto p-6 max-h-[calc(92vh-60px)]",children:v}),h&&e.jsx("div",{className:"border-t border-gray-200 bg-white px-6 py-4",children:h})]})]}):null,Au=v=>{var c=v,{label:O}=c,N=Ne(c,["label"]);return e.jsxs("label",{className:"block group",children:[e.jsx("span",{className:"text-sm font-semibold text-gray-700 mb-2 block",children:O}),e.jsx("input",Q(V({},N),{className:`w-full rounded-lg border border-gray-300 px-4 py-2.5 outline-none transition-all duration-200 focus:border-blue-500 focus:ring-2 focus:ring-blue-100 hover:border-gray-400 ${N.className||""}`}))]})},Ta=v=>{var c=v,{label:O}=c,N=Ne(c,["label"]);return e.jsxs("label",{className:"block",children:[e.jsx("span",{className:"text-sm font-semibold text-gray-700 mb-2 block",children:O}),e.jsx("textarea",Q(V({},N),{className:`w-full rounded-lg border border-gray-300 px-4 py-2.5 outline-none transition-all duration-200 focus:border-blue-500 focus:ring-2 focus:ring-blue-100 hover:border-gray-400 min-h-[90px] resize-none ${N.className||""}`}))]})},Cu=({title:O,children:N,onSave:v,saving:c,actions:h})=>e.jsxs("div",{className:"rounded-xl border border-gray-200 bg-gradient-to-br from-white to-gray-50 p-6 shadow-sm hover:shadow-md transition-shadow duration-300",children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:O}),e.jsxs("div",{className:"flex gap-2 items-center",children:[h,v&&e.jsx("button",{onClick:v,disabled:c,className:"inline-flex items-center gap-2 rounded-lg bg-gradient-to-r from-blue-600 to-blue-700 px-4 py-2 text-sm font-medium text-white shadow-md hover:shadow-lg disabled:opacity-60",children:c?e.jsxs(e.Fragment,{children:[e.jsx(Ie,{size:16,className:"animate-spin"}),"Saving…"]}):e.jsxs(e.Fragment,{children:[e.jsx(Ze,{size:16}),"Save"]})})]})]}),e.jsx("div",{className:"space-y-4",children:N})]}),Pu=()=>{const[O,N]=$.useState(!1),{data:v,isFetching:c}=Sl({enabled:O}),h=kl(),w=Tl(),g=Nl(),_=Al(),y=Cl(),[m,p]=$.useState({heading:"",description:""}),o=$.useMemo(()=>{var a,d;return(d=(a=v==null?void 0:v.partnerWithUs)==null?void 0:a.cards)!=null?d:[]},[v]),t=$.useMemo(()=>{var a,d;return(d=(a=v==null?void 0:v.howItWorks)==null?void 0:a.cards)!=null?d:[]},[v]);$.useEffect(()=>{var a,d,i,u;v&&p({heading:(d=(a=v==null?void 0:v.hero)==null?void 0:a.heading)!=null?d:"",description:(u=(i=v==null?void 0:v.hero)==null?void 0:i.description)!=null?u:""})},[v]);const[r,f]=$.useState(null),[s,l]=$.useState(""),n=()=>xe(void 0,null,function*(){const d=s.split(`
`).map(i=>i.trim()).filter(Boolean).map(i=>{const[u,...j]=i.split(":");return j.length?{title:u.trim(),description:j.join(":").trim()}:{title:i.split(" ").slice(0,3).join(" "),description:i}});yield g.mutateAsync({section:r,cards:d}),l(""),f(null)});return e.jsxs("div",{children:[e.jsx("button",{onClick:()=>N(!0),className:"myGlobalButton",children:"Manage Travel Agent"}),e.jsxs(ka,{open:O,onClose:()=>N(!1),title:"Manage Travel Agent",children:[c&&e.jsxs("div",{className:"mb-6 rounded-lg border border-amber-200 bg-gradient-to-r from-amber-50 to-orange-50 p-4 flex items-center gap-3",children:[e.jsx(Ie,{size:18,className:"text-amber-600 animate-spin"}),e.jsx("p",{className:"text-sm font-medium text-amber-800",children:"Loading latest data…"})]}),e.jsx(Cu,{title:"Hero",onSave:()=>h.mutate(m),saving:h.isPending,children:e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsx(Au,{label:"Heading",value:m.heading,onChange:a=>p(d=>Q(V({},d),{heading:a.target.value}))}),e.jsx(Ta,{label:"Description",value:m.description,onChange:a=>p(d=>Q(V({},d),{description:a.target.value}))})]})}),e.jsx(_t,{title:"Partner With Us — Cards",cards:o,onAdd:()=>w.mutate({section:"partner",title:"New Partner Benefit",description:"Describe the partner benefit…"}),adding:w.isPending,onUpdate:(a,d)=>_.mutate({section:"partner",cardId:a,update:d}),onDelete:a=>y.mutate({section:"partner",cardId:a}),emptyMessage:"No partner cards yet.",fields:[{name:"title",label:"Title",type:"text"},{name:"description",label:"Description",type:"textarea"}]}),e.jsx(_t,{title:"How It Works — Cards",cards:t,onAdd:()=>w.mutate({section:"howitworks",title:"Step title",description:"Explain the step…"}),adding:w.isPending,onUpdate:(a,d)=>_.mutate({section:"howitworks",cardId:a,update:d}),onDelete:a=>y.mutate({section:"howitworks",cardId:a}),emptyMessage:"No how-it-works cards yet.",fields:[{name:"title",label:"Title",type:"text"},{name:"description",label:"Description",type:"textarea"}]})]}),e.jsx(ka,{open:!!r,onClose:()=>f(null),title:r==="partner"?"Bulk Add — Partner With Us":"Bulk Add — How It Works",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx(Ta,{label:"Items",placeholder:`Sign Up: Create your partner account
Approve: Get verified and start
Earn: Send bookings & earn`,value:s,onChange:a=>l(a.target.value)}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx("button",{className:"rounded-lg px-4 py-2 bg-gray-100 hover:bg-gray-200",onClick:()=>f(null),children:"Cancel"}),e.jsx("button",{className:"rounded-lg px-4 py-2 bg-emerald-600 text-white hover:bg-emerald-700 disabled:opacity-60",disabled:!s.trim()||g.isPending,onClick:n,children:g.isPending?"Adding…":"Add Items"})]})]})})]})},qu=()=>{var u;const[O,N]=$.useState(!1),{offeringSection:v,updateOfferingSection:c}=Ge(),[h,w]=$.useState(!1),[g,_]=$.useState(!1),[y,m]=$.useState(null),[p,o]=$.useState(null),[t,r]=$.useState({heading:"",offers:[]});$.useEffect(()=>{if(v){const j=Q(V({},v),{offers:(v.offers||[]).map(b=>({title:b.title||"",description:b.description||"",image:b.image||"",link:b.link||""}))});r(j)}},[v]);const f=()=>{r(j=>Q(V({},j),{offers:[...j.offers,{title:"",description:"",image:"",link:""}]}))},s=j=>{r(b=>Q(V({},b),{offers:b.offers.filter((E,q)=>q!==j)}))},l=(j,b,E)=>{r(q=>{const S=[...q.offers];return S[j]=Q(V({},S[j]),{[b]:E}),Q(V({},q),{offers:S})})},n=j=>{r(Q(V({},t),{heading:j.target.value}))},a=j=>xe(void 0,null,function*(){if(j.preventDefault(),_(!0),m(null),o(null),t.offers.some(E=>E.description.trim().split(/\s+/).length>60)){m("Description should not exceed 60 words"),_(!1);return}try{if(c){const E=yield c({whatWeOffers:t});o("Offerings updated successfully!"),r(E.whatWeOffers)}else o("Offerings updated successfully! (dummy)")}catch(E){console.error(E),m("Failed to update offerings.")}finally{_(!1)}}),d=()=>N(!0),i=()=>N(!1);return e.jsxs("div",{children:[e.jsx("div",{onClick:d,className:"myGlobalButton",children:"What We Offers Section"}),e.jsx(qe,{open:O,onClose:i,fullWidth:!0,maxWidth:"md",children:e.jsxs(he,{component:"form",onSubmit:a,children:[e.jsx(Re,{children:"What We Offers Section"}),e.jsxs(Le,{children:[e.jsx(ye,{variant:"h5",gutterBottom:!0,children:"What We Offers Section"}),e.jsx(ne,{label:"Heading",variant:"outlined",fullWidth:!0,value:t.heading||"",onChange:n,sx:{mb:3}}),(u=t==null?void 0:t.offers)==null?void 0:u.map((j,b)=>e.jsxs(he,{sx:{mb:4,p:2,border:"1px solid #ccc",borderRadius:2,position:"relative"},children:[e.jsxs(ye,{variant:"h6",children:["Offering ",b+1]}),e.jsx(ne,{label:"Title",variant:"outlined",fullWidth:!0,margin:"normal",value:j.title,onChange:E=>l(b,"title",E.target.value)}),e.jsx(ne,{label:"Description",variant:"outlined",fullWidth:!0,margin:"normal",multiline:!0,rows:4,value:j.description,onChange:E=>l(b,"description",E.target.value),helperText:`${j.description.trim().split(/\s+/).length}/60 words`,error:j.description.trim().split(/\s+/).length>60}),e.jsx(ne,{label:"Link (optional)",placeholder:"https://example.com/your-service",variant:"outlined",fullWidth:!0,margin:"normal",value:j.link||"",onChange:E=>l(b,"link",E.target.value)}),j.image&&e.jsxs(he,{sx:{mt:2,display:"flex",alignItems:"center"},children:[e.jsx(ye,{variant:"caption",sx:{mr:1},children:"Image Preview:"}),e.jsx(he,{component:"img",src:j.image,alt:`Offering ${b+1} preview`,sx:{width:100,height:60,objectFit:"cover",border:"1px solid #ccc",borderRadius:"4px",marginBottom:"20px"}})]}),e.jsx(Me,{feature:j,handleFeatureChange:(E,q)=>l(b,E,q),setImageUpload:w,index:b}),e.jsx(ae,{variant:"outlined",color:"error",startIcon:e.jsx(De,{}),onClick:()=>s(b),sx:{mt:1},children:"Remove Offering"})]},`${b}`)),e.jsx(ae,{variant:"outlined",onClick:f,sx:{mt:2},children:"Add New Offering"}),y&&e.jsx(ye,{variant:"body2",color:"error",sx:{mt:2},children:y}),p&&e.jsx(ye,{variant:"body2",color:"primary",sx:{mt:2},children:p})]}),e.jsx(ke,{children:e.jsxs(he,{sx:{mt:2,mr:4,display:"flex",justifyContent:"flex-end"},children:[e.jsx(ae,{onClick:i,color:"primary",sx:{mx:4},children:"Close"}),e.jsx(ae,{type:"submit",variant:"contained",color:"primary",disabled:g||h,children:g?e.jsx(Ve,{size:24}):"Update Offerings"})]})})]})})]})},Nc=()=>e.jsxs("div",{className:"p-8 pt-24 flex flex-col gap-8 bg-gray-100 min-h-screen  ",children:[e.jsx("h1",{className:"text-desktop/h3",children:"Pages Sections"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-10",children:[e.jsx(rs,{}),e.jsx(os,{}),e.jsx(Kl,{}),e.jsx(Gl,{}),e.jsx(Zl,{}),e.jsx(is,{}),e.jsx(Wl,{}),e.jsx(Pu,{}),e.jsx(Vl,{}),e.jsx(Ql,{}),e.jsx(Nu,{})]}),e.jsx("h1",{className:"text-desktop/h3",children:"Common Sections"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-10",children:[e.jsx(ts,{}),e.jsx(Eu,{}),e.jsx(qu,{}),e.jsx(ku,{}),e.jsx(Xl,{}),e.jsx(ls,{})]})]});export{Nc as default};
