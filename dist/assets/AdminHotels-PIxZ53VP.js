import{a as D,r,j as e,_ as i}from"./index-D2bEG4fB.js";import{u as E,a as g}from"./useHotelHook-Cghm7Ldv.js";import{S as j,D as S}from"./DeletePopup-OawIips0.js";import"./axiosInstance-C7CYZqxk.js";import"./axios-upsvKRUO.js";import"./Add-DSWnJgSr.js";import"./index-DjKJqAo0.js";const M=()=>{const{data:s,isLoading:c,isError:u,error:m}=E(),{mutate:f}=g(),a=D(),[l,o]=r.useState(!1),[d,n]=r.useState(null);r.useEffect(()=>(l?document.body.style.overflow="hidden":document.body.style.overflow="auto",()=>document.body.style.overflow="auto"),[l]);const p=t=>{n(t),o(!0)},h=()=>{d&&f(d,{onSuccess:()=>{i.success("Hotel Deeleted Successfully"),o(!1),n(null)},onError:t=>{i.error(`Failed to delete hotel: ${t.message}`),o(!1)}})},y=()=>{o(!1),n(null)},H=()=>a("/admin/addHotels"),x=t=>{a(`/admin/edithotles/${t}`)};return c?e.jsx("p",{children:"Loading..."}):u?e.jsxs("p",{children:["Error: ",m.message]}):e.jsxs(e.Fragment,{children:[e.jsx(j,{title:"Our Premium Hotels",data:s==null?void 0:s.hotels,type:"hotel",onEdit:x,onDelete:p,onAdd:H}),e.jsx(S,{isOpen:l,onConfirm:h,onCancel:y})]})};export{M as AdminHotels};
