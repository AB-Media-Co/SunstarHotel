var v=Object.defineProperty;var r=Object.getOwnPropertySymbols;var w=Object.prototype.hasOwnProperty,F=Object.prototype.propertyIsEnumerable;var q=(t,s,a)=>s in t?v(t,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[s]=a,E=(t,s)=>{for(var a in s||(s={}))w.call(s,a)&&q(t,a,s[a]);if(r)for(var a of r(s))F.call(s,a)&&q(t,a,s[a]);return t};var o=(t,s,a)=>new Promise((n,e)=>{var u=c=>{try{d(a.next(c))}catch(p){e(p)}},i=c=>{try{d(a.throw(c))}catch(p){e(p)}},d=c=>c.done?n(c.value):Promise.resolve(c.value).then(u,i);d((a=a.apply(t,s)).next())});import{g as Q,f as l,x as g,y as m,h as y}from"./index-_uP16iPH.js";const C=(t={})=>Q(E({queryKey:["loyaltyProgram"],queryFn:()=>o(void 0,null,function*(){const s=yield l.get("/api/loyalty");return console.log(s,"ressss"),s.data}),staleTime:3e4,refetchOnWindowFocus:!1},t)),K=()=>{const t=g();return m({mutationFn:s=>o(void 0,null,function*(){return(yield l.put("/api/loyalty",s)).data}),onSuccess:s=>{y.success("Loyalty Program saved"),t.invalidateQueries({queryKey:["loyaltyProgram"]})},onError:s=>{var n,e,u,i;const a=(i=(u=(e=(n=s==null?void 0:s.response)==null?void 0:n.data)==null?void 0:e.message)!=null?u:s==null?void 0:s.message)!=null?i:"Error saving program";y.error(a)}})},P=()=>{const t=g();return m({mutationFn:s=>o(void 0,null,function*(){return(yield l.post("/api/loyalty/tiers",s)).data}),onSuccess:()=>{y.success("Tier added"),t.invalidateQueries({queryKey:["loyaltyProgram"]})},onError:s=>{var n,e,u,i;const a=(i=(u=(e=(n=s==null?void 0:s.response)==null?void 0:n.data)==null?void 0:e.message)!=null?u:s==null?void 0:s.message)!=null?i:"Error adding tier";y.error(a)}})},f=()=>{const t=g();return m({mutationFn:n=>o(void 0,[n],function*({level:s,updateData:a}){return(yield l.put(`/api/loyalty/tiers/${s}`,a)).data}),onSuccess:()=>{y.success("Tier updated"),t.invalidateQueries({queryKey:["loyaltyProgram"]})},onError:s=>{var n,e,u,i;const a=(i=(u=(e=(n=s==null?void 0:s.response)==null?void 0:n.data)==null?void 0:e.message)!=null?u:s==null?void 0:s.message)!=null?i:"Error updating tier";y.error(a)}})},L=()=>{const t=g();return m({mutationFn:s=>o(void 0,null,function*(){return(yield l.delete(`/api/loyalty/tiers/${s}`)).data}),onSuccess:()=>{y.success("Tier deleted"),t.invalidateQueries({queryKey:["loyaltyProgram"]})},onError:s=>{var n,e,u,i;const a=(i=(u=(e=(n=s==null?void 0:s.response)==null?void 0:n.data)==null?void 0:e.message)!=null?u:s==null?void 0:s.message)!=null?i:"Error deleting tier";y.error(a)}})},x=()=>{const t=g();return m({mutationFn:s=>o(void 0,null,function*(){return(yield l.post("/api/seed/loyalty",s!=null?s:{})).data}),onSuccess:()=>{y.success("Seeded loyalty program"),t.invalidateQueries({queryKey:["loyaltyProgram"]})},onError:s=>{var n,e,u,i;const a=(i=(u=(e=(n=s==null?void 0:s.response)==null?void 0:n.data)==null?void 0:e.message)!=null?u:s==null?void 0:s.message)!=null?i:"Error seeding program";y.error(a)}})};export{K as a,P as b,f as c,L as d,x as e,C as u};
