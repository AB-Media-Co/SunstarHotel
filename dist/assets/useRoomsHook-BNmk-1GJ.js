var g=(n,r,s)=>new Promise((e,t)=>{var a=o=>{try{c(s.next(o))}catch(y){t(y)}},u=o=>{try{c(s.throw(o))}catch(y){t(y)}},c=o=>o.done?e(o.value):Promise.resolve(o.value).then(a,u);c((s=s.apply(n,r)).next())});import{g as T,f as p,h as l,x as q,y as E}from"./index-_uP16iPH.js";const b=(n,r,s,e,t={})=>{var u,c,o,y,d,w;const a=!!(n&&r&&s&&e)&&((u=t.enabled)!=null?u:!0);return T({queryKey:["rooms",n,r,s,e],enabled:a,queryFn:f=>g(void 0,[f],function*({signal:i}){try{return(yield p.get("/api/ezee/syncedRooms",{params:{hotelCode:n,authCode:r,fromDate:s,toDate:e},signal:i})).data}catch(m){throw m}}),staleTime:(c=t.staleTime)!=null?c:1e3*60*5,gcTime:(o=t.gcTime)!=null?o:1e3*60*30,refetchOnWindowFocus:(y=t.refetchOnWindowFocus)!=null?y:!1,keepPreviousData:(d=t.keepPreviousData)!=null?d:!0,retry:(w=t.retry)!=null?w:1,onError:i=>{var f,m;console.log(i),l.error("Error fetching rooms: "+(((m=(f=i==null?void 0:i.response)==null?void 0:f.data)==null?void 0:m.error)||i.message))}})},h=(n,r,s,e)=>{const t=q();return E({mutationFn:a=>g(void 0,null,function*(){if(!a._id)throw new Error("Room ID (_id) is required for updating a room");return(yield p.put(`/api/ezee/rooms/${a._id}`,a,{params:{hotelCode:n,authCode:r,fromDate:s,toDate:e}})).data}),onSuccess:()=>{t.invalidateQueries({queryKey:["rooms",n,r,s,e]}),l.success("Room updated successfully")},onError:a=>{var u,c;l.error("Error updating room: "+(((c=(u=a==null?void 0:a.response)==null?void 0:u.data)==null?void 0:c.error)||a.message))}})},z=n=>g(void 0,null,function*(){var r,s;try{return(yield p.get(`/api/ezee/room/${n}`)).data}catch(e){throw l.error("Error fetching room: "+(((s=(r=e==null?void 0:e.response)==null?void 0:r.data)==null?void 0:s.error)||e.message)),e}}),_=(n,r,s,e={})=>{var a,u,c;const t=!!(n&&r&&s)&&((a=e.enabled)!=null?a:!0);return T({queryKey:["monthlyRates",n,r,s],enabled:t,queryFn:()=>g(void 0,null,function*(){try{return(yield p.get("/api/ezee/monthly-rates",{params:{hotelCode:n,authCode:r,month:s}})).data}catch(o){throw o}}),staleTime:(u=e.staleTime)!=null?u:1e3*60*30,gcTime:(c=e.gcTime)!=null?c:1e3*60*60,refetchOnWindowFocus:!1,retry:1})};export{h as a,_ as b,z as g,b as u};
