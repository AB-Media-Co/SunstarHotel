var g=(s,n,e)=>new Promise((u,t)=>{var o=a=>{try{c(e.next(a))}catch(i){t(i)}},y=a=>{try{c(e.throw(a))}catch(i){t(i)}},c=a=>a.done?u(a.value):Promise.resolve(a.value).then(o,y);c((e=e.apply(s,n)).next())});import{g as m,y as f,f as p,h as r}from"./index-Kj3knSog.js";const d=()=>f({mutationFn:s=>g(void 0,null,function*(){return(yield p.post("/api/push-booking",s)).data}),onSuccess:s=>{console.log(s),s.success&&r.success(s.message)},onError:s=>{var n,e;console.log(s),r.error(((e=(n=s==null?void 0:s.response)==null?void 0:n.data)==null?void 0:e.message)||"Failed to push booking")}}),h=({hotelCode:s,email:n,apiKey:e})=>m({queryKey:["my-bookings",s,n],queryFn:()=>g(void 0,null,function*(){var u,t;if(!s||!n||!e)return[];try{return(yield p.get("/api/seemybookings",{params:{hotelCode:s,email:n,apiKey:e}})).data}catch(o){throw r.error("Failed to fetch bookings: "+(((t=(u=o==null?void 0:o.response)==null?void 0:u.data)==null?void 0:t.message)||o.message)),o}}),enabled:!!s&&!!n&&!!e,staleTime:3e4,refetchOnWindowFocus:!1});export{h as a,d as u};
