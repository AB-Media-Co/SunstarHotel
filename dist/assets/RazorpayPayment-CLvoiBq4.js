import{K as t,bo as c,G as y,Z as r,j as f}from"./index-DsgwpIcm.js";/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x=t("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=t("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),g=()=>c({mutationFn:async e=>(await y.post("/api/payments/create",e)).data,onSuccess:()=>{r.success("Order created successfully")},onError:e=>{var a,n;r.error("Failed to create order: "+(((n=(a=e==null?void 0:e.response)==null?void 0:a.data)==null?void 0:n.message)||e.message))}}),k=()=>c({mutationFn:async e=>(await y.post("/api/payments/verify",e)).data,onSuccess:()=>{r.success("Payment verified successfully")},onError:e=>{var a,n;r.error("Payment verification failed: "+(((n=(a=e==null?void 0:e.response)==null?void 0:a.data)==null?void 0:n.message)||e.message))}}),M=({hotelDetail:e,amount:a,onSuccess:n})=>{console.log("hi");const d=g(),p=k(),i={14496:"rzp_live_KZSDFi3qOgrIgC",14492:"rzp_live_IQdcqeX4foVUM3",14494:"rzp_live_SxbRIhkDqyGEOM",14493:"rzp_live_uUlevuP8MoleGg"}[e==null?void 0:e.hotelCode],u=()=>{const m={amount:a,currency:"INR",hotelCode:e==null?void 0:e.hotelCode};d.mutate(m,{onSuccess:s=>{const z={key:i,amount:s.amount,currency:s.currency,name:e==null?void 0:e.hotelName,description:"Hotel Booking Payment",order_id:s.id,handler:function(o){const _={razorpay_order_id:o.razorpay_order_id,razorpay_payment_id:o.razorpay_payment_id,razorpay_signature:o.razorpay_signature,hotelCode:e==null?void 0:e.hotelCode};p.mutate(_,{onSuccess:()=>{r.success("Payment Verified âœ…"),n("PAID_TYPE_UNKID")}})},prefill:{name:"",email:"",contact:""},theme:{color:"#38b2ac"}};new window.Razorpay(z).open()},onError:()=>{r.error("Failed to create Razorpay order")}})};return f.jsx("button",{className:"bg-teal-600 hover:bg-teal-700 text-white font-semibold py-3 px-6 rounded-lg",onClick:u,children:"Confirm Booking"})};export{x as B,P as C,M as R};
