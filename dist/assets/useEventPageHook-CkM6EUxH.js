var r=(a,e,s)=>new Promise((t,g)=>{var l=u=>{try{p(s.next(u))}catch(d){g(d)}},v=u=>{try{p(s.throw(u))}catch(d){g(d)}},p=u=>u.done?t(u.value):Promise.resolve(u.value).then(l,v);p((s=s.apply(a,e)).next())});import{f as y,e as o,w as c,x as i,g as n}from"./index-Dkp8bbAB.js";const P=(a=!1)=>y({queryKey:["eventPages",a],queryFn:()=>r(void 0,null,function*(){const e=a?"?active=true":"";return(yield o.get(`/api/event-pages${e}`)).data}),staleTime:6e4,refetchOnWindowFocus:!1}),E=a=>y({queryKey:["eventPage",a],queryFn:()=>r(void 0,null,function*(){return(yield o.get(`/api/event-pages/${a}`)).data}),enabled:!!a,staleTime:6e4,refetchOnWindowFocus:!1}),F=()=>{const a=c();return i({mutationFn:e=>r(void 0,null,function*(){return(yield o.post("/api/event-pages",e)).data}),onSuccess:e=>{a.invalidateQueries({queryKey:["eventPages"]}),n.success("Event page created successfully")},onError:e=>{var s,t;n.error(`Failed to create page: ${((t=(s=e.response)==null?void 0:s.data)==null?void 0:t.message)||e.message}`)}})},f=()=>{const a=c();return i({mutationFn:t=>r(void 0,[t],function*({slug:e,updateData:s}){return(yield o.put(`/api/event-pages/${e}`,s)).data}),onSuccess:(e,s)=>{a.invalidateQueries({queryKey:["eventPages"]}),a.invalidateQueries({queryKey:["eventPage",s.slug]}),n.success("Event page updated successfully")},onError:e=>{var s,t;n.error(`Failed to update page: ${((t=(s=e.response)==null?void 0:s.data)==null?void 0:t.message)||e.message}`)}})},$=()=>{const a=c();return i({mutationFn:g=>r(void 0,[g],function*({slug:e,section:s,sectionData:t}){return(yield o.patch(`/api/event-pages/${e}/section/${s}`,t)).data}),onSuccess:(e,s)=>{a.invalidateQueries({queryKey:["eventPages"]}),a.invalidateQueries({queryKey:["eventPage",s.slug]}),n.success(`${s.section} updated successfully`)},onError:e=>{var s,t;n.error(`Failed to update section: ${((t=(s=e.response)==null?void 0:s.data)==null?void 0:t.message)||e.message}`)}})},w=()=>{const a=c();return i({mutationFn:e=>r(void 0,null,function*(){return(yield o.patch(`/api/event-pages/${e}/toggle-status`)).data}),onSuccess:(e,s)=>{a.invalidateQueries({queryKey:["eventPages"]}),a.invalidateQueries({queryKey:["eventPage",s]}),n.success(e.message||"Status updated successfully")},onError:e=>{var s,t;n.error(`Failed to toggle status: ${((t=(s=e.response)==null?void 0:s.data)==null?void 0:t.message)||e.message}`)}})},K=()=>{const a=c();return i({mutationFn:e=>r(void 0,null,function*(){return(yield o.delete(`/api/event-pages/${e}`)).data}),onSuccess:()=>{a.invalidateQueries({queryKey:["eventPages"]}),n.success("Event page deleted successfully")},onError:e=>{var s,t;n.error(`Failed to delete page: ${((t=(s=e.response)==null?void 0:s.data)==null?void 0:t.message)||e.message}`)}})};export{E as a,F as b,f as c,$ as d,w as e,K as f,P as u};
