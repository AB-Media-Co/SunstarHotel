import{r as l,a as v,j as e,_ as p}from"./index-D2bEG4fB.js";import{a as j,u as N}from"./axiosInstance-C7CYZqxk.js";import"./axios-upsvKRUO.js";const S=async t=>(await j.post("/api/admin/login",t)).data,L=()=>N({mutationFn:S}),I=()=>{var d,c;const[t,i]=l.useState(""),[n,x]=l.useState(""),[o,b]=l.useState(!1),h=v(),{mutate:w,isLoading:u,isError:f,error:r}=L(),y=a=>{if(a.preventDefault(),!t||!n){alert("Please enter both username and password");return}w({username:t,password:n},{onSuccess:s=>{localStorage.setItem("token",s.token),h("/admin/hotels"),p.success("logged In Successfully")},onError:s=>{var m,g;console.error("Login failed",s),p.error(((g=(m=s==null?void 0:s.response)==null?void 0:m.data)==null?void 0:g.message)||"Login failed")}})};return e.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-300",children:e.jsxs("div",{className:"bg-white p-10 rounded-xl shadow-2xl w-full max-w-md transform transition-all duration-500 hover:scale-105",children:[e.jsx("h2",{className:"text-3xl font-extrabold text-center text-gray-800 mb-8 animate-fade-in",children:"Admin Login"}),e.jsxs("form",{onSubmit:y,className:"space-y-6",children:[e.jsx("div",{className:"relative input-wrapper",children:e.jsx("input",{type:"text",placeholder:"Username",value:t,onChange:a=>i(a.target.value),className:"block w-full px-4 py-3 text-gray-900 bg-white border border-gray-300 rounded-2xl outline-none peer focus:border-blue-500 focus:ring-2 focus:ring-blue-400"})}),e.jsxs("div",{className:"relative input-wrapper",children:[e.jsx("input",{type:o?"text":"password",placeholder:"Password",value:n,onChange:a=>x(a.target.value),className:"block w-full px-4 py-3 text-gray-900 bg-white border border-gray-300 rounded-2xl outline-none peer focus:border-blue-500 focus:ring-2 focus:ring-blue-400"}),e.jsx("button",{type:"button",onClick:()=>b(!o),className:"absolute top-3 right-4 text-sm text-blue-500 hover:underline",children:o?"Hide":"Show"})]}),e.jsx("button",{type:"submit",className:"w-full py-3 text-white bg-blue-600 rounded-md shadow-md hover:bg-blue-700",disabled:u,children:u?"Logging in...":"Login"}),f&&e.jsx("p",{className:"text-red-500 mt-4 text-center",children:((c=(d=r==null?void 0:r.response)==null?void 0:d.data)==null?void 0:c.message)||"Something went wrong!"})]})]})})};export{I as AdminLogin};
